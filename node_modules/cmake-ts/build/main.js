#!/usr/bin/env node
"use strict";var eu=Object.create;var pi=Object.defineProperty;var tu=Object.getOwnPropertyDescriptor;var ru=Object.getOwnPropertyNames;var nu=Object.getPrototypeOf,iu=Object.prototype.hasOwnProperty;var su=(r,a,o,l)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of ru(a))!iu.call(r,i)&&i!==o&&pi(r,i,{get:()=>a[i],enumerable:!(l=tu(a,i))||l.enumerable});return r};var ou=(r,a,o)=>(o=r!=null?eu(nu(r)):{},su(a||!r||!r.__esModule?pi(o,"default",{value:r,enumerable:!0}):o,r));const Q=require("path"),_e=require("fs"),au=require("constants"),Ce=require("stream"),Dt=require("util"),et=require("assert"),Me=require("os"),uu=require("child_process"),qe=require("events"),Na=require("crypto"),cu=require("url"),lu=require("http"),hu=require("https"),La=require("string_decoder"),fu=require("buffer"),Ia=require("zlib"),du=require("process");var qt=typeof document<"u"?document.currentScript:null;function pu(r){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const o in r)if(o!=="default"){const l=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(a,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}return a.default=r,Object.freeze(a)}const Da=pu(uu);var Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function mu(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var a=r.default;if(typeof a=="function"){var o=function l(){return this instanceof l?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};o.prototype=a.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var i=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(o,l,i.get?i:{enumerable:!0,get:function(){return r[l]}})}),o}var Bt={},tt={},mi;function ge(){return mi||(mi=1,tt.fromCallback=function(r){return Object.defineProperty(function(...a){if(typeof a[a.length-1]=="function")r.apply(this,a);else return new Promise((o,l)=>{a.push((i,t)=>i!=null?l(i):o(t)),r.apply(this,a)})},"name",{value:r.name})},tt.fromPromise=function(r){return Object.defineProperty(function(...a){const o=a[a.length-1];if(typeof o!="function")return r.apply(this,a);a.pop(),r.apply(this,a).then(l=>o(null,l),o)},"name",{value:r.name})}),tt}var Ht,_i;function _u(){if(_i)return Ht;_i=1;var r=au,a=process.cwd,o=null,l=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=a.call(process)),o};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var i=process.chdir;process.chdir=function(e){o=null,i.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,i)}Ht=t;function t(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&n(e),e.lutimes||s(e),e.chown=y(e.chown),e.fchown=y(e.fchown),e.lchown=y(e.lchown),e.chmod=u(e.chmod),e.fchmod=u(e.fchmod),e.lchmod=u(e.lchmod),e.chownSync=f(e.chownSync),e.fchownSync=f(e.fchownSync),e.lchownSync=f(e.lchownSync),e.chmodSync=c(e.chmodSync),e.fchmodSync=c(e.fchmodSync),e.lchmodSync=c(e.lchmodSync),e.stat=O(e.stat),e.fstat=O(e.fstat),e.lstat=O(e.lstat),e.statSync=w(e.statSync),e.fstatSync=w(e.fstatSync),e.lstatSync=w(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(d,m,E){E&&process.nextTick(E)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(d,m,E,h){h&&process.nextTick(h)},e.lchownSync=function(){}),l==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(d){function m(E,h,v){var _=Date.now(),g=0;d(E,h,function p(T){if(T&&(T.code==="EACCES"||T.code==="EPERM"||T.code==="EBUSY")&&Date.now()-_<6e4){setTimeout(function(){e.stat(h,function(P,I){P&&P.code==="ENOENT"?d(E,h,p):v(T)})},g),g<100&&(g+=10);return}v&&v(T)})}return Object.setPrototypeOf&&Object.setPrototypeOf(m,d),m}(e.rename)),e.read=typeof e.read!="function"?e.read:function(d){function m(E,h,v,_,g,p){var T;if(p&&typeof p=="function"){var P=0;T=function(I,x,k){if(I&&I.code==="EAGAIN"&&P<10)return P++,d.call(e,E,h,v,_,g,T);p.apply(this,arguments)}}return d.call(e,E,h,v,_,g,T)}return Object.setPrototypeOf&&Object.setPrototypeOf(m,d),m}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(d){return function(m,E,h,v,_){for(var g=0;;)try{return d.call(e,m,E,h,v,_)}catch(p){if(p.code==="EAGAIN"&&g<10){g++;continue}throw p}}}(e.readSync);function n(d){d.lchmod=function(m,E,h){d.open(m,r.O_WRONLY|r.O_SYMLINK,E,function(v,_){if(v){h&&h(v);return}d.fchmod(_,E,function(g){d.close(_,function(p){h&&h(g||p)})})})},d.lchmodSync=function(m,E){var h=d.openSync(m,r.O_WRONLY|r.O_SYMLINK,E),v=!0,_;try{_=d.fchmodSync(h,E),v=!1}finally{if(v)try{d.closeSync(h)}catch{}else d.closeSync(h)}return _}}function s(d){r.hasOwnProperty("O_SYMLINK")&&d.futimes?(d.lutimes=function(m,E,h,v){d.open(m,r.O_SYMLINK,function(_,g){if(_){v&&v(_);return}d.futimes(g,E,h,function(p){d.close(g,function(T){v&&v(p||T)})})})},d.lutimesSync=function(m,E,h){var v=d.openSync(m,r.O_SYMLINK),_,g=!0;try{_=d.futimesSync(v,E,h),g=!1}finally{if(g)try{d.closeSync(v)}catch{}else d.closeSync(v)}return _}):d.futimes&&(d.lutimes=function(m,E,h,v){v&&process.nextTick(v)},d.lutimesSync=function(){})}function u(d){return d&&function(m,E,h){return d.call(e,m,E,function(v){S(v)&&(v=null),h&&h.apply(this,arguments)})}}function c(d){return d&&function(m,E){try{return d.call(e,m,E)}catch(h){if(!S(h))throw h}}}function y(d){return d&&function(m,E,h,v){return d.call(e,m,E,h,function(_){S(_)&&(_=null),v&&v.apply(this,arguments)})}}function f(d){return d&&function(m,E,h){try{return d.call(e,m,E,h)}catch(v){if(!S(v))throw v}}}function O(d){return d&&function(m,E,h){typeof E=="function"&&(h=E,E=null);function v(_,g){g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),h&&h.apply(this,arguments)}return E?d.call(e,m,E,v):d.call(e,m,v)}}function w(d){return d&&function(m,E){var h=E?d.call(e,m,E):d.call(e,m);return h&&(h.uid<0&&(h.uid+=4294967296),h.gid<0&&(h.gid+=4294967296)),h}}function S(d){if(!d||d.code==="ENOSYS")return!0;var m=!process.getuid||process.getuid()!==0;return!!(m&&(d.code==="EINVAL"||d.code==="EPERM"))}}return Ht}var jt,yi;function yu(){if(yi)return jt;yi=1;var r=Ce.Stream;jt=a;function a(o){return{ReadStream:l,WriteStream:i};function l(t,e){if(!(this instanceof l))return new l(t,e);r.call(this);var n=this;this.path=t,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,e=e||{};for(var s=Object.keys(e),u=0,c=s.length;u<c;u++){var y=s[u];this[y]=e[y]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){n._read()});return}o.open(this.path,this.flags,this.mode,function(f,O){if(f){n.emit("error",f),n.readable=!1;return}n.fd=O,n.emit("open",O),n._read()})}function i(t,e){if(!(this instanceof i))return new i(t,e);r.call(this),this.path=t,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,e=e||{};for(var n=Object.keys(e),s=0,u=n.length;s<u;s++){var c=n[s];this[c]=e[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=o.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return jt}var Ut,Ei;function Eu(){if(Ei)return Ut;Ei=1,Ut=a;var r=Object.getPrototypeOf||function(o){return o.__proto__};function a(o){if(o===null||typeof o!="object")return o;if(o instanceof Object)var l={__proto__:r(o)};else var l=Object.create(null);return Object.getOwnPropertyNames(o).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(o,i))}),l}return Ut}var rt,gi;function Ee(){if(gi)return rt;gi=1;var r=_e,a=_u(),o=yu(),l=Eu(),i=Dt,t,e;typeof Symbol=="function"&&typeof Symbol.for=="function"?(t=Symbol.for("graceful-fs.queue"),e=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",e="___graceful-fs.previous");function n(){}function s(d,m){Object.defineProperty(d,t,{get:function(){return m}})}var u=n;if(i.debuglog?u=i.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(u=function(){var d=i.format.apply(i,arguments);d="GFS4: "+d.split(/\n/).join(`
GFS4: `),console.error(d)}),!r[t]){var c=Ne[t]||[];s(r,c),r.close=function(d){function m(E,h){return d.call(r,E,function(v){v||w(),typeof h=="function"&&h.apply(this,arguments)})}return Object.defineProperty(m,e,{value:d}),m}(r.close),r.closeSync=function(d){function m(E){d.apply(r,arguments),w()}return Object.defineProperty(m,e,{value:d}),m}(r.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){u(r[t]),et.equal(r[t].length,0)})}Ne[t]||s(Ne,r[t]),rt=y(l(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(rt=y(r),r.__patched=!0);function y(d){a(d),d.gracefulify=y,d.createReadStream=R,d.createWriteStream=b;var m=d.readFile;d.readFile=E;function E(M,L,j){return typeof L=="function"&&(j=L,L=null),U(M,L,j);function U(F,q,Y,J){return m(F,q,function(ne){ne&&(ne.code==="EMFILE"||ne.code==="ENFILE")?f([U,[F,q,Y],ne,J||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var h=d.writeFile;d.writeFile=v;function v(M,L,j,U){return typeof j=="function"&&(U=j,j=null),F(M,L,j,U);function F(q,Y,J,ne,oe){return h(q,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?f([F,[q,Y,J,ne],Z,oe||Date.now(),Date.now()]):typeof ne=="function"&&ne.apply(this,arguments)})}}var _=d.appendFile;_&&(d.appendFile=g);function g(M,L,j,U){return typeof j=="function"&&(U=j,j=null),F(M,L,j,U);function F(q,Y,J,ne,oe){return _(q,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?f([F,[q,Y,J,ne],Z,oe||Date.now(),Date.now()]):typeof ne=="function"&&ne.apply(this,arguments)})}}var p=d.copyFile;p&&(d.copyFile=T);function T(M,L,j,U){return typeof j=="function"&&(U=j,j=0),F(M,L,j,U);function F(q,Y,J,ne,oe){return p(q,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?f([F,[q,Y,J,ne],Z,oe||Date.now(),Date.now()]):typeof ne=="function"&&ne.apply(this,arguments)})}}var P=d.readdir;d.readdir=x;var I=/^v[0-5]\./;function x(M,L,j){typeof L=="function"&&(j=L,L=null);var U=I.test(process.version)?function(Y,J,ne,oe){return P(Y,F(Y,J,ne,oe))}:function(Y,J,ne,oe){return P(Y,J,F(Y,J,ne,oe))};return U(M,L,j);function F(q,Y,J,ne){return function(oe,Z){oe&&(oe.code==="EMFILE"||oe.code==="ENFILE")?f([U,[q,Y,J],oe,ne||Date.now(),Date.now()]):(Z&&Z.sort&&Z.sort(),typeof J=="function"&&J.call(this,oe,Z))}}}if(process.version.substr(0,4)==="v0.8"){var k=o(d);B=k.ReadStream,V=k.WriteStream}var N=d.ReadStream;N&&(B.prototype=Object.create(N.prototype),B.prototype.open=G);var $=d.WriteStream;$&&(V.prototype=Object.create($.prototype),V.prototype.open=H),Object.defineProperty(d,"ReadStream",{get:function(){return B},set:function(M){B=M},enumerable:!0,configurable:!0}),Object.defineProperty(d,"WriteStream",{get:function(){return V},set:function(M){V=M},enumerable:!0,configurable:!0});var C=B;Object.defineProperty(d,"FileReadStream",{get:function(){return C},set:function(M){C=M},enumerable:!0,configurable:!0});var D=V;Object.defineProperty(d,"FileWriteStream",{get:function(){return D},set:function(M){D=M},enumerable:!0,configurable:!0});function B(M,L){return this instanceof B?(N.apply(this,arguments),this):B.apply(Object.create(B.prototype),arguments)}function G(){var M=this;te(M.path,M.flags,M.mode,function(L,j){L?(M.autoClose&&M.destroy(),M.emit("error",L)):(M.fd=j,M.emit("open",j),M.read())})}function V(M,L){return this instanceof V?($.apply(this,arguments),this):V.apply(Object.create(V.prototype),arguments)}function H(){var M=this;te(M.path,M.flags,M.mode,function(L,j){L?(M.destroy(),M.emit("error",L)):(M.fd=j,M.emit("open",j))})}function R(M,L){return new d.ReadStream(M,L)}function b(M,L){return new d.WriteStream(M,L)}var z=d.open;d.open=te;function te(M,L,j,U){return typeof j=="function"&&(U=j,j=null),F(M,L,j,U);function F(q,Y,J,ne,oe){return z(q,Y,J,function(Z,A){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?f([F,[q,Y,J,ne],Z,oe||Date.now(),Date.now()]):typeof ne=="function"&&ne.apply(this,arguments)})}}return d}function f(d){u("ENQUEUE",d[0].name,d[1]),r[t].push(d),S()}var O;function w(){for(var d=Date.now(),m=0;m<r[t].length;++m)r[t][m].length>2&&(r[t][m][3]=d,r[t][m][4]=d);S()}function S(){if(clearTimeout(O),O=void 0,r[t].length!==0){var d=r[t].shift(),m=d[0],E=d[1],h=d[2],v=d[3],_=d[4];if(v===void 0)u("RETRY",m.name,E),m.apply(null,E);else if(Date.now()-v>=6e4){u("TIMEOUT",m.name,E);var g=E.pop();typeof g=="function"&&g.call(null,h)}else{var p=Date.now()-_,T=Math.max(_-v,1),P=Math.min(T*1.2,100);p>=P?(u("RETRY",m.name,E),m.apply(null,E.concat([v]))):r[t].push(d)}O===void 0&&(O=setTimeout(S,0))}}return rt}var vi;function Be(){return vi||(vi=1,function(r){const a=ge().fromCallback,o=Ee(),l=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof o[i]=="function");Object.assign(r,o),l.forEach(i=>{r[i]=a(o[i])}),r.exists=function(i,t){return typeof t=="function"?o.exists(i,t):new Promise(e=>o.exists(i,e))},r.read=function(i,t,e,n,s,u){return typeof u=="function"?o.read(i,t,e,n,s,u):new Promise((c,y)=>{o.read(i,t,e,n,s,(f,O,w)=>{if(f)return y(f);c({bytesRead:O,buffer:w})})})},r.write=function(i,t,...e){return typeof e[e.length-1]=="function"?o.write(i,t,...e):new Promise((n,s)=>{o.write(i,t,...e,(u,c,y)=>{if(u)return s(u);n({bytesWritten:c,buffer:y})})})},typeof o.writev=="function"&&(r.writev=function(i,t,...e){return typeof e[e.length-1]=="function"?o.writev(i,t,...e):new Promise((n,s)=>{o.writev(i,t,...e,(u,c,y)=>{if(u)return s(u);n({bytesWritten:c,buffers:y})})})}),typeof o.realpath.native=="function"?r.realpath.native=a(o.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(Bt)),Bt}var nt={},Gt={},Si;function gu(){if(Si)return Gt;Si=1;const r=Q;return Gt.checkPath=function(o){if(process.platform==="win32"&&/[<>:"|?*]/.test(o.replace(r.parse(o).root,""))){const i=new Error(`Path contains invalid characters: ${o}`);throw i.code="EINVAL",i}},Gt}var Ri;function vu(){if(Ri)return nt;Ri=1;const r=Be(),{checkPath:a}=gu(),o=l=>{const i={mode:511};return typeof l=="number"?l:{...i,...l}.mode};return nt.makeDir=async(l,i)=>(a(l),r.mkdir(l,{mode:o(i),recursive:!0})),nt.makeDirSync=(l,i)=>(a(l),r.mkdirSync(l,{mode:o(i),recursive:!0})),nt}var Wt,wi;function Re(){if(wi)return Wt;wi=1;const r=ge().fromPromise,{makeDir:a,makeDirSync:o}=vu(),l=r(a);return Wt={mkdirs:l,mkdirsSync:o,mkdirp:l,mkdirpSync:o,ensureDir:l,ensureDirSync:o},Wt}var Vt,Oi;function $e(){if(Oi)return Vt;Oi=1;const r=ge().fromPromise,a=Be();function o(l){return a.access(l).then(()=>!0).catch(()=>!1)}return Vt={pathExists:r(o),pathExistsSync:a.existsSync},Vt}var zt,Ai;function Ca(){if(Ai)return zt;Ai=1;const r=Ee();function a(l,i,t,e){r.open(l,"r+",(n,s)=>{if(n)return e(n);r.futimes(s,i,t,u=>{r.close(s,c=>{e&&e(u||c)})})})}function o(l,i,t){const e=r.openSync(l,"r+");return r.futimesSync(e,i,t),r.closeSync(e)}return zt={utimesMillis:a,utimesMillisSync:o},zt}var Yt,Ti;function He(){if(Ti)return Yt;Ti=1;const r=Be(),a=Q,o=Dt;function l(f,O,w){const S=w.dereference?d=>r.stat(d,{bigint:!0}):d=>r.lstat(d,{bigint:!0});return Promise.all([S(f),S(O).catch(d=>{if(d.code==="ENOENT")return null;throw d})]).then(([d,m])=>({srcStat:d,destStat:m}))}function i(f,O,w){let S;const d=w.dereference?E=>r.statSync(E,{bigint:!0}):E=>r.lstatSync(E,{bigint:!0}),m=d(f);try{S=d(O)}catch(E){if(E.code==="ENOENT")return{srcStat:m,destStat:null};throw E}return{srcStat:m,destStat:S}}function t(f,O,w,S,d){o.callbackify(l)(f,O,S,(m,E)=>{if(m)return d(m);const{srcStat:h,destStat:v}=E;if(v){if(u(h,v)){const _=a.basename(f),g=a.basename(O);return w==="move"&&_!==g&&_.toLowerCase()===g.toLowerCase()?d(null,{srcStat:h,destStat:v,isChangingCase:!0}):d(new Error("Source and destination must not be the same."))}if(h.isDirectory()&&!v.isDirectory())return d(new Error(`Cannot overwrite non-directory '${O}' with directory '${f}'.`));if(!h.isDirectory()&&v.isDirectory())return d(new Error(`Cannot overwrite directory '${O}' with non-directory '${f}'.`))}return h.isDirectory()&&c(f,O)?d(new Error(y(f,O,w))):d(null,{srcStat:h,destStat:v})})}function e(f,O,w,S){const{srcStat:d,destStat:m}=i(f,O,S);if(m){if(u(d,m)){const E=a.basename(f),h=a.basename(O);if(w==="move"&&E!==h&&E.toLowerCase()===h.toLowerCase())return{srcStat:d,destStat:m,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(d.isDirectory()&&!m.isDirectory())throw new Error(`Cannot overwrite non-directory '${O}' with directory '${f}'.`);if(!d.isDirectory()&&m.isDirectory())throw new Error(`Cannot overwrite directory '${O}' with non-directory '${f}'.`)}if(d.isDirectory()&&c(f,O))throw new Error(y(f,O,w));return{srcStat:d,destStat:m}}function n(f,O,w,S,d){const m=a.resolve(a.dirname(f)),E=a.resolve(a.dirname(w));if(E===m||E===a.parse(E).root)return d();r.stat(E,{bigint:!0},(h,v)=>h?h.code==="ENOENT"?d():d(h):u(O,v)?d(new Error(y(f,w,S))):n(f,O,E,S,d))}function s(f,O,w,S){const d=a.resolve(a.dirname(f)),m=a.resolve(a.dirname(w));if(m===d||m===a.parse(m).root)return;let E;try{E=r.statSync(m,{bigint:!0})}catch(h){if(h.code==="ENOENT")return;throw h}if(u(O,E))throw new Error(y(f,w,S));return s(f,O,m,S)}function u(f,O){return O.ino&&O.dev&&O.ino===f.ino&&O.dev===f.dev}function c(f,O){const w=a.resolve(f).split(a.sep).filter(d=>d),S=a.resolve(O).split(a.sep).filter(d=>d);return w.reduce((d,m,E)=>d&&S[E]===m,!0)}function y(f,O,w){return`Cannot ${w} '${f}' to a subdirectory of itself, '${O}'.`}return Yt={checkPaths:t,checkPathsSync:e,checkParentPaths:n,checkParentPathsSync:s,isSrcSubdir:c,areIdentical:u},Yt}var Kt,Pi;function Su(){if(Pi)return Kt;Pi=1;const r=Ee(),a=Q,o=Re().mkdirs,l=$e().pathExists,i=Ca().utimesMillis,t=He();function e(x,k,N,$){typeof N=="function"&&!$?($=N,N={}):typeof N=="function"&&(N={filter:N}),$=$||function(){},N=N||{},N.clobber="clobber"in N?!!N.clobber:!0,N.overwrite="overwrite"in N?!!N.overwrite:N.clobber,N.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),t.checkPaths(x,k,"copy",N,(C,D)=>{if(C)return $(C);const{srcStat:B,destStat:G}=D;t.checkParentPaths(x,B,k,"copy",V=>V?$(V):N.filter?s(n,G,x,k,N,$):n(G,x,k,N,$))})}function n(x,k,N,$,C){const D=a.dirname(N);l(D,(B,G)=>{if(B)return C(B);if(G)return c(x,k,N,$,C);o(D,V=>V?C(V):c(x,k,N,$,C))})}function s(x,k,N,$,C,D){Promise.resolve(C.filter(N,$)).then(B=>B?x(k,N,$,C,D):D(),B=>D(B))}function u(x,k,N,$,C){return $.filter?s(c,x,k,N,$,C):c(x,k,N,$,C)}function c(x,k,N,$,C){($.dereference?r.stat:r.lstat)(k,(B,G)=>B?C(B):G.isDirectory()?v(G,x,k,N,$,C):G.isFile()||G.isCharacterDevice()||G.isBlockDevice()?y(G,x,k,N,$,C):G.isSymbolicLink()?P(x,k,N,$,C):G.isSocket()?C(new Error(`Cannot copy a socket file: ${k}`)):G.isFIFO()?C(new Error(`Cannot copy a FIFO pipe: ${k}`)):C(new Error(`Unknown file: ${k}`)))}function y(x,k,N,$,C,D){return k?f(x,N,$,C,D):O(x,N,$,C,D)}function f(x,k,N,$,C){if($.overwrite)r.unlink(N,D=>D?C(D):O(x,k,N,$,C));else return $.errorOnExist?C(new Error(`'${N}' already exists`)):C()}function O(x,k,N,$,C){r.copyFile(k,N,D=>D?C(D):$.preserveTimestamps?w(x.mode,k,N,C):E(N,x.mode,C))}function w(x,k,N,$){return S(x)?d(N,x,C=>C?$(C):m(x,k,N,$)):m(x,k,N,$)}function S(x){return(x&128)===0}function d(x,k,N){return E(x,k|128,N)}function m(x,k,N,$){h(k,N,C=>C?$(C):E(N,x,$))}function E(x,k,N){return r.chmod(x,k,N)}function h(x,k,N){r.stat(x,($,C)=>$?N($):i(k,C.atime,C.mtime,N))}function v(x,k,N,$,C,D){return k?g(N,$,C,D):_(x.mode,N,$,C,D)}function _(x,k,N,$,C){r.mkdir(N,D=>{if(D)return C(D);g(k,N,$,B=>B?C(B):E(N,x,C))})}function g(x,k,N,$){r.readdir(x,(C,D)=>C?$(C):p(D,x,k,N,$))}function p(x,k,N,$,C){const D=x.pop();return D?T(x,D,k,N,$,C):C()}function T(x,k,N,$,C,D){const B=a.join(N,k),G=a.join($,k);t.checkPaths(B,G,"copy",C,(V,H)=>{if(V)return D(V);const{destStat:R}=H;u(R,B,G,C,b=>b?D(b):p(x,N,$,C,D))})}function P(x,k,N,$,C){r.readlink(k,(D,B)=>{if(D)return C(D);if($.dereference&&(B=a.resolve(process.cwd(),B)),x)r.readlink(N,(G,V)=>G?G.code==="EINVAL"||G.code==="UNKNOWN"?r.symlink(B,N,C):C(G):($.dereference&&(V=a.resolve(process.cwd(),V)),t.isSrcSubdir(B,V)?C(new Error(`Cannot copy '${B}' to a subdirectory of itself, '${V}'.`)):x.isDirectory()&&t.isSrcSubdir(V,B)?C(new Error(`Cannot overwrite '${V}' with '${B}'.`)):I(B,N,C)));else return r.symlink(B,N,C)})}function I(x,k,N){r.unlink(k,$=>$?N($):r.symlink(x,k,N))}return Kt=e,Kt}var Xt,bi;function Ru(){if(bi)return Xt;bi=1;const r=Ee(),a=Q,o=Re().mkdirsSync,l=Ca().utimesMillisSync,i=He();function t(p,T,P){typeof P=="function"&&(P={filter:P}),P=P||{},P.clobber="clobber"in P?!!P.clobber:!0,P.overwrite="overwrite"in P?!!P.overwrite:P.clobber,P.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:I,destStat:x}=i.checkPathsSync(p,T,"copy",P);return i.checkParentPathsSync(p,I,T,"copy"),e(x,p,T,P)}function e(p,T,P,I){if(I.filter&&!I.filter(T,P))return;const x=a.dirname(P);return r.existsSync(x)||o(x),s(p,T,P,I)}function n(p,T,P,I){if(!(I.filter&&!I.filter(T,P)))return s(p,T,P,I)}function s(p,T,P,I){const k=(I.dereference?r.statSync:r.lstatSync)(T);if(k.isDirectory())return m(k,p,T,P,I);if(k.isFile()||k.isCharacterDevice()||k.isBlockDevice())return u(k,p,T,P,I);if(k.isSymbolicLink())return _(p,T,P,I);throw k.isSocket()?new Error(`Cannot copy a socket file: ${T}`):k.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${T}`):new Error(`Unknown file: ${T}`)}function u(p,T,P,I,x){return T?c(p,P,I,x):y(p,P,I,x)}function c(p,T,P,I){if(I.overwrite)return r.unlinkSync(P),y(p,T,P,I);if(I.errorOnExist)throw new Error(`'${P}' already exists`)}function y(p,T,P,I){return r.copyFileSync(T,P),I.preserveTimestamps&&f(p.mode,T,P),S(P,p.mode)}function f(p,T,P){return O(p)&&w(P,p),d(T,P)}function O(p){return(p&128)===0}function w(p,T){return S(p,T|128)}function S(p,T){return r.chmodSync(p,T)}function d(p,T){const P=r.statSync(p);return l(T,P.atime,P.mtime)}function m(p,T,P,I,x){return T?h(P,I,x):E(p.mode,P,I,x)}function E(p,T,P,I){return r.mkdirSync(P),h(T,P,I),S(P,p)}function h(p,T,P){r.readdirSync(p).forEach(I=>v(I,p,T,P))}function v(p,T,P,I){const x=a.join(T,p),k=a.join(P,p),{destStat:N}=i.checkPathsSync(x,k,"copy",I);return n(N,x,k,I)}function _(p,T,P,I){let x=r.readlinkSync(T);if(I.dereference&&(x=a.resolve(process.cwd(),x)),p){let k;try{k=r.readlinkSync(P)}catch(N){if(N.code==="EINVAL"||N.code==="UNKNOWN")return r.symlinkSync(x,P);throw N}if(I.dereference&&(k=a.resolve(process.cwd(),k)),i.isSrcSubdir(x,k))throw new Error(`Cannot copy '${x}' to a subdirectory of itself, '${k}'.`);if(r.statSync(P).isDirectory()&&i.isSrcSubdir(k,x))throw new Error(`Cannot overwrite '${k}' with '${x}'.`);return g(x,P)}else return r.symlinkSync(x,P)}function g(p,T){return r.unlinkSync(T),r.symlinkSync(p,T)}return Xt=t,Xt}var Zt,Ni;function Zn(){if(Ni)return Zt;Ni=1;const r=ge().fromCallback;return Zt={copy:r(Su()),copySync:Ru()},Zt}var Jt,Li;function wu(){if(Li)return Jt;Li=1;const r=Ee(),a=Q,o=et,l=process.platform==="win32";function i(w){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(d=>{w[d]=w[d]||r[d],d=d+"Sync",w[d]=w[d]||r[d]}),w.maxBusyTries=w.maxBusyTries||3}function t(w,S,d){let m=0;typeof S=="function"&&(d=S,S={}),o(w,"rimraf: missing path"),o.strictEqual(typeof w,"string","rimraf: path should be a string"),o.strictEqual(typeof d,"function","rimraf: callback function required"),o(S,"rimraf: invalid options argument provided"),o.strictEqual(typeof S,"object","rimraf: options should be object"),i(S),e(w,S,function E(h){if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&m<S.maxBusyTries){m++;const v=m*100;return setTimeout(()=>e(w,S,E),v)}h.code==="ENOENT"&&(h=null)}d(h)})}function e(w,S,d){o(w),o(S),o(typeof d=="function"),S.lstat(w,(m,E)=>{if(m&&m.code==="ENOENT")return d(null);if(m&&m.code==="EPERM"&&l)return n(w,S,m,d);if(E&&E.isDirectory())return u(w,S,m,d);S.unlink(w,h=>{if(h){if(h.code==="ENOENT")return d(null);if(h.code==="EPERM")return l?n(w,S,h,d):u(w,S,h,d);if(h.code==="EISDIR")return u(w,S,h,d)}return d(h)})})}function n(w,S,d,m){o(w),o(S),o(typeof m=="function"),S.chmod(w,438,E=>{E?m(E.code==="ENOENT"?null:d):S.stat(w,(h,v)=>{h?m(h.code==="ENOENT"?null:d):v.isDirectory()?u(w,S,d,m):S.unlink(w,m)})})}function s(w,S,d){let m;o(w),o(S);try{S.chmodSync(w,438)}catch(E){if(E.code==="ENOENT")return;throw d}try{m=S.statSync(w)}catch(E){if(E.code==="ENOENT")return;throw d}m.isDirectory()?f(w,S,d):S.unlinkSync(w)}function u(w,S,d,m){o(w),o(S),o(typeof m=="function"),S.rmdir(w,E=>{E&&(E.code==="ENOTEMPTY"||E.code==="EEXIST"||E.code==="EPERM")?c(w,S,m):E&&E.code==="ENOTDIR"?m(d):m(E)})}function c(w,S,d){o(w),o(S),o(typeof d=="function"),S.readdir(w,(m,E)=>{if(m)return d(m);let h=E.length,v;if(h===0)return S.rmdir(w,d);E.forEach(_=>{t(a.join(w,_),S,g=>{if(!v){if(g)return d(v=g);--h===0&&S.rmdir(w,d)}})})})}function y(w,S){let d;S=S||{},i(S),o(w,"rimraf: missing path"),o.strictEqual(typeof w,"string","rimraf: path should be a string"),o(S,"rimraf: missing options"),o.strictEqual(typeof S,"object","rimraf: options should be object");try{d=S.lstatSync(w)}catch(m){if(m.code==="ENOENT")return;m.code==="EPERM"&&l&&s(w,S,m)}try{d&&d.isDirectory()?f(w,S,null):S.unlinkSync(w)}catch(m){if(m.code==="ENOENT")return;if(m.code==="EPERM")return l?s(w,S,m):f(w,S,m);if(m.code!=="EISDIR")throw m;f(w,S,m)}}function f(w,S,d){o(w),o(S);try{S.rmdirSync(w)}catch(m){if(m.code==="ENOTDIR")throw d;if(m.code==="ENOTEMPTY"||m.code==="EEXIST"||m.code==="EPERM")O(w,S);else if(m.code!=="ENOENT")throw m}}function O(w,S){if(o(w),o(S),S.readdirSync(w).forEach(d=>y(a.join(w,d),S)),l){const d=Date.now();do try{return S.rmdirSync(w,S)}catch{}while(Date.now()-d<500)}else return S.rmdirSync(w,S)}return Jt=t,t.sync=y,Jt}var Qt,Ii;function Ct(){if(Ii)return Qt;Ii=1;const r=Ee(),a=ge().fromCallback,o=wu();function l(t,e){if(r.rm)return r.rm(t,{recursive:!0,force:!0},e);o(t,e)}function i(t){if(r.rmSync)return r.rmSync(t,{recursive:!0,force:!0});o.sync(t)}return Qt={remove:a(l),removeSync:i},Qt}var er,Di;function Ou(){if(Di)return er;Di=1;const r=ge().fromPromise,a=Be(),o=Q,l=Re(),i=Ct(),t=r(async function(s){let u;try{u=await a.readdir(s)}catch{return l.mkdirs(s)}return Promise.all(u.map(c=>i.remove(o.join(s,c))))});function e(n){let s;try{s=a.readdirSync(n)}catch{return l.mkdirsSync(n)}s.forEach(u=>{u=o.join(n,u),i.removeSync(u)})}return er={emptyDirSync:e,emptydirSync:e,emptyDir:t,emptydir:t},er}var tr,Ci;function Au(){if(Ci)return tr;Ci=1;const r=ge().fromCallback,a=Q,o=Ee(),l=Re();function i(e,n){function s(){o.writeFile(e,"",u=>{if(u)return n(u);n()})}o.stat(e,(u,c)=>{if(!u&&c.isFile())return n();const y=a.dirname(e);o.stat(y,(f,O)=>{if(f)return f.code==="ENOENT"?l.mkdirs(y,w=>{if(w)return n(w);s()}):n(f);O.isDirectory()?s():o.readdir(y,w=>{if(w)return n(w)})})})}function t(e){let n;try{n=o.statSync(e)}catch{}if(n&&n.isFile())return;const s=a.dirname(e);try{o.statSync(s).isDirectory()||o.readdirSync(s)}catch(u){if(u&&u.code==="ENOENT")l.mkdirsSync(s);else throw u}o.writeFileSync(e,"")}return tr={createFile:r(i),createFileSync:t},tr}var rr,$i;function Tu(){if($i)return rr;$i=1;const r=ge().fromCallback,a=Q,o=Ee(),l=Re(),i=$e().pathExists,{areIdentical:t}=He();function e(s,u,c){function y(f,O){o.link(f,O,w=>{if(w)return c(w);c(null)})}o.lstat(u,(f,O)=>{o.lstat(s,(w,S)=>{if(w)return w.message=w.message.replace("lstat","ensureLink"),c(w);if(O&&t(S,O))return c(null);const d=a.dirname(u);i(d,(m,E)=>{if(m)return c(m);if(E)return y(s,u);l.mkdirs(d,h=>{if(h)return c(h);y(s,u)})})})})}function n(s,u){let c;try{c=o.lstatSync(u)}catch{}try{const O=o.lstatSync(s);if(c&&t(O,c))return}catch(O){throw O.message=O.message.replace("lstat","ensureLink"),O}const y=a.dirname(u);return o.existsSync(y)||l.mkdirsSync(y),o.linkSync(s,u)}return rr={createLink:r(e),createLinkSync:n},rr}var nr,xi;function Pu(){if(xi)return nr;xi=1;const r=Q,a=Ee(),o=$e().pathExists;function l(t,e,n){if(r.isAbsolute(t))return a.lstat(t,s=>s?(s.message=s.message.replace("lstat","ensureSymlink"),n(s)):n(null,{toCwd:t,toDst:t}));{const s=r.dirname(e),u=r.join(s,t);return o(u,(c,y)=>c?n(c):y?n(null,{toCwd:u,toDst:t}):a.lstat(t,f=>f?(f.message=f.message.replace("lstat","ensureSymlink"),n(f)):n(null,{toCwd:t,toDst:r.relative(s,t)})))}}function i(t,e){let n;if(r.isAbsolute(t)){if(n=a.existsSync(t),!n)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{const s=r.dirname(e),u=r.join(s,t);if(n=a.existsSync(u),n)return{toCwd:u,toDst:t};if(n=a.existsSync(t),!n)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(s,t)}}}return nr={symlinkPaths:l,symlinkPathsSync:i},nr}var ir,Fi;function bu(){if(Fi)return ir;Fi=1;const r=Ee();function a(l,i,t){if(t=typeof i=="function"?i:t,i=typeof i=="function"?!1:i,i)return t(null,i);r.lstat(l,(e,n)=>{if(e)return t(null,"file");i=n&&n.isDirectory()?"dir":"file",t(null,i)})}function o(l,i){let t;if(i)return i;try{t=r.lstatSync(l)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}return ir={symlinkType:a,symlinkTypeSync:o},ir}var sr,ki;function Nu(){if(ki)return sr;ki=1;const r=ge().fromCallback,a=Q,o=Be(),l=Re(),i=l.mkdirs,t=l.mkdirsSync,e=Pu(),n=e.symlinkPaths,s=e.symlinkPathsSync,u=bu(),c=u.symlinkType,y=u.symlinkTypeSync,f=$e().pathExists,{areIdentical:O}=He();function w(m,E,h,v){v=typeof h=="function"?h:v,h=typeof h=="function"?!1:h,o.lstat(E,(_,g)=>{!_&&g.isSymbolicLink()?Promise.all([o.stat(m),o.stat(E)]).then(([p,T])=>{if(O(p,T))return v(null);S(m,E,h,v)}):S(m,E,h,v)})}function S(m,E,h,v){n(m,E,(_,g)=>{if(_)return v(_);m=g.toDst,c(g.toCwd,h,(p,T)=>{if(p)return v(p);const P=a.dirname(E);f(P,(I,x)=>{if(I)return v(I);if(x)return o.symlink(m,E,T,v);i(P,k=>{if(k)return v(k);o.symlink(m,E,T,v)})})})})}function d(m,E,h){let v;try{v=o.lstatSync(E)}catch{}if(v&&v.isSymbolicLink()){const T=o.statSync(m),P=o.statSync(E);if(O(T,P))return}const _=s(m,E);m=_.toDst,h=y(_.toCwd,h);const g=a.dirname(E);return o.existsSync(g)||t(g),o.symlinkSync(m,E,h)}return sr={createSymlink:r(w),createSymlinkSync:d},sr}var or,Mi;function Lu(){if(Mi)return or;Mi=1;const{createFile:r,createFileSync:a}=Au(),{createLink:o,createLinkSync:l}=Tu(),{createSymlink:i,createSymlinkSync:t}=Nu();return or={createFile:r,createFileSync:a,ensureFile:r,ensureFileSync:a,createLink:o,createLinkSync:l,ensureLink:o,ensureLinkSync:l,createSymlink:i,createSymlinkSync:t,ensureSymlink:i,ensureSymlinkSync:t},or}var ar,qi;function Jn(){if(qi)return ar;qi=1;function r(o,{EOL:l=`
`,finalEOL:i=!0,replacer:t=null,spaces:e}={}){const n=i?l:"";return JSON.stringify(o,t,e).replace(/\n/g,l)+n}function a(o){return Buffer.isBuffer(o)&&(o=o.toString("utf8")),o.replace(/^\uFEFF/,"")}return ar={stringify:r,stripBom:a},ar}var ur,Bi;function Iu(){if(Bi)return ur;Bi=1;let r;try{r=Ee()}catch{r=_e}const a=ge(),{stringify:o,stripBom:l}=Jn();async function i(y,f={}){typeof f=="string"&&(f={encoding:f});const O=f.fs||r,w="throws"in f?f.throws:!0;let S=await a.fromCallback(O.readFile)(y,f);S=l(S);let d;try{d=JSON.parse(S,f?f.reviver:null)}catch(m){if(w)throw m.message=`${y}: ${m.message}`,m;return null}return d}const t=a.fromPromise(i);function e(y,f={}){typeof f=="string"&&(f={encoding:f});const O=f.fs||r,w="throws"in f?f.throws:!0;try{let S=O.readFileSync(y,f);return S=l(S),JSON.parse(S,f.reviver)}catch(S){if(w)throw S.message=`${y}: ${S.message}`,S;return null}}async function n(y,f,O={}){const w=O.fs||r,S=o(f,O);await a.fromCallback(w.writeFile)(y,S,O)}const s=a.fromPromise(n);function u(y,f,O={}){const w=O.fs||r,S=o(f,O);return w.writeFileSync(y,S,O)}return ur={readFile:t,readFileSync:e,writeFile:s,writeFileSync:u},ur}var cr,Hi;function Du(){if(Hi)return cr;Hi=1;const r=Iu();return cr={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync},cr}var lr,ji;function Qn(){if(ji)return lr;ji=1;const r=ge().fromCallback,a=Ee(),o=Q,l=Re(),i=$e().pathExists;function t(n,s,u,c){typeof u=="function"&&(c=u,u="utf8");const y=o.dirname(n);i(y,(f,O)=>{if(f)return c(f);if(O)return a.writeFile(n,s,u,c);l.mkdirs(y,w=>{if(w)return c(w);a.writeFile(n,s,u,c)})})}function e(n,...s){const u=o.dirname(n);if(a.existsSync(u))return a.writeFileSync(n,...s);l.mkdirsSync(u),a.writeFileSync(n,...s)}return lr={outputFile:r(t),outputFileSync:e},lr}var hr,Ui;function Cu(){if(Ui)return hr;Ui=1;const{stringify:r}=Jn(),{outputFile:a}=Qn();async function o(l,i,t={}){const e=r(i,t);await a(l,e,t)}return hr=o,hr}var fr,Gi;function $u(){if(Gi)return fr;Gi=1;const{stringify:r}=Jn(),{outputFileSync:a}=Qn();function o(l,i,t){const e=r(i,t);a(l,e,t)}return fr=o,fr}var dr,Wi;function xu(){if(Wi)return dr;Wi=1;const r=ge().fromPromise,a=Du();return a.outputJson=r(Cu()),a.outputJsonSync=$u(),a.outputJSON=a.outputJson,a.outputJSONSync=a.outputJsonSync,a.writeJSON=a.writeJson,a.writeJSONSync=a.writeJsonSync,a.readJSON=a.readJson,a.readJSONSync=a.readJsonSync,dr=a,dr}var pr,Vi;function Fu(){if(Vi)return pr;Vi=1;const r=Ee(),a=Q,o=Zn().copy,l=Ct().remove,i=Re().mkdirp,t=$e().pathExists,e=He();function n(f,O,w,S){typeof w=="function"&&(S=w,w={}),w=w||{};const d=w.overwrite||w.clobber||!1;e.checkPaths(f,O,"move",w,(m,E)=>{if(m)return S(m);const{srcStat:h,isChangingCase:v=!1}=E;e.checkParentPaths(f,h,O,"move",_=>{if(_)return S(_);if(s(O))return u(f,O,d,v,S);i(a.dirname(O),g=>g?S(g):u(f,O,d,v,S))})})}function s(f){const O=a.dirname(f);return a.parse(O).root===O}function u(f,O,w,S,d){if(S)return c(f,O,w,d);if(w)return l(O,m=>m?d(m):c(f,O,w,d));t(O,(m,E)=>m?d(m):E?d(new Error("dest already exists.")):c(f,O,w,d))}function c(f,O,w,S){r.rename(f,O,d=>d?d.code!=="EXDEV"?S(d):y(f,O,w,S):S())}function y(f,O,w,S){o(f,O,{overwrite:w,errorOnExist:!0},m=>m?S(m):l(f,S))}return pr=n,pr}var mr,zi;function ku(){if(zi)return mr;zi=1;const r=Ee(),a=Q,o=Zn().copySync,l=Ct().removeSync,i=Re().mkdirpSync,t=He();function e(y,f,O){O=O||{};const w=O.overwrite||O.clobber||!1,{srcStat:S,isChangingCase:d=!1}=t.checkPathsSync(y,f,"move",O);return t.checkParentPathsSync(y,S,f,"move"),n(f)||i(a.dirname(f)),s(y,f,w,d)}function n(y){const f=a.dirname(y);return a.parse(f).root===f}function s(y,f,O,w){if(w)return u(y,f,O);if(O)return l(f),u(y,f,O);if(r.existsSync(f))throw new Error("dest already exists.");return u(y,f,O)}function u(y,f,O){try{r.renameSync(y,f)}catch(w){if(w.code!=="EXDEV")throw w;return c(y,f,O)}}function c(y,f,O){return o(y,f,{overwrite:O,errorOnExist:!0}),l(y)}return mr=e,mr}var _r,Yi;function Mu(){if(Yi)return _r;Yi=1;const r=ge().fromCallback;return _r={move:r(Fu()),moveSync:ku()},_r}var yr,Ki;function qu(){return Ki||(Ki=1,yr={...Be(),...Zn(),...Ou(),...Lu(),...xu(),...Re(),...Mu(),...Qn(),...$e(),...Ct()}),yr}var le=qu(),Er,Xi;function Bu(){if(Xi)return Er;Xi=1;var r=Me;return Er=r.homedir||function(){var o=process.env.HOME,l=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||o||null:process.platform==="darwin"?o||(l?"/Users/"+l:null):process.platform==="linux"?o||(process.getuid()===0?"/root":l?"/home/"+l:null):o||null},Er}var gr,Zi;function Hu(){return Zi||(Zi=1,gr=function(){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(o,l){return l};var a=new Error().stack;return Error.prepareStackTrace=r,a[2].getFileName()}),gr}var xe={exports:{}},Ji;function ju(){if(Ji)return xe.exports;Ji=1;var r=process.platform==="win32",a=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,o={};function l(n){return a.exec(n).slice(1)}o.parse=function(n){if(typeof n!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof n);var s=l(n);if(!s||s.length!==5)throw new TypeError("Invalid path '"+n+"'");return{root:s[1],dir:s[0]===s[1]?s[0]:s[0].slice(0,-1),base:s[2],ext:s[4],name:s[3]}};var i=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,t={};function e(n){return i.exec(n).slice(1)}return t.parse=function(n){if(typeof n!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof n);var s=e(n);if(!s||s.length!==5)throw new TypeError("Invalid path '"+n+"'");return{root:s[1],dir:s[0].slice(0,-1),base:s[2],ext:s[4],name:s[3]}},r?xe.exports=o.parse:xe.exports=t.parse,xe.exports.posix=t.parse,xe.exports.win32=o.parse,xe.exports}var vr,Qi;function Uu(){if(Qi)return vr;Qi=1;var r=Q,a=r.parse||ju(),o=function(i,t){var e="/";/^([A-Za-z]:)/.test(i)?e="":/^\\\\/.test(i)&&(e="\\\\");for(var n=[i],s=a(i);s.dir!==n[n.length-1];)n.push(s.dir),s=a(s.dir);return n.reduce(function(u,c){return u.concat(t.map(function(y){return r.resolve(e,c,y)}))},[])};return vr=function(i,t,e){var n=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(e,i,function(){return o(i,n)},t);var s=o(i,n);return t&&t.paths?s.concat(t.paths):s},vr}var Sr,es;function Gu(){return es||(es=1,Sr=function(r,a){return a||{}}),Sr}var Rr,ts;function Wu(){if(ts)return Rr;ts=1;var r="Function.prototype.bind called on incompatible ",a=Object.prototype.toString,o=Math.max,l="[object Function]",i=function(s,u){for(var c=[],y=0;y<s.length;y+=1)c[y]=s[y];for(var f=0;f<u.length;f+=1)c[f+s.length]=u[f];return c},t=function(s,u){for(var c=[],y=u,f=0;y<s.length;y+=1,f+=1)c[f]=s[y];return c},e=function(n,s){for(var u="",c=0;c<n.length;c+=1)u+=n[c],c+1<n.length&&(u+=s);return u};return Rr=function(s){var u=this;if(typeof u!="function"||a.apply(u)!==l)throw new TypeError(r+u);for(var c=t(arguments,1),y,f=function(){if(this instanceof y){var m=u.apply(this,i(c,arguments));return Object(m)===m?m:this}return u.apply(s,i(c,arguments))},O=o(0,u.length-c.length),w=[],S=0;S<O;S++)w[S]="$"+S;if(y=Function("binder","return function ("+e(w,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var d=function(){};d.prototype=u.prototype,y.prototype=new d,d.prototype=null}return y},Rr}var wr,rs;function Vu(){if(rs)return wr;rs=1;var r=Wu();return wr=Function.prototype.bind||r,wr}var Or,ns;function zu(){if(ns)return Or;ns=1;var r=Function.prototype.call,a=Object.prototype.hasOwnProperty,o=Vu();return Or=o.call(r,a),Or}const Yu=!0,Ku=">= 8",Xu=">= 0.5 && < 0.9.7",Zu=!0,Ju=!0,Qu=">= 0.5",ec=!0,tc=!0,rc=!0,nc=">= 1 && < 8",ic="< 8",sc=!0,oc=[">= 14.17 && < 15",">= 15.1"],ac=!0,uc=">= 0.7.12",cc=!0,lc="< 6",hc=!0,fc=">= 0.11.1",dc=">= 0.11.1",pc=">= 0.11.1",mc=">= 0.11.1",_c=">= 0.11.1",yc=">= 0.11.1",Ec=!0,gc=">= 8.8",vc=!0,Sc=">= 8",Rc="< 8",wc=!0,Oc=!0,Ac=!0,Tc=!0,Pc=">= 8.5",bc=">= 1",Nc=">= 0.5",Lc=!0,Ic=!0,Dc=!0,Cc=">= 0.11.5 && < 3",$c=">= 0.9.4",xc=">= 0.9.4",Fc=">= 1.4.1",kc=">= 0.9.4",Mc=">= 0.9.4",qc=">= 0.9.4",Bc=!0,Hc=!0,jc=[">= 0.4 && < 0.7",">= 0.8"],Uc=!0,Gc=">= 0.11.13",Wc=">= 0.11.3 && < 10",Vc=">= 0.11.3",zc=!0,Yc=">= 10",Kc=!0,Xc=!0,Zc=!0,Jc=">= 1",Qc=!0,el=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],tl=">= 11.7",rl=">= 0.5",nl={assert:Yu,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:Ku,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:Xu,buffer:Zu,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:Ju,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:Qu,"node:cluster":[">= 14.18 && < 15",">= 16"],console:ec,"node:console":[">= 14.18 && < 15",">= 16"],constants:tc,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:rc,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:nc,_debugger:ic,dgram:sc,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:oc,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:ac,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:uc,"node:domain":[">= 14.18 && < 15",">= 16"],events:cc,"node:events":[">= 14.18 && < 15",">= 16"],freelist:lc,fs:hc,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:fc,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:dc,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:pc,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:mc,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:_c,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:yc,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:Ec,"node:http":[">= 14.18 && < 15",">= 16"],http2:gc,"node:http2":[">= 14.18 && < 15",">= 16"],https:vc,"node:https":[">= 14.18 && < 15",">= 16"],inspector:Sc,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:Rc,module:wc,"node:module":[">= 14.18 && < 15",">= 16"],net:Oc,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:Ac,"node:os":[">= 14.18 && < 15",">= 16"],path:Tc,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:Pc,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:bc,"node:process":[">= 14.18 && < 15",">= 16"],punycode:Nc,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:Lc,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:Ic,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:Dc,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:Cc,"node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:$c,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:xc,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:Fc,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:kc,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:Mc,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:qc,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:Bc,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:Hc,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:jc,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:Uc,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:Gc,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:Wc,_tls_wrap:Vc,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:zc,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:Yc,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:Kc,"node:tty":[">= 14.18 && < 15",">= 16"],url:Xc,"node:url":[">= 14.18 && < 15",">= 16"],util:Zc,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:Jc,"node:v8":[">= 14.18 && < 15",">= 16"],vm:Qc,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:el,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:tl,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:rl,"node:zlib":[">= 14.18 && < 15",">= 16"]};var Ar,is;function il(){if(is)return Ar;is=1;var r=zu();function a(t,e){for(var n=t.split("."),s=e.split(" "),u=s.length>1?s[0]:"=",c=(s.length>1?s[1]:s[0]).split("."),y=0;y<3;++y){var f=parseInt(n[y]||0,10),O=parseInt(c[y]||0,10);if(f!==O)return u==="<"?f<O:u===">="?f>=O:!1}return u===">="}function o(t,e){var n=e.split(/ ?&& ?/);if(n.length===0)return!1;for(var s=0;s<n.length;++s)if(!a(t,n[s]))return!1;return!0}function l(t,e){if(typeof e=="boolean")return e;var n=typeof t>"u"?process.versions&&process.versions.node:t;if(typeof n!="string")throw new TypeError(typeof t>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var s=0;s<e.length;++s)if(o(n,e[s]))return!0;return!1}return o(n,e)}var i=nl;return Ar=function(e,n){return r(i,e)&&l(n,i[e])},Ar}var Tr,ss;function sl(){if(ss)return Tr;ss=1;var r=_e,a=Bu(),o=Q,l=Hu(),i=Uu(),t=Gu(),e=il(),n=process.platform!=="win32"&&r.realpath&&typeof r.realpath.native=="function"?r.realpath.native:r.realpath,s=a(),u=function(){return[o.join(s,".node_modules"),o.join(s,".node_libraries")]},c=function(m,E){r.stat(m,function(h,v){return h?h.code==="ENOENT"||h.code==="ENOTDIR"?E(null,!1):E(h):E(null,v.isFile()||v.isFIFO())})},y=function(m,E){r.stat(m,function(h,v){return h?h.code==="ENOENT"||h.code==="ENOTDIR"?E(null,!1):E(h):E(null,v.isDirectory())})},f=function(m,E){n(m,function(h,v){h&&h.code!=="ENOENT"?E(h):E(null,h?m:v)})},O=function(m,E,h,v){h&&h.preserveSymlinks===!1?m(E,v):v(null,E)},w=function(m,E,h){m(E,function(v,_){if(v)h(v);else try{var g=JSON.parse(_);h(null,g)}catch{h(null)}})},S=function(m,E,h){for(var v=i(E,h,m),_=0;_<v.length;_++)v[_]=o.join(v[_],m);return v};return Tr=function(m,E,h){var v=h,_=E;if(typeof E=="function"&&(v=_,_={}),typeof m!="string"){var g=new TypeError("Path must be a string.");return process.nextTick(function(){v(g)})}_=t(m,_);var p=_.isFile||c,T=_.isDirectory||y,P=_.readFile||r.readFile,I=_.realpath||f,x=_.readPackage||w;if(_.readFile&&_.readPackage){var k=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){v(k)})}var N=_.packageIterator,$=_.extensions||[".js"],C=_.includeCoreModules!==!1,D=_.basedir||o.dirname(l()),B=_.filename||D;_.paths=_.paths||u();var G=o.resolve(D);O(I,G,_,function(j,U){j?v(j):H(U)});var V;function H(j){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(m))V=o.resolve(j,m),(m==="."||m===".."||m.slice(-1)==="/")&&(V+="/"),/\/$/.test(m)&&V===j?te(V,_.package,R):b(V,_.package,R);else{if(C&&e(m))return v(null,m);L(m,j,function(U,F,q){if(U)v(U);else{if(F)return O(I,F,_,function(J,ne){J?v(J):v(null,ne,q)});var Y=new Error("Cannot find module '"+m+"' from '"+B+"'");Y.code="MODULE_NOT_FOUND",v(Y)}})}}function R(j,U,F){j?v(j):U?v(null,U,F):te(V,function(q,Y,J){if(q)v(q);else if(Y)O(I,Y,_,function(oe,Z){oe?v(oe):v(null,Z,J)});else{var ne=new Error("Cannot find module '"+m+"' from '"+B+"'");ne.code="MODULE_NOT_FOUND",v(ne)}})}function b(j,U,F){var q=U,Y=F;typeof q=="function"&&(Y=q,q=void 0);var J=[""].concat($);ne(J,j,q);function ne(oe,Z,A){if(oe.length===0)return Y(null,void 0,A);var X=Z+oe[0],ee=A;ee?W(null,ee):z(o.dirname(X),W);function W(K,re,se){if(ee=re,K)return Y(K);if(se&&ee&&_.pathFilter){var ue=o.relative(se,X),ce=ue.slice(0,ue.length-oe[0].length),he=_.pathFilter(ee,Z,ce);if(he)return ne([""].concat($.slice()),o.resolve(se,he),ee)}p(X,ie)}function ie(K,re){if(K)return Y(K);if(re)return Y(null,X,ee);ne(oe.slice(1),Z,ee)}}}function z(j,U){if(j===""||j==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(j)||/[/\\]node_modules[/\\]*$/.test(j))return U(null);O(I,j,_,function(F,q){if(F)return z(o.dirname(j),U);var Y=o.join(q,"package.json");p(Y,function(J,ne){if(!ne)return z(o.dirname(j),U);x(P,Y,function(oe,Z){oe&&U(oe);var A=Z;A&&_.packageFilter&&(A=_.packageFilter(A,Y)),U(null,A,j)})})})}function te(j,U,F){var q=F,Y=U;typeof Y=="function"&&(q=Y,Y=_.package),O(I,j,_,function(J,ne){if(J)return q(J);var oe=o.join(ne,"package.json");p(oe,function(Z,A){if(Z)return q(Z);if(!A)return b(o.join(j,"index"),Y,q);x(P,oe,function(X,ee){if(X)return q(X);var W=ee;if(W&&_.packageFilter&&(W=_.packageFilter(W,oe)),W&&W.main){if(typeof W.main!="string"){var ie=new TypeError("package “"+W.name+"” `main` must be a string");return ie.code="INVALID_PACKAGE_MAIN",q(ie)}(W.main==="."||W.main==="./")&&(W.main="index"),b(o.resolve(j,W.main),W,function(K,re,se){if(K)return q(K);if(re)return q(null,re,se);if(!se)return b(o.join(j,"index"),se,q);var ue=o.resolve(j,se.main);te(ue,se,function(ce,he,me){if(ce)return q(ce);if(he)return q(null,he,me);b(o.join(j,"index"),me,q)})});return}b(o.join(j,"/index"),W,q)})})})}function M(j,U){if(U.length===0)return j(null,void 0);var F=U[0];T(o.dirname(F),q);function q(ne,oe){if(ne)return j(ne);if(!oe)return M(j,U.slice(1));b(F,_.package,Y)}function Y(ne,oe,Z){if(ne)return j(ne);if(oe)return j(null,oe,Z);te(F,_.package,J)}function J(ne,oe,Z){if(ne)return j(ne);if(oe)return j(null,oe,Z);M(j,U.slice(1))}}function L(j,U,F){var q=function(){return S(j,U,_)};M(F,N?N(j,U,q,_):q())}},Tr}var Pr,os;function ol(){return os||(os=1,Pr=sl()),Pr}var al=ol();const ul=Pe(al);async function cl(){if(typeof require=="function")return require;const{createRequire:r}=await import("module");return r(typeof document>"u"?require("url").pathToFileURL(__filename).href:qt&&qt.tagName.toUpperCase()==="SCRIPT"&&qt.src||new URL("main.js",document.baseURI).href)}async function ll(r){try{const a=await cl();let o=null;const l=console.log;console.log=t=>{o=t};const i=a(r);if(console.log=l,typeof i=="string")return i;if(typeof i=="object"){if(typeof i.include_dir=="string")return i.include_dir;if(typeof i.include=="string")return i.include;if(o!==null)return o}}catch{}return r}async function hl(r,a){try{const o=await fl(a,r);if(o!==void 0)return o}catch{}return null}function fl(r,a){return new Promise(o=>{ul(r,{basedir:a},(l,i)=>{if(l)throw l;return o(i)})})}var br,as;function dl(){if(as)return br;as=1;function r(a,o=!1,l=/\s/g){let i=!1,t=[],e=[];const n=a.split("");for(const s of n){let u=s.match(l);if(s==='"'){o&&t.push(s),i=!i;continue}!i&&u?t.length>0?(e.push(t.join("")),t.splice(0)):l&&e.push(s):t.push(s)}return t.length>0?e.push(t.join("")):l&&e.push(""),e}return br=r,br}var pl=dl();const ml=Pe(pl);function $t(r){const a=process.env[r];if(typeof a=="string"&&a.length>0)return a}async function _l(r,a){const o=a==="x64"?"Win64":a==="x86"?"":null;if(o===null)return console.error("Failed to find valid VS gen, using native. Good Luck."),"native";const l=await yl(`"${r}" -G`),t=l.includes(`\r
`)?l.split(`\r
`):l.split(`
`);let e=!1,n="";for(const u of t){if(!e&&u.trim()==="Generators"){e=!0;continue}const c=u.split("=");if(!(c.length<=1)&&(c[0]=c[0].replace(/^(\* )/,"").trim(),c[0].match(/Visual\s+Studio\s+\d+\s+\d+(\s+\[arch\])?/))){console.log("Found generator: ",c[0]),n=c[0];break}}return!n.match(/.*\[arch]/)?n+=" -A":n=n.replace("[arch]",o).trim(),n}function yl(r){return new Promise(a=>{Da.exec(r,(o,l,i)=>{a(l||i)})})}function us(r,a=process.cwd(),o=!1){return new Promise((l,i)=>{const t=ml(r),e=t[0];t.splice(0,1);const n=Da.spawn(e,t,{stdio:o?"ignore":"inherit",cwd:a});let s=!1;n.on("error",u=>{s||(i(u),s=!0)}),n.on("exit",(u,c)=>{s||(u===0?l():i(new Error(`Process terminated: ${u!=null?u:c}`)),s=!0)})})}async function be(r,a){try{return await le.stat(r,a)}catch{return new le.Stats}}async function $a(r,a){if(!await El(r))return null;const l=Q.join(r,"node_modules",a);return await gl(l,a==="node-addon-api"?"napi.h":`${a}.h`)?(console.log(`Found package "${a}" at path ${l}!`),l):$a(vl(r),a)}async function El(r){const a=Q.join(r,"package.json"),o=Q.join(r,"node_modules");return(await be(a)).isFile()||(await be(o)).isDirectory()}async function gl(r,a){const o=Q.join(r,a);return(await be(o)).isFile()}function vl(r){let a=r;const o=a.split(Q.sep),l=o[o.length-2];return l&&l.charAt(0)==="@"&&(a=Q.join(a,"..")),a=Q.join(a,"..",".."),Q.normalize(a)}async function Sl(r,a){if(await le.pathExists(a))return a;const o=await hl(r,a);return typeof o=="string"?ll(o):$a(r,a)}var Nr,cs;function xt(){return cs||(cs=1,Nr=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{}),Nr}var Lr,ls;function ei(){if(ls)return Lr;ls=1;const r="2.0.0",a=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,l=16,i=a-6;return Lr={MAX_LENGTH:a,MAX_SAFE_COMPONENT_LENGTH:l,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:o,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Lr}var it={exports:{}},hs;function ti(){return hs||(hs=1,function(r,a){const{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:l,MAX_LENGTH:i}=ei(),t=xt();a=r.exports={};const e=a.re=[],n=a.safeRe=[],s=a.src=[],u=a.safeSrc=[],c=a.t={};let y=0;const f="[a-zA-Z0-9-]",O=[["\\s",1],["\\d",i],[f,l]],w=d=>{for(const[m,E]of O)d=d.split(`${m}*`).join(`${m}{0,${E}}`).split(`${m}+`).join(`${m}{1,${E}}`);return d},S=(d,m,E)=>{const h=w(m),v=y++;t(d,v,m),c[d]=v,s[v]=m,u[v]=h,e[v]=new RegExp(m,E?"g":void 0),n[v]=new RegExp(h,E?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),S("MAINVERSION",`(${s[c.NUMERICIDENTIFIER]})\\.(${s[c.NUMERICIDENTIFIER]})\\.(${s[c.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${s[c.NUMERICIDENTIFIERLOOSE]})\\.(${s[c.NUMERICIDENTIFIERLOOSE]})\\.(${s[c.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${s[c.NUMERICIDENTIFIER]}|${s[c.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${s[c.NUMERICIDENTIFIERLOOSE]}|${s[c.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${s[c.PRERELEASEIDENTIFIER]}(?:\\.${s[c.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${s[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[c.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${f}+`),S("BUILD",`(?:\\+(${s[c.BUILDIDENTIFIER]}(?:\\.${s[c.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${s[c.MAINVERSION]}${s[c.PRERELEASE]}?${s[c.BUILD]}?`),S("FULL",`^${s[c.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${s[c.MAINVERSIONLOOSE]}${s[c.PRERELEASELOOSE]}?${s[c.BUILD]}?`),S("LOOSE",`^${s[c.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${s[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${s[c.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${s[c.XRANGEIDENTIFIER]})(?:\\.(${s[c.XRANGEIDENTIFIER]})(?:\\.(${s[c.XRANGEIDENTIFIER]})(?:${s[c.PRERELEASE]})?${s[c.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${s[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[c.XRANGEIDENTIFIERLOOSE]})(?:${s[c.PRERELEASELOOSE]})?${s[c.BUILD]}?)?)?`),S("XRANGE",`^${s[c.GTLT]}\\s*${s[c.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${s[c.GTLT]}\\s*${s[c.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),S("COERCE",`${s[c.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",s[c.COERCEPLAIN]+`(?:${s[c.PRERELEASE]})?(?:${s[c.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",s[c.COERCE],!0),S("COERCERTLFULL",s[c.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${s[c.LONETILDE]}\\s+`,!0),a.tildeTrimReplace="$1~",S("TILDE",`^${s[c.LONETILDE]}${s[c.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${s[c.LONETILDE]}${s[c.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${s[c.LONECARET]}\\s+`,!0),a.caretTrimReplace="$1^",S("CARET",`^${s[c.LONECARET]}${s[c.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${s[c.LONECARET]}${s[c.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${s[c.GTLT]}\\s*(${s[c.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${s[c.GTLT]}\\s*(${s[c.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${s[c.GTLT]}\\s*(${s[c.LOOSEPLAIN]}|${s[c.XRANGEPLAIN]})`,!0),a.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${s[c.XRANGEPLAIN]})\\s+-\\s+(${s[c.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${s[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[c.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(it,it.exports)),it.exports}var Ir,fs;function ri(){if(fs)return Ir;fs=1;const r=Object.freeze({loose:!0}),a=Object.freeze({});return Ir=l=>l?typeof l!="object"?r:l:a,Ir}var Dr,ds;function Rl(){if(ds)return Dr;ds=1;const r=/^[0-9]+$/,a=(l,i)=>{const t=r.test(l),e=r.test(i);return t&&e&&(l=+l,i=+i),l===i?0:t&&!e?-1:e&&!t?1:l<i?-1:1};return Dr={compareIdentifiers:a,rcompareIdentifiers:(l,i)=>a(i,l)},Dr}var Cr,ps;function ni(){if(ps)return Cr;ps=1;const r=xt(),{MAX_LENGTH:a,MAX_SAFE_INTEGER:o}=ei(),{safeRe:l,safeSrc:i,t}=ti(),e=ri(),{compareIdentifiers:n}=Rl();class s{constructor(c,y){if(y=e(y),c instanceof s){if(c.loose===!!y.loose&&c.includePrerelease===!!y.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",c,y),this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease;const f=c.trim().match(y.loose?l[t.LOOSE]:l[t.FULL]);if(!f)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(O=>{if(/^[0-9]+$/.test(O)){const w=+O;if(w>=0&&w<o)return w}return O}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(r("SemVer.compare",this.version,this.options,c),!(c instanceof s)){if(typeof c=="string"&&c===this.version)return 0;c=new s(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof s||(c=new s(c,this.options)),n(this.major,c.major)||n(this.minor,c.minor)||n(this.patch,c.patch)}comparePre(c){if(c instanceof s||(c=new s(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let y=0;do{const f=this.prerelease[y],O=c.prerelease[y];if(r("prerelease compare",y,f,O),f===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(f===void 0)return-1;if(f===O)continue;return n(f,O)}while(++y)}compareBuild(c){c instanceof s||(c=new s(c,this.options));let y=0;do{const f=this.build[y],O=c.build[y];if(r("build compare",y,f,O),f===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(f===void 0)return-1;if(f===O)continue;return n(f,O)}while(++y)}inc(c,y,f){if(c.startsWith("pre")){if(!y&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(y){const O=new RegExp(`^${this.options.loose?i[t.PRERELEASELOOSE]:i[t.PRERELEASE]}$`),w=`-${y}`.match(O);if(!w||w[1]!==y)throw new Error(`invalid identifier: ${y}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",y,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",y,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",y,f),this.inc("pre",y,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",y,f),this.inc("pre",y,f);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const O=Number(f)?1:0;if(this.prerelease.length===0)this.prerelease=[O];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(y===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(O)}}if(y){let w=[y,O];f===!1&&(w=[y]),n(this.prerelease[0],y)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Cr=s,Cr}var $r,ms;function je(){if(ms)return $r;ms=1;const r=ni();return $r=(o,l,i)=>new r(o,i).compare(new r(l,i)),$r}var xr,_s;function xa(){if(_s)return xr;_s=1;const r=je();return xr=(o,l,i)=>r(o,l,i)>=0,xr}var wl=xa();const Ol=Pe(wl);var Fr,ys;function Fa(){if(ys)return Fr;ys=1;const r=je();return Fr=(o,l,i)=>r(o,l,i)<0,Fr}var Al=Fa();const Tl=Pe(Al);var Ta;const ka=(Ta=$t("NVM_NODEJS_ORG_MIRROR"))!=null?Ta:"https://nodejs.org/dist";var Pa;const Pl=(Pa=$t("NVM_IOJS_ORG_MIRROR"))!=null?Pa:"https://iojs.org/dist";var ba;const bl=(ba=$t("ELECTRON_MIRROR"))!=null?ba:"https://artifacts.electronjs.org/headers/dist",Nl=process.env[Me.platform()==="win32"?"USERPROFILE":"HOME"];function ke(r){switch(r.runtime){case"node":return(Tl(r.runtimeVersion,"4.0.0")?Ll:Il)(r);case"iojs":return{externalPath:`${Pl}/v${r.runtimeVersion}/`,winLibs:[{dir:r.arch==="x64"?"win-x64":"win-x86",name:`${r.runtime}.lib`}],tarPath:`${r.runtime}-v${r.runtimeVersion}.tar.gz`,headerOnly:!1};case"electron":return{externalPath:`${bl}/v${r.runtimeVersion}/`,winLibs:[{dir:r.arch==="x64"?"x64":"",name:"node.lib"}],tarPath:`node-v${r.runtimeVersion}.tar.gz`,headerOnly:Ol(r.runtimeVersion,"4.0.0-alpha")};default:throw new Error(`Unsupported runtime ${r.runtime}`)}}function Ll(r){return{externalPath:`${ka}/v${r.runtimeVersion}/`,winLibs:[{dir:r.arch==="x64"?"x64":"",name:`${r.runtime}.lib`}],tarPath:`${r.runtime}-v${r.runtimeVersion}.tar.gz`,headerOnly:!1}}function Il(r){return{externalPath:`${ka}/v${r.runtimeVersion}/`,winLibs:[{dir:r.arch==="x64"?"win-x64":"win-x86",name:`${r.runtime}.lib`}],tarPath:`${r.runtime}-v${r.runtimeVersion}-headers.tar.gz`,headerOnly:!0}}class Dl{constructor(a,o,l){this.config=a,this.options=o,this.rtd=l}async buildCmakeCommandLine(){let a=`"${this.options.cmakeToUse}" "${this.options.packageDirectory}" --no-warn-unused-cli`;const o=await this.buildDefines();if(a+=` ${o.map(l=>`-D${l[0]}="${l[1]}"`).join(" ")}`,this.options.generatorToUse!=="native"){let l=` -G"${this.options.generatorToUse}"`;l.match(/Visual\s+Studio\s+\d+\s+\d+\s-A/)&&(l=l.replace(/\s-A/,""),l+=` -A ${this.config.arch}`),a+=l}return console.log(a),a}buildGeneratorCommandLine(a){return`"${this.options.cmakeToUse}" --build "${a}" --config "${this.options.buildType}"`}async buildDefines(){var t,e;const a=ke(this.config),o=[];if(o.push(["CMAKE_BUILD_TYPE",this.options.buildType]),this.config.toolchainFile!==null&&o.push(["CMAKE_TOOLCHAIN_FILE",Q.resolve(this.config.toolchainFile)]),this.config.os==="win32"){const n=this.rtd.winLibs();n.length&&o.push(["CMAKE_JS_LIB",n.join(";")])}else this.config.os==="darwin"&&o.push(["CMAKE_JS_CXX_FLAGS","-undefined dynamic_lookup"]);const l=[];a.headerOnly?l.push(Q.join(this.rtd.internalPath(),"/include/node")):l.push(Q.join(this.rtd.internalPath(),"/src"),Q.join(this.rtd.internalPath(),"/deps/v8/include"),Q.join(this.rtd.internalPath(),"/deps/uv/include")),((t=this.options.nodeAPI)==null?void 0:t.includes("nan"))===!0&&console.warn(`WARNING: specified nodeAPI ${this.options.nodeAPI} seems to be nan - The usage of nan is discouraged due to subtle and hard-to-fix ABI issues! Consider using node-addon-api / N-API instead!`),this.options.nodeAPI===void 0&&console.warn('WARNING: nodeAPI was not specified. The default changed from "nan" to "node-addon-api" in v0.3.0! Please make sure this is intended.');const i=await Sl(this.options.packageDirectory,(e=this.options.nodeAPI)!=null?e:"node-addon-api");if(this.options.nodeAPI!==void 0&&i===null&&console.log(`WARNING: nodeAPI was specified, but module "${this.options.nodeAPI}" could not be found!`),i!==null&&l.push(i),o.push(["CMAKE_JS_INC",l.join(";")]),o.push(["NODE_RUNTIME",this.config.runtime],["NODE_ARCH",this.config.arch],["NODE_PLATFORM",this.config.os],["NODE_RUNTIMEVERSION",this.config.runtimeVersion],["NODE_ABI_VERSION",`${this.rtd.abi()}`]),o.push(["CMAKE_JS_DEFINES",this.config.additionalDefines.join(";")]),this.options.globalCMakeOptions&&this.options.globalCMakeOptions.length>0)for(const n of this.options.globalCMakeOptions)o.push([n.name,n.value.replace(/\$ROOT\$/g,Q.resolve(this.options.packageDirectory))]);if(this.config.CMakeOptions&&this.config.CMakeOptions.length>0)for(const n of this.config.CMakeOptions)o.push([n.name,n.value.replace(/\$ROOT\$/g,Q.resolve(this.options.packageDirectory))]);return o}}function Cl(r){if(r.length===0)return{type:"all"};if(r[0]==="nativeonly")return{type:"nativeonly"};if(r[0]==="osonly")return{type:"osonly"};if(r[0]==="dev-os-only")return{type:"dev-os-only"};if(r[0]==="named-configs")return r.length<2&&(console.error("'named-configs' needs at least one config name"),process.exit(1)),{type:"named-configs",configsToBuild:r.slice(1)};console.error(`Unknown command line option ${r[0]} - Valid are none/omitted, 'nativeonly', 'osonly', 'dev-os-only' and 'named-configs'`),process.exit(1)}var kr,Es;function $l(){if(Es)return kr;Es=1,kr=l,l.sync=i;var r=_e;function a(t,e){var n=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var s=0;s<n.length;s++){var u=n[s].toLowerCase();if(u&&t.substr(-u.length).toLowerCase()===u)return!0}return!1}function o(t,e,n){return!t.isSymbolicLink()&&!t.isFile()?!1:a(e,n)}function l(t,e,n){r.stat(t,function(s,u){n(s,s?!1:o(u,t,e))})}function i(t,e){return o(r.statSync(t),t,e)}return kr}var Mr,gs;function xl(){if(gs)return Mr;gs=1,Mr=a,a.sync=o;var r=_e;function a(t,e,n){r.stat(t,function(s,u){n(s,s?!1:l(u,e))})}function o(t,e){return l(r.statSync(t),e)}function l(t,e){return t.isFile()&&i(t,e)}function i(t,e){var n=t.mode,s=t.uid,u=t.gid,c=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),y=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),f=parseInt("100",8),O=parseInt("010",8),w=parseInt("001",8),S=f|O,d=n&w||n&O&&u===y||n&f&&s===c||n&S&&c===0;return d}return Mr}var qr,vs;function Fl(){if(vs)return qr;vs=1;var r;process.platform==="win32"||Ne.TESTING_WINDOWS?r=$l():r=xl(),qr=a,a.sync=o;function a(l,i,t){if(typeof i=="function"&&(t=i,i={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(e,n){a(l,i||{},function(s,u){s?n(s):e(u)})})}r(l,i||{},function(e,n){e&&(e.code==="EACCES"||i&&i.ignoreErrors)&&(e=null,n=!1),t(e,n)})}function o(l,i){try{return r.sync(l,i||{})}catch(t){if(i&&i.ignoreErrors||t.code==="EACCES")return!1;throw t}}return qr}var Br,Ss;function kl(){if(Ss)return Br;Ss=1;const r=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",a=Q,o=r?";":":",l=Fl(),i=s=>Object.assign(new Error(`not found: ${s}`),{code:"ENOENT"}),t=(s,u)=>{const c=u.colon||o,y=s.match(/\//)||r&&s.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(u.path||process.env.PATH||"").split(c)],f=r?u.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",O=r?f.split(c):[""];return r&&s.indexOf(".")!==-1&&O[0]!==""&&O.unshift(""),{pathEnv:y,pathExt:O,pathExtExe:f}},e=(s,u,c)=>{typeof u=="function"&&(c=u,u={}),u||(u={});const{pathEnv:y,pathExt:f,pathExtExe:O}=t(s,u),w=[],S=m=>new Promise((E,h)=>{if(m===y.length)return u.all&&w.length?E(w):h(i(s));const v=y[m],_=/^".*"$/.test(v)?v.slice(1,-1):v,g=a.join(_,s),p=!_&&/^\.[\\\/]/.test(s)?s.slice(0,2)+g:g;E(d(p,m,0))}),d=(m,E,h)=>new Promise((v,_)=>{if(h===f.length)return v(S(E+1));const g=f[h];l(m+g,{pathExt:O},(p,T)=>{if(!p&&T)if(u.all)w.push(m+g);else return v(m+g);return v(d(m,E,h+1))})});return c?S(0).then(m=>c(null,m),c):S(0)},n=(s,u)=>{u=u||{};const{pathEnv:c,pathExt:y,pathExtExe:f}=t(s,u),O=[];for(let w=0;w<c.length;w++){const S=c[w],d=/^".*"$/.test(S)?S.slice(1,-1):S,m=a.join(d,s),E=!d&&/^\.[\\\/]/.test(s)?s.slice(0,2)+m:m;for(let h=0;h<y.length;h++){const v=E+y[h];try{if(l.sync(v,{pathExt:f}))if(u.all)O.push(v);else return v}catch{}}}if(u.all&&O.length)return O;if(u.nothrow)return null;throw i(s)};return Br=e,e.sync=n,Br}var Ml=kl();const ql=Pe(Ml);function Ma(r){return r.name===void 0&&(r.name=""),r.dev===void 0&&(r.dev=!1),r.os===void 0&&(r.os=process.platform,console.warn(`'os' was missing in the 'configurations'. Defaulting to the current operating system ${r.os}`)),r.arch===void 0&&(r.arch=process.arch,console.warn(`'arch' was missing in the 'configurations'. Defaulting to the current architecture ${r.arch}`)),r.runtime===void 0&&(r.runtime="node",console.warn("`runtime` was missing in the `configurations`. Defaulting to `node`")),r.runtimeVersion===void 0&&(r.runtimeVersion=process.versions.node,console.warn(`'runtimeVersion' was missing in the 'configurations'. Defaulting to the current runtimeVersion ${r.runtimeVersion}`)),r.toolchainFile===void 0&&(r.toolchainFile=null),r.CMakeOptions===void 0&&(r.CMakeOptions=[]),"cmakeOptions"in r&&r.cmakeOptions!==void 0&&console.warn("cmakeOptions was specified which was disabled in the 0.3.0 release. Please rename it to CMakeOptions"),r.addonSubdirectory===void 0&&(r.addonSubdirectory=""),r.additionalDefines=[],r}async function Hr(r){try{return await ql(r)}catch{return null}}async function Bl(r,a){if(a.type==="nativeonly"&&(console.log(`--------------------------------------------------
      WARNING: Building only for the current runtime.
      WARNING: DO NOT SHIP THE RESULTING PACKAGE
     --------------------------------------------------`),r.configurations=[Ma({})]),a.type==="osonly"){console.log(`--------------------------------------------------
      WARNING: Building only for the current OS.
      WARNING: DO NOT SHIP THE RESULTING PACKAGE
     --------------------------------------------------`),r.configurations===void 0&&(console.error("No `configurations` entry was found in the package.json"),process.exit(1)),r.configurations=r.configurations.filter(i=>i.os===process.platform),r.configurations.length===0&&(console.error("No configuration left to build!"),process.exit(1));for(const i of r.configurations)i.toolchainFile=null}if(a.type==="dev-os-only"){console.log(`--------------------------------------------------
        WARNING: Building dev-os-only package
        WARNING: DO NOT SHIP THE RESULTING PACKAGE
       --------------------------------------------------`),r.configurations===void 0&&(console.error("No `configurations` entry was found in the package.json"),process.exit(1));const i=r.configurations.find(t=>t.os===process.platform&&t.dev);i===void 0&&(console.error(`No matching entry with \`dev == true\` and \`os == ${process.platform}\` in \`configurations\``),process.exit(1)),r.configurations=[i]}if(a.type==="named-configs"&&(r.configurations===void 0&&(console.error("No `configurations` entry was found in the package.json"),process.exit(1)),r.configurations=r.configurations.filter(i=>i.name!==void 0?a.configsToBuild.includes(i.name):!1),r.configurations.length===0&&(console.error("No configuration left to build!"),process.exit(1))),r.packageDirectory===void 0&&(r.packageDirectory=process.cwd()),r.projectName===void 0&&(r.projectName="addon"),r.targetDirectory===void 0&&(r.targetDirectory="build"),r.stagingDirectory===void 0&&(r.stagingDirectory="staging"),r.cmakeToUse===void 0){const i=await Hr("cmake");i===null&&(console.error("cmake binary not found, try to specify 'cmakeToUse'"),process.exit(1)),r.cmakeToUse=i}const[o,l]=await Promise.all([Hr("ninja"),Hr("make")]);if(r.generatorToUse===void 0)if(console.log("no generator specified in package.json, checking ninja"),o===null)if(console.log("ninja not found, checking make"),l===null)if(console.log("make not found, using native"),process.platform==="win32"){const i=await _l(r.cmakeToUse,process.arch);r.generatorToUse=i,r.generatorBinary="native"}else r.generatorToUse="native",r.generatorBinary="native";else console.log("found make at",l,"(fallback)"),r.generatorToUse="Unix Makefiles",r.generatorBinary=l;else console.log("found ninja at",o),r.generatorToUse="Ninja",r.generatorBinary=o;if(r.generatorBinary===void 0&&(r.generatorToUse==="Ninja"?(o===null&&(console.error("Ninja was specified as generator but no ninja binary could be found. Specify it via 'generatorBinary'"),process.exit(1)),r.generatorBinary=o):r.generatorToUse==="Unix Makefiles"?(l===null&&(console.error("Unix Makefiles was specified as generator but no make binary could be found. Specify it via 'generatorBinary'"),process.exit(1)),r.generatorBinary=l):(console.error(`Unsupported generator ${r.generatorToUse}`),process.exit(1))),r.buildType===void 0&&(r.buildType="Release",console.warn("`buildType` was missing. Considering 'Release'")),r.configurations)for(const i of r.configurations)i.additionalDefines=[];return r}var jr,Rs;function Hl(){if(Rs)return jr;Rs=1;class r{constructor(){this.max=1e3,this.map=new Map}get(o){const l=this.map.get(o);if(l!==void 0)return this.map.delete(o),this.map.set(o,l),l}delete(o){return this.map.delete(o)}set(o,l){if(!this.delete(o)&&l!==void 0){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(o,l)}return this}}return jr=r,jr}var Ur,ws;function jl(){if(ws)return Ur;ws=1;const r=je();return Ur=(o,l,i)=>r(o,l,i)===0,Ur}var Gr,Os;function Ul(){if(Os)return Gr;Os=1;const r=je();return Gr=(o,l,i)=>r(o,l,i)!==0,Gr}var Wr,As;function Gl(){if(As)return Wr;As=1;const r=je();return Wr=(o,l,i)=>r(o,l,i)>0,Wr}var Vr,Ts;function Wl(){if(Ts)return Vr;Ts=1;const r=je();return Vr=(o,l,i)=>r(o,l,i)<=0,Vr}var zr,Ps;function Vl(){if(Ps)return zr;Ps=1;const r=jl(),a=Ul(),o=Gl(),l=xa(),i=Fa(),t=Wl();return zr=(n,s,u,c)=>{switch(s){case"===":return typeof n=="object"&&(n=n.version),typeof u=="object"&&(u=u.version),n===u;case"!==":return typeof n=="object"&&(n=n.version),typeof u=="object"&&(u=u.version),n!==u;case"":case"=":case"==":return r(n,u,c);case"!=":return a(n,u,c);case">":return o(n,u,c);case">=":return l(n,u,c);case"<":return i(n,u,c);case"<=":return t(n,u,c);default:throw new TypeError(`Invalid operator: ${s}`)}},zr}var Yr,bs;function zl(){if(bs)return Yr;bs=1;const r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(c,y){if(y=o(y),c instanceof a){if(c.loose===!!y.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),e("comparator",c,y),this.options=y,this.loose=!!y.loose,this.parse(c),this.semver===r?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}parse(c){const y=this.options.loose?l[i.COMPARATORLOOSE]:l[i.COMPARATOR],f=c.match(y);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new n(f[2],this.options.loose):this.semver=r}toString(){return this.value}test(c){if(e("Comparator.test",c,this.options.loose),this.semver===r||c===r)return!0;if(typeof c=="string")try{c=new n(c,this.options)}catch{return!1}return t(c,this.operator,this.semver,this.options)}intersects(c,y){if(!(c instanceof a))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new s(c.value,y).test(this.value):c.operator===""?c.value===""?!0:new s(this.value,y).test(c.semver):(y=o(y),y.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||t(this.semver,"<",c.semver,y)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||t(this.semver,">",c.semver,y)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Yr=a;const o=ri(),{safeRe:l,t:i}=ti(),t=Vl(),e=xt(),n=ni(),s=qa();return Yr}var Kr,Ns;function qa(){if(Ns)return Kr;Ns=1;const r=/\s+/g;class a{constructor(C,D){if(D=i(D),C instanceof a)return C.loose===!!D.loose&&C.includePrerelease===!!D.includePrerelease?C:new a(C.raw,D);if(C instanceof t)return this.raw=C.value,this.set=[[C]],this.formatted=void 0,this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=C.trim().replace(r," "),this.set=this.raw.split("||").map(B=>this.parseRange(B.trim())).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter(G=>!S(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const G of this.set)if(G.length===1&&d(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let C=0;C<this.set.length;C++){C>0&&(this.formatted+="||");const D=this.set[C];for(let B=0;B<D.length;B++)B>0&&(this.formatted+=" "),this.formatted+=D[B].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(C){const B=((this.options.includePrerelease&&O)|(this.options.loose&&w))+":"+C,G=l.get(B);if(G)return G;const V=this.options.loose,H=V?s[u.HYPHENRANGELOOSE]:s[u.HYPHENRANGE];C=C.replace(H,k(this.options.includePrerelease)),e("hyphen replace",C),C=C.replace(s[u.COMPARATORTRIM],c),e("comparator trim",C),C=C.replace(s[u.TILDETRIM],y),e("tilde trim",C),C=C.replace(s[u.CARETTRIM],f),e("caret trim",C);let R=C.split(" ").map(M=>E(M,this.options)).join(" ").split(/\s+/).map(M=>x(M,this.options));V&&(R=R.filter(M=>(e("loose invalid filter",M,this.options),!!M.match(s[u.COMPARATORLOOSE])))),e("range list",R);const b=new Map,z=R.map(M=>new t(M,this.options));for(const M of z){if(S(M))return[M];b.set(M.value,M)}b.size>1&&b.has("")&&b.delete("");const te=[...b.values()];return l.set(B,te),te}intersects(C,D){if(!(C instanceof a))throw new TypeError("a Range is required");return this.set.some(B=>m(B,D)&&C.set.some(G=>m(G,D)&&B.every(V=>G.every(H=>V.intersects(H,D)))))}test(C){if(!C)return!1;if(typeof C=="string")try{C=new n(C,this.options)}catch{return!1}for(let D=0;D<this.set.length;D++)if(N(this.set[D],C,this.options))return!0;return!1}}Kr=a;const o=Hl(),l=new o,i=ri(),t=zl(),e=xt(),n=ni(),{safeRe:s,t:u,comparatorTrimReplace:c,tildeTrimReplace:y,caretTrimReplace:f}=ti(),{FLAG_INCLUDE_PRERELEASE:O,FLAG_LOOSE:w}=ei(),S=$=>$.value==="<0.0.0-0",d=$=>$.value==="",m=($,C)=>{let D=!0;const B=$.slice();let G=B.pop();for(;D&&B.length;)D=B.every(V=>G.intersects(V,C)),G=B.pop();return D},E=($,C)=>(e("comp",$,C),$=g($,C),e("caret",$),$=v($,C),e("tildes",$),$=T($,C),e("xrange",$),$=I($,C),e("stars",$),$),h=$=>!$||$.toLowerCase()==="x"||$==="*",v=($,C)=>$.trim().split(/\s+/).map(D=>_(D,C)).join(" "),_=($,C)=>{const D=C.loose?s[u.TILDELOOSE]:s[u.TILDE];return $.replace(D,(B,G,V,H,R)=>{e("tilde",$,B,G,V,H,R);let b;return h(G)?b="":h(V)?b=`>=${G}.0.0 <${+G+1}.0.0-0`:h(H)?b=`>=${G}.${V}.0 <${G}.${+V+1}.0-0`:R?(e("replaceTilde pr",R),b=`>=${G}.${V}.${H}-${R} <${G}.${+V+1}.0-0`):b=`>=${G}.${V}.${H} <${G}.${+V+1}.0-0`,e("tilde return",b),b})},g=($,C)=>$.trim().split(/\s+/).map(D=>p(D,C)).join(" "),p=($,C)=>{e("caret",$,C);const D=C.loose?s[u.CARETLOOSE]:s[u.CARET],B=C.includePrerelease?"-0":"";return $.replace(D,(G,V,H,R,b)=>{e("caret",$,G,V,H,R,b);let z;return h(V)?z="":h(H)?z=`>=${V}.0.0${B} <${+V+1}.0.0-0`:h(R)?V==="0"?z=`>=${V}.${H}.0${B} <${V}.${+H+1}.0-0`:z=`>=${V}.${H}.0${B} <${+V+1}.0.0-0`:b?(e("replaceCaret pr",b),V==="0"?H==="0"?z=`>=${V}.${H}.${R}-${b} <${V}.${H}.${+R+1}-0`:z=`>=${V}.${H}.${R}-${b} <${V}.${+H+1}.0-0`:z=`>=${V}.${H}.${R}-${b} <${+V+1}.0.0-0`):(e("no pr"),V==="0"?H==="0"?z=`>=${V}.${H}.${R}${B} <${V}.${H}.${+R+1}-0`:z=`>=${V}.${H}.${R}${B} <${V}.${+H+1}.0-0`:z=`>=${V}.${H}.${R} <${+V+1}.0.0-0`),e("caret return",z),z})},T=($,C)=>(e("replaceXRanges",$,C),$.split(/\s+/).map(D=>P(D,C)).join(" ")),P=($,C)=>{$=$.trim();const D=C.loose?s[u.XRANGELOOSE]:s[u.XRANGE];return $.replace(D,(B,G,V,H,R,b)=>{e("xRange",$,B,G,V,H,R,b);const z=h(V),te=z||h(H),M=te||h(R),L=M;return G==="="&&L&&(G=""),b=C.includePrerelease?"-0":"",z?G===">"||G==="<"?B="<0.0.0-0":B="*":G&&L?(te&&(H=0),R=0,G===">"?(G=">=",te?(V=+V+1,H=0,R=0):(H=+H+1,R=0)):G==="<="&&(G="<",te?V=+V+1:H=+H+1),G==="<"&&(b="-0"),B=`${G+V}.${H}.${R}${b}`):te?B=`>=${V}.0.0${b} <${+V+1}.0.0-0`:M&&(B=`>=${V}.${H}.0${b} <${V}.${+H+1}.0-0`),e("xRange return",B),B})},I=($,C)=>(e("replaceStars",$,C),$.trim().replace(s[u.STAR],"")),x=($,C)=>(e("replaceGTE0",$,C),$.trim().replace(s[C.includePrerelease?u.GTE0PRE:u.GTE0],"")),k=$=>(C,D,B,G,V,H,R,b,z,te,M,L)=>(h(B)?D="":h(G)?D=`>=${B}.0.0${$?"-0":""}`:h(V)?D=`>=${B}.${G}.0${$?"-0":""}`:H?D=`>=${D}`:D=`>=${D}${$?"-0":""}`,h(z)?b="":h(te)?b=`<${+z+1}.0.0-0`:h(M)?b=`<${z}.${+te+1}.0-0`:L?b=`<=${z}.${te}.${M}-${L}`:$?b=`<${z}.${te}.${+M+1}-0`:b=`<=${b}`,`${D} ${b}`.trim()),N=($,C,D)=>{for(let B=0;B<$.length;B++)if(!$[B].test(C))return!1;if(C.prerelease.length&&!D.includePrerelease){for(let B=0;B<$.length;B++)if(e($[B].semver),$[B].semver!==t.ANY&&$[B].semver.prerelease.length>0){const G=$[B].semver;if(G.major===C.major&&G.minor===C.minor&&G.patch===C.patch)return!0}return!1}return!0};return Kr}var Xr,Ls;function Yl(){if(Ls)return Xr;Ls=1;const r=qa();return Xr=(o,l,i)=>{try{l=new r(l,i)}catch{return!1}return l.test(o)},Xr}var Kl=Yl();const Xl=Pe(Kl),Zl=[{match:{arch:["x64","arm64"],runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_COMPRESS_POINTERS"},{match:{runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_31BIT_SMIS_ON_64BIT_ARCH"},{match:{runtime:"electron",runtimeVersion:">=11"},addDefines:"V8_REVERSE_JSARGS"},{match:{runtime:"electron",runtimeVersion:">=16",arch:["x64","arm64"]},addDefines:"V8_COMPRESS_POINTERS_IN_ISOLATE_CAGE"}];function Zr(r,a){if(a===void 0)return!0;let o;return Array.isArray(a)?o=a:o=[a],o.includes(r)}function Jl(r,a){const o=Zr(r.arch,a.match.arch),l=Zr(r.os,a.match.os),i=Zr(r.runtime,a.match.runtime);return!o||!l||!i||a.match.runtimeVersion!==void 0&&!(Array.isArray(a.match.runtimeVersion)?a.match.runtimeVersion:[a.match.runtimeVersion]).some(e=>Xl(r.runtimeVersion,e,{includePrerelease:!0}))?!1:(Array.isArray(a.addDefines)?r.additionalDefines.push(...a.addDefines):r.additionalDefines.push(a.addDefines),!0)}function Ql(r){return Zl.reduce((a,o)=>Jl(r,o)?a+1:a,0)}var de={},pe={},Ie={},Is;function eh(){if(Is)return Ie;Is=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.splitWhen=Ie.flatten=void 0;function r(o){return o.reduce((l,i)=>[].concat(l,i),[])}Ie.flatten=r;function a(o,l){const i=[[]];let t=0;for(const e of o)l(e)?(t++,i[t]=[]):i[t].push(e);return i}return Ie.splitWhen=a,Ie}var We={},Ds;function th(){if(Ds)return We;Ds=1,Object.defineProperty(We,"__esModule",{value:!0}),We.isEnoentCodeError=void 0;function r(a){return a.code==="ENOENT"}return We.isEnoentCodeError=r,We}var Ve={},Cs;function rh(){if(Cs)return Ve;Cs=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.createDirentFromStats=void 0;class r{constructor(l,i){this.name=l,this.isBlockDevice=i.isBlockDevice.bind(i),this.isCharacterDevice=i.isCharacterDevice.bind(i),this.isDirectory=i.isDirectory.bind(i),this.isFIFO=i.isFIFO.bind(i),this.isFile=i.isFile.bind(i),this.isSocket=i.isSocket.bind(i),this.isSymbolicLink=i.isSymbolicLink.bind(i)}}function a(o,l){return new r(o,l)}return Ve.createDirentFromStats=a,Ve}var fe={},$s;function nh(){if($s)return fe;$s=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.convertPosixPathToPattern=fe.convertWindowsPathToPattern=fe.convertPathToPattern=fe.escapePosixPath=fe.escapeWindowsPath=fe.escape=fe.removeLeadingDotSegment=fe.makeAbsolute=fe.unixify=void 0;const r=Me,a=Q,o=r.platform()==="win32",l=2,i=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,t=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,e=/^\\\\([.?])/,n=/\\(?![!()+@[\]{}])/g;function s(S){return S.replace(/\\/g,"/")}fe.unixify=s;function u(S,d){return a.resolve(S,d)}fe.makeAbsolute=u;function c(S){if(S.charAt(0)==="."){const d=S.charAt(1);if(d==="/"||d==="\\")return S.slice(l)}return S}fe.removeLeadingDotSegment=c,fe.escape=o?y:f;function y(S){return S.replace(t,"\\$2")}fe.escapeWindowsPath=y;function f(S){return S.replace(i,"\\$2")}fe.escapePosixPath=f,fe.convertPathToPattern=o?O:w;function O(S){return y(S).replace(e,"//$1").replace(n,"/")}fe.convertWindowsPathToPattern=O;function w(S){return f(S)}return fe.convertPosixPathToPattern=w,fe}var ae={};/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Jr,xs;function ih(){return xs||(xs=1,Jr=function(a){if(typeof a!="string"||a==="")return!1;for(var o;o=/(\\).|([@?!+*]\(.*\))/g.exec(a);){if(o[2])return!0;a=a.slice(o.index+o[0].length)}return!1}),Jr}/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Qr,Fs;function sh(){if(Fs)return Qr;Fs=1;var r=ih(),a={"{":"}","(":")","[":"]"},o=function(i){if(i[0]==="!")return!0;for(var t=0,e=-2,n=-2,s=-2,u=-2,c=-2;t<i.length;){if(i[t]==="*"||i[t+1]==="?"&&/[\].+)]/.test(i[t])||n!==-1&&i[t]==="["&&i[t+1]!=="]"&&(n<t&&(n=i.indexOf("]",t)),n>t&&(c===-1||c>n||(c=i.indexOf("\\",t),c===-1||c>n)))||s!==-1&&i[t]==="{"&&i[t+1]!=="}"&&(s=i.indexOf("}",t),s>t&&(c=i.indexOf("\\",t),c===-1||c>s))||u!==-1&&i[t]==="("&&i[t+1]==="?"&&/[:!=]/.test(i[t+2])&&i[t+3]!==")"&&(u=i.indexOf(")",t),u>t&&(c=i.indexOf("\\",t),c===-1||c>u))||e!==-1&&i[t]==="("&&i[t+1]!=="|"&&(e<t&&(e=i.indexOf("|",t)),e!==-1&&i[e+1]!==")"&&(u=i.indexOf(")",e),u>e&&(c=i.indexOf("\\",e),c===-1||c>u))))return!0;if(i[t]==="\\"){var y=i[t+1];t+=2;var f=a[y];if(f){var O=i.indexOf(f,t);O!==-1&&(t=O+1)}if(i[t]==="!")return!0}else t++}return!1},l=function(i){if(i[0]==="!")return!0;for(var t=0;t<i.length;){if(/[*?{}()[\]]/.test(i[t]))return!0;if(i[t]==="\\"){var e=i[t+1];t+=2;var n=a[e];if(n){var s=i.indexOf(n,t);s!==-1&&(t=s+1)}if(i[t]==="!")return!0}else t++}return!1};return Qr=function(t,e){if(typeof t!="string"||t==="")return!1;if(r(t))return!0;var n=o;return e&&e.strict===!1&&(n=l),n(t)},Qr}var en,ks;function oh(){if(ks)return en;ks=1;var r=sh(),a=Q.posix.dirname,o=Me.platform()==="win32",l="/",i=/\\/g,t=/[\{\[].*[\}\]]$/,e=/(^|[^\\])([\{\[]|\([^\)]+$)/,n=/\\([\!\*\?\|\[\]\(\)\{\}])/g;return en=function(u,c){var y=Object.assign({flipBackslashes:!0},c);y.flipBackslashes&&o&&u.indexOf(l)<0&&(u=u.replace(i,l)),t.test(u)&&(u+=l),u+="a";do u=a(u);while(r(u)||e.test(u));return u.replace(n,"$1")},en}var tn={},Ms;function ii(){return Ms||(Ms=1,function(r){r.isInteger=a=>typeof a=="number"?Number.isInteger(a):typeof a=="string"&&a.trim()!==""?Number.isInteger(Number(a)):!1,r.find=(a,o)=>a.nodes.find(l=>l.type===o),r.exceedsLimit=(a,o,l=1,i)=>i===!1||!r.isInteger(a)||!r.isInteger(o)?!1:(Number(o)-Number(a))/Number(l)>=i,r.escapeNode=(a,o=0,l)=>{const i=a.nodes[o];i&&(l&&i.type===l||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)},r.encloseBrace=a=>a.type!=="brace"?!1:a.commas>>0+a.ranges>>0===0?(a.invalid=!0,!0):!1,r.isInvalidBrace=a=>a.type!=="brace"?!1:a.invalid===!0||a.dollar?!0:a.commas>>0+a.ranges>>0===0||a.open!==!0||a.close!==!0?(a.invalid=!0,!0):!1,r.isOpenOrClose=a=>a.type==="open"||a.type==="close"?!0:a.open===!0||a.close===!0,r.reduce=a=>a.reduce((o,l)=>(l.type==="text"&&o.push(l.value),l.type==="range"&&(l.type="text"),o),[]),r.flatten=(...a)=>{const o=[],l=i=>{for(let t=0;t<i.length;t++){const e=i[t];if(Array.isArray(e)){l(e);continue}e!==void 0&&o.push(e)}return o};return l(a),o}}(tn)),tn}var rn,qs;function si(){if(qs)return rn;qs=1;const r=ii();return rn=(a,o={})=>{const l=(i,t={})=>{const e=o.escapeInvalid&&r.isInvalidBrace(t),n=i.invalid===!0&&o.escapeInvalid===!0;let s="";if(i.value)return(e||n)&&r.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(const u of i.nodes)s+=l(u);return s};return l(a)},rn}/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var nn,Bs;function ah(){return Bs||(Bs=1,nn=function(r){return typeof r=="number"?r-r===0:typeof r=="string"&&r.trim()!==""?Number.isFinite?Number.isFinite(+r):isFinite(+r):!1}),nn}/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var sn,Hs;function uh(){if(Hs)return sn;Hs=1;const r=ah(),a=(d,m,E)=>{if(r(d)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(m===void 0||d===m)return String(d);if(r(m)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let h={relaxZeros:!0,...E};typeof h.strictZeros=="boolean"&&(h.relaxZeros=h.strictZeros===!1);let v=String(h.relaxZeros),_=String(h.shorthand),g=String(h.capture),p=String(h.wrap),T=d+":"+m+"="+v+_+g+p;if(a.cache.hasOwnProperty(T))return a.cache[T].result;let P=Math.min(d,m),I=Math.max(d,m);if(Math.abs(P-I)===1){let C=d+"|"+m;return h.capture?`(${C})`:h.wrap===!1?C:`(?:${C})`}let x=w(d)||w(m),k={min:d,max:m,a:P,b:I},N=[],$=[];if(x&&(k.isPadded=x,k.maxLen=String(k.max).length),P<0){let C=I<0?Math.abs(I):1;$=t(C,Math.abs(P),k,h),P=k.a=0}return I>=0&&(N=t(P,I,k,h)),k.negatives=$,k.positives=N,k.result=o($,N),h.capture===!0?k.result=`(${k.result})`:h.wrap!==!1&&N.length+$.length>1&&(k.result=`(?:${k.result})`),a.cache[T]=k,k.result};function o(d,m,E){let h=e(d,m,"-",!1)||[],v=e(m,d,"",!1)||[],_=e(d,m,"-?",!0)||[];return h.concat(_).concat(v).join("|")}function l(d,m){let E=1,h=1,v=c(d,E),_=new Set([m]);for(;d<=v&&v<=m;)_.add(v),E+=1,v=c(d,E);for(v=y(m+1,h)-1;d<v&&v<=m;)_.add(v),h+=1,v=y(m+1,h)-1;return _=[..._],_.sort(s),_}function i(d,m,E){if(d===m)return{pattern:d,count:[],digits:0};let h=n(d,m),v=h.length,_="",g=0;for(let p=0;p<v;p++){let[T,P]=h[p];T===P?_+=T:T!=="0"||P!=="9"?_+=O(T,P):g++}return g&&(_+=E.shorthand===!0?"\\d":"[0-9]"),{pattern:_,count:[g],digits:v}}function t(d,m,E,h){let v=l(d,m),_=[],g=d,p;for(let T=0;T<v.length;T++){let P=v[T],I=i(String(g),String(P),h),x="";if(!E.isPadded&&p&&p.pattern===I.pattern){p.count.length>1&&p.count.pop(),p.count.push(I.count[0]),p.string=p.pattern+f(p.count),g=P+1;continue}E.isPadded&&(x=S(P,E,h)),I.string=x+I.pattern+f(I.count),_.push(I),g=P+1,p=I}return _}function e(d,m,E,h,v){let _=[];for(let g of d){let{string:p}=g;!h&&!u(m,"string",p)&&_.push(E+p),h&&u(m,"string",p)&&_.push(E+p)}return _}function n(d,m){let E=[];for(let h=0;h<d.length;h++)E.push([d[h],m[h]]);return E}function s(d,m){return d>m?1:m>d?-1:0}function u(d,m,E){return d.some(h=>h[m]===E)}function c(d,m){return Number(String(d).slice(0,-m)+"9".repeat(m))}function y(d,m){return d-d%Math.pow(10,m)}function f(d){let[m=0,E=""]=d;return E||m>1?`{${m+(E?","+E:"")}}`:""}function O(d,m,E){return`[${d}${m-d===1?"":"-"}${m}]`}function w(d){return/^-?(0+)\d/.test(d)}function S(d,m,E){if(!m.isPadded)return d;let h=Math.abs(m.maxLen-String(d).length),v=E.relaxZeros!==!1;switch(h){case 0:return"";case 1:return v?"0?":"0";case 2:return v?"0{0,2}":"00";default:return v?`0{0,${h}}`:`0{${h}}`}}return a.cache={},a.clearCache=()=>a.cache={},sn=a,sn}/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var on,js;function Ba(){if(js)return on;js=1;const r=Dt,a=uh(),o=h=>h!==null&&typeof h=="object"&&!Array.isArray(h),l=h=>v=>h===!0?Number(v):String(v),i=h=>typeof h=="number"||typeof h=="string"&&h!=="",t=h=>Number.isInteger(+h),e=h=>{let v=`${h}`,_=-1;if(v[0]==="-"&&(v=v.slice(1)),v==="0")return!1;for(;v[++_]==="0";);return _>0},n=(h,v,_)=>typeof h=="string"||typeof v=="string"?!0:_.stringify===!0,s=(h,v,_)=>{if(v>0){let g=h[0]==="-"?"-":"";g&&(h=h.slice(1)),h=g+h.padStart(g?v-1:v,"0")}return _===!1?String(h):h},u=(h,v)=>{let _=h[0]==="-"?"-":"";for(_&&(h=h.slice(1),v--);h.length<v;)h="0"+h;return _?"-"+h:h},c=(h,v,_)=>{h.negatives.sort((I,x)=>I<x?-1:I>x?1:0),h.positives.sort((I,x)=>I<x?-1:I>x?1:0);let g=v.capture?"":"?:",p="",T="",P;return h.positives.length&&(p=h.positives.map(I=>u(String(I),_)).join("|")),h.negatives.length&&(T=`-(${g}${h.negatives.map(I=>u(String(I),_)).join("|")})`),p&&T?P=`${p}|${T}`:P=p||T,v.wrap?`(${g}${P})`:P},y=(h,v,_,g)=>{if(_)return a(h,v,{wrap:!1,...g});let p=String.fromCharCode(h);if(h===v)return p;let T=String.fromCharCode(v);return`[${p}-${T}]`},f=(h,v,_)=>{if(Array.isArray(h)){let g=_.wrap===!0,p=_.capture?"":"?:";return g?`(${p}${h.join("|")})`:h.join("|")}return a(h,v,_)},O=(...h)=>new RangeError("Invalid range arguments: "+r.inspect(...h)),w=(h,v,_)=>{if(_.strictRanges===!0)throw O([h,v]);return[]},S=(h,v)=>{if(v.strictRanges===!0)throw new TypeError(`Expected step "${h}" to be a number`);return[]},d=(h,v,_=1,g={})=>{let p=Number(h),T=Number(v);if(!Number.isInteger(p)||!Number.isInteger(T)){if(g.strictRanges===!0)throw O([h,v]);return[]}p===0&&(p=0),T===0&&(T=0);let P=p>T,I=String(h),x=String(v),k=String(_);_=Math.max(Math.abs(_),1);let N=e(I)||e(x)||e(k),$=N?Math.max(I.length,x.length,k.length):0,C=N===!1&&n(h,v,g)===!1,D=g.transform||l(C);if(g.toRegex&&_===1)return y(u(h,$),u(v,$),!0,g);let B={negatives:[],positives:[]},G=R=>B[R<0?"negatives":"positives"].push(Math.abs(R)),V=[],H=0;for(;P?p>=T:p<=T;)g.toRegex===!0&&_>1?G(p):V.push(s(D(p,H),$,C)),p=P?p-_:p+_,H++;return g.toRegex===!0?_>1?c(B,g,$):f(V,null,{wrap:!1,...g}):V},m=(h,v,_=1,g={})=>{if(!t(h)&&h.length>1||!t(v)&&v.length>1)return w(h,v,g);let p=g.transform||(C=>String.fromCharCode(C)),T=`${h}`.charCodeAt(0),P=`${v}`.charCodeAt(0),I=T>P,x=Math.min(T,P),k=Math.max(T,P);if(g.toRegex&&_===1)return y(x,k,!1,g);let N=[],$=0;for(;I?T>=P:T<=P;)N.push(p(T,$)),T=I?T-_:T+_,$++;return g.toRegex===!0?f(N,null,{wrap:!1,options:g}):N},E=(h,v,_,g={})=>{if(v==null&&i(h))return[h];if(!i(h)||!i(v))return w(h,v,g);if(typeof _=="function")return E(h,v,1,{transform:_});if(o(_))return E(h,v,0,_);let p={...g};return p.capture===!0&&(p.wrap=!0),_=_||p.step||1,t(_)?t(h)&&t(v)?d(h,v,_,p):m(h,v,Math.max(Math.abs(_),1),p):_!=null&&!o(_)?S(_,p):E(h,v,1,_)};return on=E,on}var an,Us;function ch(){if(Us)return an;Us=1;const r=Ba(),a=ii();return an=(l,i={})=>{const t=(e,n={})=>{const s=a.isInvalidBrace(n),u=e.invalid===!0&&i.escapeInvalid===!0,c=s===!0||u===!0,y=i.escapeInvalid===!0?"\\":"";let f="";if(e.isOpen===!0)return y+e.value;if(e.isClose===!0)return console.log("node.isClose",y,e.value),y+e.value;if(e.type==="open")return c?y+e.value:"(";if(e.type==="close")return c?y+e.value:")";if(e.type==="comma")return e.prev.type==="comma"?"":c?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){const O=a.reduce(e.nodes),w=r(...O,{...i,wrap:!1,toRegex:!0,strictZeros:!0});if(w.length!==0)return O.length>1&&w.length>1?`(${w})`:w}if(e.nodes)for(const O of e.nodes)f+=t(O,e);return f};return t(l)},an}var un,Gs;function lh(){if(Gs)return un;Gs=1;const r=Ba(),a=si(),o=ii(),l=(t="",e="",n=!1)=>{const s=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return n?o.flatten(e).map(u=>`{${u}}`):e;for(const u of t)if(Array.isArray(u))for(const c of u)s.push(l(c,e,n));else for(let c of e)n===!0&&typeof c=="string"&&(c=`{${c}}`),s.push(Array.isArray(c)?l(u,c,n):u+c);return o.flatten(s)};return un=(t,e={})=>{const n=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(u,c={})=>{u.queue=[];let y=c,f=c.queue;for(;y.type!=="brace"&&y.type!=="root"&&y.parent;)y=y.parent,f=y.queue;if(u.invalid||u.dollar){f.push(l(f.pop(),a(u,e)));return}if(u.type==="brace"&&u.invalid!==!0&&u.nodes.length===2){f.push(l(f.pop(),["{}"]));return}if(u.nodes&&u.ranges>0){const d=o.reduce(u.nodes);if(o.exceedsLimit(...d,e.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let m=r(...d,e);m.length===0&&(m=a(u,e)),f.push(l(f.pop(),m)),u.nodes=[];return}const O=o.encloseBrace(u);let w=u.queue,S=u;for(;S.type!=="brace"&&S.type!=="root"&&S.parent;)S=S.parent,w=S.queue;for(let d=0;d<u.nodes.length;d++){const m=u.nodes[d];if(m.type==="comma"&&u.type==="brace"){d===1&&w.push(""),w.push("");continue}if(m.type==="close"){f.push(l(f.pop(),w,O));continue}if(m.value&&m.type!=="open"){w.push(l(w.pop(),m.value));continue}m.nodes&&s(m,u)}return w};return o.flatten(s(t))},un}var cn,Ws;function hh(){return Ws||(Ws=1,cn={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}),cn}var ln,Vs;function fh(){if(Vs)return ln;Vs=1;const r=si(),{MAX_LENGTH:a,CHAR_BACKSLASH:o,CHAR_BACKTICK:l,CHAR_COMMA:i,CHAR_DOT:t,CHAR_LEFT_PARENTHESES:e,CHAR_RIGHT_PARENTHESES:n,CHAR_LEFT_CURLY_BRACE:s,CHAR_RIGHT_CURLY_BRACE:u,CHAR_LEFT_SQUARE_BRACKET:c,CHAR_RIGHT_SQUARE_BRACKET:y,CHAR_DOUBLE_QUOTE:f,CHAR_SINGLE_QUOTE:O,CHAR_NO_BREAK_SPACE:w,CHAR_ZERO_WIDTH_NOBREAK_SPACE:S}=hh();return ln=(m,E={})=>{if(typeof m!="string")throw new TypeError("Expected a string");const h=E||{},v=typeof h.maxLength=="number"?Math.min(a,h.maxLength):a;if(m.length>v)throw new SyntaxError(`Input length (${m.length}), exceeds max characters (${v})`);const _={type:"root",input:m,nodes:[]},g=[_];let p=_,T=_,P=0;const I=m.length;let x=0,k=0,N;const $=()=>m[x++],C=D=>{if(D.type==="text"&&T.type==="dot"&&(T.type="text"),T&&T.type==="text"&&D.type==="text"){T.value+=D.value;return}return p.nodes.push(D),D.parent=p,D.prev=T,T=D,D};for(C({type:"bos"});x<I;)if(p=g[g.length-1],N=$(),!(N===S||N===w)){if(N===o){C({type:"text",value:(E.keepEscaping?N:"")+$()});continue}if(N===y){C({type:"text",value:"\\"+N});continue}if(N===c){P++;let D;for(;x<I&&(D=$());){if(N+=D,D===c){P++;continue}if(D===o){N+=$();continue}if(D===y&&(P--,P===0))break}C({type:"text",value:N});continue}if(N===e){p=C({type:"paren",nodes:[]}),g.push(p),C({type:"text",value:N});continue}if(N===n){if(p.type!=="paren"){C({type:"text",value:N});continue}p=g.pop(),C({type:"text",value:N}),p=g[g.length-1];continue}if(N===f||N===O||N===l){const D=N;let B;for(E.keepQuotes!==!0&&(N="");x<I&&(B=$());){if(B===o){N+=B+$();continue}if(B===D){E.keepQuotes===!0&&(N+=B);break}N+=B}C({type:"text",value:N});continue}if(N===s){k++;const B={type:"brace",open:!0,close:!1,dollar:T.value&&T.value.slice(-1)==="$"||p.dollar===!0,depth:k,commas:0,ranges:0,nodes:[]};p=C(B),g.push(p),C({type:"open",value:N});continue}if(N===u){if(p.type!=="brace"){C({type:"text",value:N});continue}const D="close";p=g.pop(),p.close=!0,C({type:D,value:N}),k--,p=g[g.length-1];continue}if(N===i&&k>0){if(p.ranges>0){p.ranges=0;const D=p.nodes.shift();p.nodes=[D,{type:"text",value:r(p)}]}C({type:"comma",value:N}),p.commas++;continue}if(N===t&&k>0&&p.commas===0){const D=p.nodes;if(k===0||D.length===0){C({type:"text",value:N});continue}if(T.type==="dot"){if(p.range=[],T.value+=N,T.type="range",p.nodes.length!==3&&p.nodes.length!==5){p.invalid=!0,p.ranges=0,T.type="text";continue}p.ranges++,p.args=[];continue}if(T.type==="range"){D.pop();const B=D[D.length-1];B.value+=T.value+N,T=B,p.ranges--;continue}C({type:"dot",value:N});continue}C({type:"text",value:N})}do if(p=g.pop(),p.type!=="root"){p.nodes.forEach(G=>{G.nodes||(G.type==="open"&&(G.isOpen=!0),G.type==="close"&&(G.isClose=!0),G.nodes||(G.type="text"),G.invalid=!0)});const D=g[g.length-1],B=D.nodes.indexOf(p);D.nodes.splice(B,1,...p.nodes)}while(g.length>0);return C({type:"eos"}),_},ln}var hn,zs;function dh(){if(zs)return hn;zs=1;const r=si(),a=ch(),o=lh(),l=fh(),i=(t,e={})=>{let n=[];if(Array.isArray(t))for(const s of t){const u=i.create(s,e);Array.isArray(u)?n.push(...u):n.push(u)}else n=[].concat(i.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(n=[...new Set(n)]),n};return i.parse=(t,e={})=>l(t,e),i.stringify=(t,e={})=>r(typeof t=="string"?i.parse(t,e):t,e),i.compile=(t,e={})=>(typeof t=="string"&&(t=i.parse(t,e)),a(t,e)),i.expand=(t,e={})=>{typeof t=="string"&&(t=i.parse(t,e));let n=o(t,e);return e.noempty===!0&&(n=n.filter(Boolean)),e.nodupes===!0&&(n=[...new Set(n)]),n},i.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?i.compile(t,e):i.expand(t,e),hn=i,hn}var fn={},dn,Ys;function Ft(){if(Ys)return dn;Ys=1;const r=Q,a="\\\\/",o=`[^${a}]`,l="\\.",i="\\+",t="\\?",e="\\/",n="(?=.)",s="[^/]",u=`(?:${e}|$)`,c=`(?:^|${e})`,y=`${l}{1,2}${u}`,f=`(?!${l})`,O=`(?!${c}${y})`,w=`(?!${l}{0,1}${u})`,S=`(?!${y})`,d=`[^.${e}]`,m=`${s}*?`,E={DOT_LITERAL:l,PLUS_LITERAL:i,QMARK_LITERAL:t,SLASH_LITERAL:e,ONE_CHAR:n,QMARK:s,END_ANCHOR:u,DOTS_SLASH:y,NO_DOT:f,NO_DOTS:O,NO_DOT_SLASH:w,NO_DOTS_SLASH:S,QMARK_NO_DOT:d,STAR:m,START_ANCHOR:c},h={...E,SLASH_LITERAL:`[${a}]`,QMARK:o,STAR:`${o}*?`,DOTS_SLASH:`${l}{1,2}(?:[${a}]|$)`,NO_DOT:`(?!${l})`,NO_DOTS:`(?!(?:^|[${a}])${l}{1,2}(?:[${a}]|$))`,NO_DOT_SLASH:`(?!${l}{0,1}(?:[${a}]|$))`,NO_DOTS_SLASH:`(?!${l}{1,2}(?:[${a}]|$))`,QMARK_NO_DOT:`[^.${a}]`,START_ANCHOR:`(?:^|[${a}])`,END_ANCHOR:`(?:[${a}]|$)`},v={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};return dn={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:v,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:r.sep,extglobChars(_){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${_.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(_){return _===!0?h:E}},dn}var Ks;function kt(){return Ks||(Ks=1,function(r){const a=Q,o=process.platform==="win32",{REGEX_BACKSLASH:l,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:t,REGEX_SPECIAL_CHARS_GLOBAL:e}=Ft();r.isObject=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r.hasRegexChars=n=>t.test(n),r.isRegexChar=n=>n.length===1&&r.hasRegexChars(n),r.escapeRegex=n=>n.replace(e,"\\$1"),r.toPosixSlashes=n=>n.replace(l,"/"),r.removeBackslashes=n=>n.replace(i,s=>s==="\\"?"":s),r.supportsLookbehinds=()=>{const n=process.version.slice(1).split(".").map(Number);return n.length===3&&n[0]>=9||n[0]===8&&n[1]>=10},r.isWindows=n=>n&&typeof n.windows=="boolean"?n.windows:o===!0||a.sep==="\\",r.escapeLast=(n,s,u)=>{const c=n.lastIndexOf(s,u);return c===-1?n:n[c-1]==="\\"?r.escapeLast(n,s,c-1):`${n.slice(0,c)}\\${n.slice(c)}`},r.removePrefix=(n,s={})=>{let u=n;return u.startsWith("./")&&(u=u.slice(2),s.prefix="./"),u},r.wrapOutput=(n,s={},u={})=>{const c=u.contains?"":"^",y=u.contains?"":"$";let f=`${c}(?:${n})${y}`;return s.negated===!0&&(f=`(?:^(?!${f}).*$)`),f}}(fn)),fn}var pn,Xs;function ph(){if(Xs)return pn;Xs=1;const r=kt(),{CHAR_ASTERISK:a,CHAR_AT:o,CHAR_BACKWARD_SLASH:l,CHAR_COMMA:i,CHAR_DOT:t,CHAR_EXCLAMATION_MARK:e,CHAR_FORWARD_SLASH:n,CHAR_LEFT_CURLY_BRACE:s,CHAR_LEFT_PARENTHESES:u,CHAR_LEFT_SQUARE_BRACKET:c,CHAR_PLUS:y,CHAR_QUESTION_MARK:f,CHAR_RIGHT_CURLY_BRACE:O,CHAR_RIGHT_PARENTHESES:w,CHAR_RIGHT_SQUARE_BRACKET:S}=Ft(),d=h=>h===n||h===l,m=h=>{h.isPrefix!==!0&&(h.depth=h.isGlobstar?1/0:1)};return pn=(h,v)=>{const _=v||{},g=h.length-1,p=_.parts===!0||_.scanToEnd===!0,T=[],P=[],I=[];let x=h,k=-1,N=0,$=0,C=!1,D=!1,B=!1,G=!1,V=!1,H=!1,R=!1,b=!1,z=!1,te=!1,M=0,L,j,U={value:"",depth:0,isGlob:!1};const F=()=>k>=g,q=()=>x.charCodeAt(k+1),Y=()=>(L=j,x.charCodeAt(++k));for(;k<g;){j=Y();let A;if(j===l){R=U.backslashes=!0,j=Y(),j===s&&(H=!0);continue}if(H===!0||j===s){for(M++;F()!==!0&&(j=Y());){if(j===l){R=U.backslashes=!0,Y();continue}if(j===s){M++;continue}if(H!==!0&&j===t&&(j=Y())===t){if(C=U.isBrace=!0,B=U.isGlob=!0,te=!0,p===!0)continue;break}if(H!==!0&&j===i){if(C=U.isBrace=!0,B=U.isGlob=!0,te=!0,p===!0)continue;break}if(j===O&&(M--,M===0)){H=!1,C=U.isBrace=!0,te=!0;break}}if(p===!0)continue;break}if(j===n){if(T.push(k),P.push(U),U={value:"",depth:0,isGlob:!1},te===!0)continue;if(L===t&&k===N+1){N+=2;continue}$=k+1;continue}if(_.noext!==!0&&(j===y||j===o||j===a||j===f||j===e)===!0&&q()===u){if(B=U.isGlob=!0,G=U.isExtglob=!0,te=!0,j===e&&k===N&&(z=!0),p===!0){for(;F()!==!0&&(j=Y());){if(j===l){R=U.backslashes=!0,j=Y();continue}if(j===w){B=U.isGlob=!0,te=!0;break}}continue}break}if(j===a){if(L===a&&(V=U.isGlobstar=!0),B=U.isGlob=!0,te=!0,p===!0)continue;break}if(j===f){if(B=U.isGlob=!0,te=!0,p===!0)continue;break}if(j===c){for(;F()!==!0&&(A=Y());){if(A===l){R=U.backslashes=!0,Y();continue}if(A===S){D=U.isBracket=!0,B=U.isGlob=!0,te=!0;break}}if(p===!0)continue;break}if(_.nonegate!==!0&&j===e&&k===N){b=U.negated=!0,N++;continue}if(_.noparen!==!0&&j===u){if(B=U.isGlob=!0,p===!0){for(;F()!==!0&&(j=Y());){if(j===u){R=U.backslashes=!0,j=Y();continue}if(j===w){te=!0;break}}continue}break}if(B===!0){if(te=!0,p===!0)continue;break}}_.noext===!0&&(G=!1,B=!1);let J=x,ne="",oe="";N>0&&(ne=x.slice(0,N),x=x.slice(N),$-=N),J&&B===!0&&$>0?(J=x.slice(0,$),oe=x.slice($)):B===!0?(J="",oe=x):J=x,J&&J!==""&&J!=="/"&&J!==x&&d(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1)),_.unescape===!0&&(oe&&(oe=r.removeBackslashes(oe)),J&&R===!0&&(J=r.removeBackslashes(J)));const Z={prefix:ne,input:h,start:N,base:J,glob:oe,isBrace:C,isBracket:D,isGlob:B,isExtglob:G,isGlobstar:V,negated:b,negatedExtglob:z};if(_.tokens===!0&&(Z.maxDepth=0,d(j)||P.push(U),Z.tokens=P),_.parts===!0||_.tokens===!0){let A;for(let X=0;X<T.length;X++){const ee=A?A+1:N,W=T[X],ie=h.slice(ee,W);_.tokens&&(X===0&&N!==0?(P[X].isPrefix=!0,P[X].value=ne):P[X].value=ie,m(P[X]),Z.maxDepth+=P[X].depth),(X!==0||ie!=="")&&I.push(ie),A=W}if(A&&A+1<h.length){const X=h.slice(A+1);I.push(X),_.tokens&&(P[P.length-1].value=X,m(P[P.length-1]),Z.maxDepth+=P[P.length-1].depth)}Z.slashes=T,Z.parts=I}return Z},pn}var mn,Zs;function mh(){if(Zs)return mn;Zs=1;const r=Ft(),a=kt(),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:l,REGEX_NON_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_BACKREF:t,REPLACEMENTS:e}=r,n=(c,y)=>{if(typeof y.expandRange=="function")return y.expandRange(...c,y);c.sort();const f=`[${c.join("-")}]`;try{new RegExp(f)}catch{return c.map(w=>a.escapeRegex(w)).join("..")}return f},s=(c,y)=>`Missing ${c}: "${y}" - use "\\\\${y}" to match literal characters`,u=(c,y)=>{if(typeof c!="string")throw new TypeError("Expected a string");c=e[c]||c;const f={...y},O=typeof f.maxLength=="number"?Math.min(o,f.maxLength):o;let w=c.length;if(w>O)throw new SyntaxError(`Input length: ${w}, exceeds maximum allowed length: ${O}`);const S={type:"bos",value:"",output:f.prepend||""},d=[S],m=f.capture?"":"?:",E=a.isWindows(y),h=r.globChars(E),v=r.extglobChars(h),{DOT_LITERAL:_,PLUS_LITERAL:g,SLASH_LITERAL:p,ONE_CHAR:T,DOTS_SLASH:P,NO_DOT:I,NO_DOT_SLASH:x,NO_DOTS_SLASH:k,QMARK:N,QMARK_NO_DOT:$,STAR:C,START_ANCHOR:D}=h,B=W=>`(${m}(?:(?!${D}${W.dot?P:_}).)*?)`,G=f.dot?"":I,V=f.dot?N:$;let H=f.bash===!0?B(f):C;f.capture&&(H=`(${H})`),typeof f.noext=="boolean"&&(f.noextglob=f.noext);const R={input:c,index:-1,start:0,dot:f.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:d};c=a.removePrefix(c,R),w=c.length;const b=[],z=[],te=[];let M=S,L;const j=()=>R.index===w-1,U=R.peek=(W=1)=>c[R.index+W],F=R.advance=()=>c[++R.index]||"",q=()=>c.slice(R.index+1),Y=(W="",ie=0)=>{R.consumed+=W,R.index+=ie},J=W=>{R.output+=W.output!=null?W.output:W.value,Y(W.value)},ne=()=>{let W=1;for(;U()==="!"&&(U(2)!=="("||U(3)==="?");)F(),R.start++,W++;return W%2===0?!1:(R.negated=!0,R.start++,!0)},oe=W=>{R[W]++,te.push(W)},Z=W=>{R[W]--,te.pop()},A=W=>{if(M.type==="globstar"){const ie=R.braces>0&&(W.type==="comma"||W.type==="brace"),K=W.extglob===!0||b.length&&(W.type==="pipe"||W.type==="paren");W.type!=="slash"&&W.type!=="paren"&&!ie&&!K&&(R.output=R.output.slice(0,-M.output.length),M.type="star",M.value="*",M.output=H,R.output+=M.output)}if(b.length&&W.type!=="paren"&&(b[b.length-1].inner+=W.value),(W.value||W.output)&&J(W),M&&M.type==="text"&&W.type==="text"){M.value+=W.value,M.output=(M.output||"")+W.value;return}W.prev=M,d.push(W),M=W},X=(W,ie)=>{const K={...v[ie],conditions:1,inner:""};K.prev=M,K.parens=R.parens,K.output=R.output;const re=(f.capture?"(":"")+K.open;oe("parens"),A({type:W,value:ie,output:R.output?"":T}),A({type:"paren",extglob:!0,value:F(),output:re}),b.push(K)},ee=W=>{let ie=W.close+(f.capture?")":""),K;if(W.type==="negate"){let re=H;if(W.inner&&W.inner.length>1&&W.inner.includes("/")&&(re=B(f)),(re!==H||j()||/^\)+$/.test(q()))&&(ie=W.close=`)$))${re}`),W.inner.includes("*")&&(K=q())&&/^\.[^\\/.]+$/.test(K)){const se=u(K,{...y,fastpaths:!1}).output;ie=W.close=`)${se})${re})`}W.prev.type==="bos"&&(R.negatedExtglob=!0)}A({type:"paren",extglob:!0,value:L,output:ie}),Z("parens")};if(f.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(c)){let W=!1,ie=c.replace(t,(K,re,se,ue,ce,he)=>ue==="\\"?(W=!0,K):ue==="?"?re?re+ue+(ce?N.repeat(ce.length):""):he===0?V+(ce?N.repeat(ce.length):""):N.repeat(se.length):ue==="."?_.repeat(se.length):ue==="*"?re?re+ue+(ce?H:""):H:re?K:`\\${K}`);return W===!0&&(f.unescape===!0?ie=ie.replace(/\\/g,""):ie=ie.replace(/\\+/g,K=>K.length%2===0?"\\\\":K?"\\":"")),ie===c&&f.contains===!0?(R.output=c,R):(R.output=a.wrapOutput(ie,R,y),R)}for(;!j();){if(L=F(),L==="\0")continue;if(L==="\\"){const K=U();if(K==="/"&&f.bash!==!0||K==="."||K===";")continue;if(!K){L+="\\",A({type:"text",value:L});continue}const re=/^\\+/.exec(q());let se=0;if(re&&re[0].length>2&&(se=re[0].length,R.index+=se,se%2!==0&&(L+="\\")),f.unescape===!0?L=F():L+=F(),R.brackets===0){A({type:"text",value:L});continue}}if(R.brackets>0&&(L!=="]"||M.value==="["||M.value==="[^")){if(f.posix!==!1&&L===":"){const K=M.value.slice(1);if(K.includes("[")&&(M.posix=!0,K.includes(":"))){const re=M.value.lastIndexOf("["),se=M.value.slice(0,re),ue=M.value.slice(re+2),ce=l[ue];if(ce){M.value=se+ce,R.backtrack=!0,F(),!S.output&&d.indexOf(M)===1&&(S.output=T);continue}}}(L==="["&&U()!==":"||L==="-"&&U()==="]")&&(L=`\\${L}`),L==="]"&&(M.value==="["||M.value==="[^")&&(L=`\\${L}`),f.posix===!0&&L==="!"&&M.value==="["&&(L="^"),M.value+=L,J({value:L});continue}if(R.quotes===1&&L!=='"'){L=a.escapeRegex(L),M.value+=L,J({value:L});continue}if(L==='"'){R.quotes=R.quotes===1?0:1,f.keepQuotes===!0&&A({type:"text",value:L});continue}if(L==="("){oe("parens"),A({type:"paren",value:L});continue}if(L===")"){if(R.parens===0&&f.strictBrackets===!0)throw new SyntaxError(s("opening","("));const K=b[b.length-1];if(K&&R.parens===K.parens+1){ee(b.pop());continue}A({type:"paren",value:L,output:R.parens?")":"\\)"}),Z("parens");continue}if(L==="["){if(f.nobracket===!0||!q().includes("]")){if(f.nobracket!==!0&&f.strictBrackets===!0)throw new SyntaxError(s("closing","]"));L=`\\${L}`}else oe("brackets");A({type:"bracket",value:L});continue}if(L==="]"){if(f.nobracket===!0||M&&M.type==="bracket"&&M.value.length===1){A({type:"text",value:L,output:`\\${L}`});continue}if(R.brackets===0){if(f.strictBrackets===!0)throw new SyntaxError(s("opening","["));A({type:"text",value:L,output:`\\${L}`});continue}Z("brackets");const K=M.value.slice(1);if(M.posix!==!0&&K[0]==="^"&&!K.includes("/")&&(L=`/${L}`),M.value+=L,J({value:L}),f.literalBrackets===!1||a.hasRegexChars(K))continue;const re=a.escapeRegex(M.value);if(R.output=R.output.slice(0,-M.value.length),f.literalBrackets===!0){R.output+=re,M.value=re;continue}M.value=`(${m}${re}|${M.value})`,R.output+=M.value;continue}if(L==="{"&&f.nobrace!==!0){oe("braces");const K={type:"brace",value:L,output:"(",outputIndex:R.output.length,tokensIndex:R.tokens.length};z.push(K),A(K);continue}if(L==="}"){const K=z[z.length-1];if(f.nobrace===!0||!K){A({type:"text",value:L,output:L});continue}let re=")";if(K.dots===!0){const se=d.slice(),ue=[];for(let ce=se.length-1;ce>=0&&(d.pop(),se[ce].type!=="brace");ce--)se[ce].type!=="dots"&&ue.unshift(se[ce].value);re=n(ue,f),R.backtrack=!0}if(K.comma!==!0&&K.dots!==!0){const se=R.output.slice(0,K.outputIndex),ue=R.tokens.slice(K.tokensIndex);K.value=K.output="\\{",L=re="\\}",R.output=se;for(const ce of ue)R.output+=ce.output||ce.value}A({type:"brace",value:L,output:re}),Z("braces"),z.pop();continue}if(L==="|"){b.length>0&&b[b.length-1].conditions++,A({type:"text",value:L});continue}if(L===","){let K=L;const re=z[z.length-1];re&&te[te.length-1]==="braces"&&(re.comma=!0,K="|"),A({type:"comma",value:L,output:K});continue}if(L==="/"){if(M.type==="dot"&&R.index===R.start+1){R.start=R.index+1,R.consumed="",R.output="",d.pop(),M=S;continue}A({type:"slash",value:L,output:p});continue}if(L==="."){if(R.braces>0&&M.type==="dot"){M.value==="."&&(M.output=_);const K=z[z.length-1];M.type="dots",M.output+=L,M.value+=L,K.dots=!0;continue}if(R.braces+R.parens===0&&M.type!=="bos"&&M.type!=="slash"){A({type:"text",value:L,output:_});continue}A({type:"dot",value:L,output:_});continue}if(L==="?"){if(!(M&&M.value==="(")&&f.noextglob!==!0&&U()==="("&&U(2)!=="?"){X("qmark",L);continue}if(M&&M.type==="paren"){const re=U();let se=L;if(re==="<"&&!a.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(M.value==="("&&!/[!=<:]/.test(re)||re==="<"&&!/<([!=]|\w+>)/.test(q()))&&(se=`\\${L}`),A({type:"text",value:L,output:se});continue}if(f.dot!==!0&&(M.type==="slash"||M.type==="bos")){A({type:"qmark",value:L,output:$});continue}A({type:"qmark",value:L,output:N});continue}if(L==="!"){if(f.noextglob!==!0&&U()==="("&&(U(2)!=="?"||!/[!=<:]/.test(U(3)))){X("negate",L);continue}if(f.nonegate!==!0&&R.index===0){ne();continue}}if(L==="+"){if(f.noextglob!==!0&&U()==="("&&U(2)!=="?"){X("plus",L);continue}if(M&&M.value==="("||f.regex===!1){A({type:"plus",value:L,output:g});continue}if(M&&(M.type==="bracket"||M.type==="paren"||M.type==="brace")||R.parens>0){A({type:"plus",value:L});continue}A({type:"plus",value:g});continue}if(L==="@"){if(f.noextglob!==!0&&U()==="("&&U(2)!=="?"){A({type:"at",extglob:!0,value:L,output:""});continue}A({type:"text",value:L});continue}if(L!=="*"){(L==="$"||L==="^")&&(L=`\\${L}`);const K=i.exec(q());K&&(L+=K[0],R.index+=K[0].length),A({type:"text",value:L});continue}if(M&&(M.type==="globstar"||M.star===!0)){M.type="star",M.star=!0,M.value+=L,M.output=H,R.backtrack=!0,R.globstar=!0,Y(L);continue}let W=q();if(f.noextglob!==!0&&/^\([^?]/.test(W)){X("star",L);continue}if(M.type==="star"){if(f.noglobstar===!0){Y(L);continue}const K=M.prev,re=K.prev,se=K.type==="slash"||K.type==="bos",ue=re&&(re.type==="star"||re.type==="globstar");if(f.bash===!0&&(!se||W[0]&&W[0]!=="/")){A({type:"star",value:L,output:""});continue}const ce=R.braces>0&&(K.type==="comma"||K.type==="brace"),he=b.length&&(K.type==="pipe"||K.type==="paren");if(!se&&K.type!=="paren"&&!ce&&!he){A({type:"star",value:L,output:""});continue}for(;W.slice(0,3)==="/**";){const me=c[R.index+4];if(me&&me!=="/")break;W=W.slice(3),Y("/**",3)}if(K.type==="bos"&&j()){M.type="globstar",M.value+=L,M.output=B(f),R.output=M.output,R.globstar=!0,Y(L);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&!ue&&j()){R.output=R.output.slice(0,-(K.output+M.output).length),K.output=`(?:${K.output}`,M.type="globstar",M.output=B(f)+(f.strictSlashes?")":"|$)"),M.value+=L,R.globstar=!0,R.output+=K.output+M.output,Y(L);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&W[0]==="/"){const me=W[1]!==void 0?"|$":"";R.output=R.output.slice(0,-(K.output+M.output).length),K.output=`(?:${K.output}`,M.type="globstar",M.output=`${B(f)}${p}|${p}${me})`,M.value+=L,R.output+=K.output+M.output,R.globstar=!0,Y(L+F()),A({type:"slash",value:"/",output:""});continue}if(K.type==="bos"&&W[0]==="/"){M.type="globstar",M.value+=L,M.output=`(?:^|${p}|${B(f)}${p})`,R.output=M.output,R.globstar=!0,Y(L+F()),A({type:"slash",value:"/",output:""});continue}R.output=R.output.slice(0,-M.output.length),M.type="globstar",M.output=B(f),M.value+=L,R.output+=M.output,R.globstar=!0,Y(L);continue}const ie={type:"star",value:L,output:H};if(f.bash===!0){ie.output=".*?",(M.type==="bos"||M.type==="slash")&&(ie.output=G+ie.output),A(ie);continue}if(M&&(M.type==="bracket"||M.type==="paren")&&f.regex===!0){ie.output=L,A(ie);continue}(R.index===R.start||M.type==="slash"||M.type==="dot")&&(M.type==="dot"?(R.output+=x,M.output+=x):f.dot===!0?(R.output+=k,M.output+=k):(R.output+=G,M.output+=G),U()!=="*"&&(R.output+=T,M.output+=T)),A(ie)}for(;R.brackets>0;){if(f.strictBrackets===!0)throw new SyntaxError(s("closing","]"));R.output=a.escapeLast(R.output,"["),Z("brackets")}for(;R.parens>0;){if(f.strictBrackets===!0)throw new SyntaxError(s("closing",")"));R.output=a.escapeLast(R.output,"("),Z("parens")}for(;R.braces>0;){if(f.strictBrackets===!0)throw new SyntaxError(s("closing","}"));R.output=a.escapeLast(R.output,"{"),Z("braces")}if(f.strictSlashes!==!0&&(M.type==="star"||M.type==="bracket")&&A({type:"maybe_slash",value:"",output:`${p}?`}),R.backtrack===!0){R.output="";for(const W of R.tokens)R.output+=W.output!=null?W.output:W.value,W.suffix&&(R.output+=W.suffix)}return R};return u.fastpaths=(c,y)=>{const f={...y},O=typeof f.maxLength=="number"?Math.min(o,f.maxLength):o,w=c.length;if(w>O)throw new SyntaxError(`Input length: ${w}, exceeds maximum allowed length: ${O}`);c=e[c]||c;const S=a.isWindows(y),{DOT_LITERAL:d,SLASH_LITERAL:m,ONE_CHAR:E,DOTS_SLASH:h,NO_DOT:v,NO_DOTS:_,NO_DOTS_SLASH:g,STAR:p,START_ANCHOR:T}=r.globChars(S),P=f.dot?_:v,I=f.dot?g:v,x=f.capture?"":"?:",k={negated:!1,prefix:""};let N=f.bash===!0?".*?":p;f.capture&&(N=`(${N})`);const $=G=>G.noglobstar===!0?N:`(${x}(?:(?!${T}${G.dot?h:d}).)*?)`,C=G=>{switch(G){case"*":return`${P}${E}${N}`;case".*":return`${d}${E}${N}`;case"*.*":return`${P}${N}${d}${E}${N}`;case"*/*":return`${P}${N}${m}${E}${I}${N}`;case"**":return P+$(f);case"**/*":return`(?:${P}${$(f)}${m})?${I}${E}${N}`;case"**/*.*":return`(?:${P}${$(f)}${m})?${I}${N}${d}${E}${N}`;case"**/.*":return`(?:${P}${$(f)}${m})?${d}${E}${N}`;default:{const V=/^(.*?)\.(\w+)$/.exec(G);if(!V)return;const H=C(V[1]);return H?H+d+V[2]:void 0}}},D=a.removePrefix(c,k);let B=C(D);return B&&f.strictSlashes!==!0&&(B+=`${m}?`),B},mn=u,mn}var _n,Js;function _h(){if(Js)return _n;Js=1;const r=Q,a=ph(),o=mh(),l=kt(),i=Ft(),t=n=>n&&typeof n=="object"&&!Array.isArray(n),e=(n,s,u=!1)=>{if(Array.isArray(n)){const m=n.map(h=>e(h,s,u));return h=>{for(const v of m){const _=v(h);if(_)return _}return!1}}const c=t(n)&&n.tokens&&n.input;if(n===""||typeof n!="string"&&!c)throw new TypeError("Expected pattern to be a non-empty string");const y=s||{},f=l.isWindows(s),O=c?e.compileRe(n,s):e.makeRe(n,s,!1,!0),w=O.state;delete O.state;let S=()=>!1;if(y.ignore){const m={...s,ignore:null,onMatch:null,onResult:null};S=e(y.ignore,m,u)}const d=(m,E=!1)=>{const{isMatch:h,match:v,output:_}=e.test(m,O,s,{glob:n,posix:f}),g={glob:n,state:w,regex:O,posix:f,input:m,output:_,match:v,isMatch:h};return typeof y.onResult=="function"&&y.onResult(g),h===!1?(g.isMatch=!1,E?g:!1):S(m)?(typeof y.onIgnore=="function"&&y.onIgnore(g),g.isMatch=!1,E?g:!1):(typeof y.onMatch=="function"&&y.onMatch(g),E?g:!0)};return u&&(d.state=w),d};return e.test=(n,s,u,{glob:c,posix:y}={})=>{if(typeof n!="string")throw new TypeError("Expected input to be a string");if(n==="")return{isMatch:!1,output:""};const f=u||{},O=f.format||(y?l.toPosixSlashes:null);let w=n===c,S=w&&O?O(n):n;return w===!1&&(S=O?O(n):n,w=S===c),(w===!1||f.capture===!0)&&(f.matchBase===!0||f.basename===!0?w=e.matchBase(n,s,u,y):w=s.exec(S)),{isMatch:!!w,match:w,output:S}},e.matchBase=(n,s,u,c=l.isWindows(u))=>(s instanceof RegExp?s:e.makeRe(s,u)).test(r.basename(n)),e.isMatch=(n,s,u)=>e(s,u)(n),e.parse=(n,s)=>Array.isArray(n)?n.map(u=>e.parse(u,s)):o(n,{...s,fastpaths:!1}),e.scan=(n,s)=>a(n,s),e.compileRe=(n,s,u=!1,c=!1)=>{if(u===!0)return n.output;const y=s||{},f=y.contains?"":"^",O=y.contains?"":"$";let w=`${f}(?:${n.output})${O}`;n&&n.negated===!0&&(w=`^(?!${w}).*$`);const S=e.toRegex(w,s);return c===!0&&(S.state=n),S},e.makeRe=(n,s={},u=!1,c=!1)=>{if(!n||typeof n!="string")throw new TypeError("Expected a non-empty string");let y={negated:!1,fastpaths:!0};return s.fastpaths!==!1&&(n[0]==="."||n[0]==="*")&&(y.output=o.fastpaths(n,s)),y.output||(y=o(n,s)),e.compileRe(y,s,u,c)},e.toRegex=(n,s)=>{try{const u=s||{};return new RegExp(n,u.flags||(u.nocase?"i":""))}catch(u){if(s&&s.debug===!0)throw u;return/$^/}},e.constants=i,_n=e,_n}var yn,Qs;function yh(){return Qs||(Qs=1,yn=_h()),yn}var En,eo;function Eh(){if(eo)return En;eo=1;const r=Dt,a=dh(),o=yh(),l=kt(),i=n=>n===""||n==="./",t=n=>{const s=n.indexOf("{");return s>-1&&n.indexOf("}",s)>-1},e=(n,s,u)=>{s=[].concat(s),n=[].concat(n);let c=new Set,y=new Set,f=new Set,O=0,w=m=>{f.add(m.output),u&&u.onResult&&u.onResult(m)};for(let m=0;m<s.length;m++){let E=o(String(s[m]),{...u,onResult:w},!0),h=E.state.negated||E.state.negatedExtglob;h&&O++;for(let v of n){let _=E(v,!0);(h?!_.isMatch:_.isMatch)&&(h?c.add(_.output):(c.delete(_.output),y.add(_.output)))}}let d=(O===s.length?[...f]:[...y]).filter(m=>!c.has(m));if(u&&d.length===0){if(u.failglob===!0)throw new Error(`No matches found for "${s.join(", ")}"`);if(u.nonull===!0||u.nullglob===!0)return u.unescape?s.map(m=>m.replace(/\\/g,"")):s}return d};return e.match=e,e.matcher=(n,s)=>o(n,s),e.isMatch=(n,s,u)=>o(s,u)(n),e.any=e.isMatch,e.not=(n,s,u={})=>{s=[].concat(s).map(String);let c=new Set,y=[],f=w=>{u.onResult&&u.onResult(w),y.push(w.output)},O=new Set(e(n,s,{...u,onResult:f}));for(let w of y)O.has(w)||c.add(w);return[...c]},e.contains=(n,s,u)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${r.inspect(n)}"`);if(Array.isArray(s))return s.some(c=>e.contains(n,c,u));if(typeof s=="string"){if(i(n)||i(s))return!1;if(n.includes(s)||n.startsWith("./")&&n.slice(2).includes(s))return!0}return e.isMatch(n,s,{...u,contains:!0})},e.matchKeys=(n,s,u)=>{if(!l.isObject(n))throw new TypeError("Expected the first argument to be an object");let c=e(Object.keys(n),s,u),y={};for(let f of c)y[f]=n[f];return y},e.some=(n,s,u)=>{let c=[].concat(n);for(let y of[].concat(s)){let f=o(String(y),u);if(c.some(O=>f(O)))return!0}return!1},e.every=(n,s,u)=>{let c=[].concat(n);for(let y of[].concat(s)){let f=o(String(y),u);if(!c.every(O=>f(O)))return!1}return!0},e.all=(n,s,u)=>{if(typeof n!="string")throw new TypeError(`Expected a string: "${r.inspect(n)}"`);return[].concat(s).every(c=>o(c,u)(n))},e.capture=(n,s,u)=>{let c=l.isWindows(u),f=o.makeRe(String(n),{...u,capture:!0}).exec(c?l.toPosixSlashes(s):s);if(f)return f.slice(1).map(O=>O===void 0?"":O)},e.makeRe=(...n)=>o.makeRe(...n),e.scan=(...n)=>o.scan(...n),e.parse=(n,s)=>{let u=[];for(let c of[].concat(n||[]))for(let y of a(String(c),s))u.push(o.parse(y,s));return u},e.braces=(n,s)=>{if(typeof n!="string")throw new TypeError("Expected a string");return s&&s.nobrace===!0||!t(n)?[n]:a(n,s)},e.braceExpand=(n,s)=>{if(typeof n!="string")throw new TypeError("Expected a string");return e.braces(n,{...s,expand:!0})},e.hasBraces=t,En=e,En}var to;function gh(){if(to)return ae;to=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.isAbsolute=ae.partitionAbsoluteAndRelative=ae.removeDuplicateSlashes=ae.matchAny=ae.convertPatternsToRe=ae.makeRe=ae.getPatternParts=ae.expandBraceExpansion=ae.expandPatternsWithBraceExpansion=ae.isAffectDepthOfReadingPattern=ae.endsWithSlashGlobStar=ae.hasGlobStar=ae.getBaseDirectory=ae.isPatternRelatedToParentDirectory=ae.getPatternsOutsideCurrentDirectory=ae.getPatternsInsideCurrentDirectory=ae.getPositivePatterns=ae.getNegativePatterns=ae.isPositivePattern=ae.isNegativePattern=ae.convertToNegativePattern=ae.convertToPositivePattern=ae.isDynamicPattern=ae.isStaticPattern=void 0;const r=Q,a=oh(),o=Eh(),l="**",i="\\",t=/[*?]|^!/,e=/\[[^[]*]/,n=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,s=/[!*+?@]\([^(]*\)/,u=/,|\.\./,c=/(?!^)\/{2,}/g;function y(H,R={}){return!f(H,R)}ae.isStaticPattern=y;function f(H,R={}){return H===""?!1:!!(R.caseSensitiveMatch===!1||H.includes(i)||t.test(H)||e.test(H)||n.test(H)||R.extglob!==!1&&s.test(H)||R.braceExpansion!==!1&&O(H))}ae.isDynamicPattern=f;function O(H){const R=H.indexOf("{");if(R===-1)return!1;const b=H.indexOf("}",R+1);if(b===-1)return!1;const z=H.slice(R,b);return u.test(z)}function w(H){return d(H)?H.slice(1):H}ae.convertToPositivePattern=w;function S(H){return"!"+H}ae.convertToNegativePattern=S;function d(H){return H.startsWith("!")&&H[1]!=="("}ae.isNegativePattern=d;function m(H){return!d(H)}ae.isPositivePattern=m;function E(H){return H.filter(d)}ae.getNegativePatterns=E;function h(H){return H.filter(m)}ae.getPositivePatterns=h;function v(H){return H.filter(R=>!g(R))}ae.getPatternsInsideCurrentDirectory=v;function _(H){return H.filter(g)}ae.getPatternsOutsideCurrentDirectory=_;function g(H){return H.startsWith("..")||H.startsWith("./..")}ae.isPatternRelatedToParentDirectory=g;function p(H){return a(H,{flipBackslashes:!1})}ae.getBaseDirectory=p;function T(H){return H.includes(l)}ae.hasGlobStar=T;function P(H){return H.endsWith("/"+l)}ae.endsWithSlashGlobStar=P;function I(H){const R=r.basename(H);return P(H)||y(R)}ae.isAffectDepthOfReadingPattern=I;function x(H){return H.reduce((R,b)=>R.concat(k(b)),[])}ae.expandPatternsWithBraceExpansion=x;function k(H){const R=o.braces(H,{expand:!0,nodupes:!0,keepEscaping:!0});return R.sort((b,z)=>b.length-z.length),R.filter(b=>b!=="")}ae.expandBraceExpansion=k;function N(H,R){let{parts:b}=o.scan(H,Object.assign(Object.assign({},R),{parts:!0}));return b.length===0&&(b=[H]),b[0].startsWith("/")&&(b[0]=b[0].slice(1),b.unshift("")),b}ae.getPatternParts=N;function $(H,R){return o.makeRe(H,R)}ae.makeRe=$;function C(H,R){return H.map(b=>$(b,R))}ae.convertPatternsToRe=C;function D(H,R){return R.some(b=>b.test(H))}ae.matchAny=D;function B(H){return H.replace(c,"/")}ae.removeDuplicateSlashes=B;function G(H){const R=[],b=[];for(const z of H)V(z)?R.push(z):b.push(z);return[R,b]}ae.partitionAbsoluteAndRelative=G;function V(H){return r.isAbsolute(H)}return ae.isAbsolute=V,ae}var ze={},gn,ro;function vh(){if(ro)return gn;ro=1;const a=Ce.PassThrough,o=Array.prototype.slice;gn=l;function l(){const t=[],e=o.call(arguments);let n=!1,s=e[e.length-1];s&&!Array.isArray(s)&&s.pipe==null?e.pop():s={};const u=s.end!==!1,c=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);const y=a(s);function f(){for(let S=0,d=arguments.length;S<d;S++)t.push(i(arguments[S],s));return O(),this}function O(){if(n)return;n=!0;let S=t.shift();if(!S){process.nextTick(w);return}Array.isArray(S)||(S=[S]);let d=S.length+1;function m(){--d>0||(n=!1,O())}function E(h){function v(){h.removeListener("merge2UnpipeEnd",v),h.removeListener("end",v),c&&h.removeListener("error",_),m()}function _(g){y.emit("error",g)}if(h._readableState.endEmitted)return m();h.on("merge2UnpipeEnd",v),h.on("end",v),c&&h.on("error",_),h.pipe(y,{end:!1}),h.resume()}for(let h=0;h<S.length;h++)E(S[h]);m()}function w(){n=!1,y.emit("queueDrain"),u&&y.end()}return y.setMaxListeners(0),y.add=f,y.on("unpipe",function(S){S.emit("merge2UnpipeEnd")}),e.length&&f.apply(null,e),y}function i(t,e){if(Array.isArray(t))for(let n=0,s=t.length;n<s;n++)t[n]=i(t[n],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(a(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}return gn}var no;function Sh(){if(no)return ze;no=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.merge=void 0;const r=vh();function a(l){const i=r(l);return l.forEach(t=>{t.once("error",e=>i.emit("error",e))}),i.once("close",()=>o(l)),i.once("end",()=>o(l)),i}ze.merge=a;function o(l){l.forEach(i=>i.emit("close"))}return ze}var De={},io;function Rh(){if(io)return De;io=1,Object.defineProperty(De,"__esModule",{value:!0}),De.isEmpty=De.isString=void 0;function r(o){return typeof o=="string"}De.isString=r;function a(o){return o===""}return De.isEmpty=a,De}var so;function Le(){if(so)return pe;so=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.string=pe.stream=pe.pattern=pe.path=pe.fs=pe.errno=pe.array=void 0;const r=eh();pe.array=r;const a=th();pe.errno=a;const o=rh();pe.fs=o;const l=nh();pe.path=l;const i=gh();pe.pattern=i;const t=Sh();pe.stream=t;const e=Rh();return pe.string=e,pe}var oo;function wh(){if(oo)return de;oo=1,Object.defineProperty(de,"__esModule",{value:!0}),de.convertPatternGroupToTask=de.convertPatternGroupsToTasks=de.groupPatternsByBaseDirectory=de.getNegativePatternsAsPositive=de.getPositivePatterns=de.convertPatternsToTasks=de.generate=void 0;const r=Le();function a(u,c){const y=o(u,c),f=o(c.ignore,c),O=i(y),w=t(y,f),S=O.filter(h=>r.pattern.isStaticPattern(h,c)),d=O.filter(h=>r.pattern.isDynamicPattern(h,c)),m=l(S,w,!1),E=l(d,w,!0);return m.concat(E)}de.generate=a;function o(u,c){let y=u;return c.braceExpansion&&(y=r.pattern.expandPatternsWithBraceExpansion(y)),c.baseNameMatch&&(y=y.map(f=>f.includes("/")?f:`**/${f}`)),y.map(f=>r.pattern.removeDuplicateSlashes(f))}function l(u,c,y){const f=[],O=r.pattern.getPatternsOutsideCurrentDirectory(u),w=r.pattern.getPatternsInsideCurrentDirectory(u),S=e(O),d=e(w);return f.push(...n(S,c,y)),"."in d?f.push(s(".",w,c,y)):f.push(...n(d,c,y)),f}de.convertPatternsToTasks=l;function i(u){return r.pattern.getPositivePatterns(u)}de.getPositivePatterns=i;function t(u,c){return r.pattern.getNegativePatterns(u).concat(c).map(r.pattern.convertToPositivePattern)}de.getNegativePatternsAsPositive=t;function e(u){const c={};return u.reduce((y,f)=>{const O=r.pattern.getBaseDirectory(f);return O in y?y[O].push(f):y[O]=[f],y},c)}de.groupPatternsByBaseDirectory=e;function n(u,c,y){return Object.keys(u).map(f=>s(f,u[f],c,y))}de.convertPatternGroupsToTasks=n;function s(u,c,y,f){return{dynamic:f,positive:c,negative:y,base:u,patterns:[].concat(c,y.map(r.pattern.convertToNegativePattern))}}return de.convertPatternGroupToTask=s,de}var st={},ot={},ve={},at={},ut={},we={},Oe={},Ae={},Ye={},ao;function Oh(){if(ao)return Ye;ao=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.read=void 0;function r(l,i,t){i.fs.lstat(l,(e,n)=>{if(e!==null){a(t,e);return}if(!n.isSymbolicLink()||!i.followSymbolicLink){o(t,n);return}i.fs.stat(l,(s,u)=>{if(s!==null){if(i.throwErrorOnBrokenSymbolicLink){a(t,s);return}o(t,n);return}i.markSymbolicLink&&(u.isSymbolicLink=()=>!0),o(t,u)})})}Ye.read=r;function a(l,i){l(i)}function o(l,i){l(null,i)}return Ye}var Ke={},uo;function Ah(){if(uo)return Ke;uo=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.read=void 0;function r(a,o){const l=o.fs.lstatSync(a);if(!l.isSymbolicLink()||!o.followSymbolicLink)return l;try{const i=o.fs.statSync(a);return o.markSymbolicLink&&(i.isSymbolicLink=()=>!0),i}catch(i){if(!o.throwErrorOnBrokenSymbolicLink)return l;throw i}}return Ke.read=r,Ke}var ct={},vn={},co;function Th(){return co||(co=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFileSystemAdapter=r.FILE_SYSTEM_ADAPTER=void 0;const a=_e;r.FILE_SYSTEM_ADAPTER={lstat:a.lstat,stat:a.stat,lstatSync:a.lstatSync,statSync:a.statSync};function o(l){return l===void 0?r.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},r.FILE_SYSTEM_ADAPTER),l)}r.createFileSystemAdapter=o}(vn)),vn}var lo;function Ph(){if(lo)return ct;lo=1,Object.defineProperty(ct,"__esModule",{value:!0});const r=Th();class a{constructor(l={}){this._options=l,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=r.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(l,i){return l!=null?l:i}}return ct.default=a,ct}var ho;function Ue(){if(ho)return Ae;ho=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.statSync=Ae.stat=Ae.Settings=void 0;const r=Oh(),a=Ah(),o=Ph();Ae.Settings=o.default;function l(e,n,s){if(typeof n=="function"){r.read(e,t(),n);return}r.read(e,t(n),s)}Ae.stat=l;function i(e,n){const s=t(n);return a.read(e,s)}Ae.statSync=i;function t(e={}){return e instanceof o.default?e:new o.default(e)}return Ae}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Sn,fo;function bh(){if(fo)return Sn;fo=1;let r;return Sn=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Ne):a=>(r||(r=Promise.resolve())).then(a).catch(o=>setTimeout(()=>{throw o},0)),Sn}/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Rn,po;function Nh(){if(po)return Rn;po=1,Rn=a;const r=bh();function a(o,l){let i,t,e,n=!0;Array.isArray(o)?(i=[],t=o.length):(e=Object.keys(o),i={},t=e.length);function s(c){function y(){l&&l(c,i),l=null}n?r(y):y()}function u(c,y,f){i[c]=f,(--t===0||y)&&s(y)}t?e?e.forEach(function(c){o[c](function(y,f){u(c,y,f)})}):o.forEach(function(c,y){c(function(f,O){u(y,f,O)})}):s(null),n=!1}return Rn}var Xe={},mo;function Ha(){if(mo)return Xe;mo=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const r=process.versions.node.split(".");if(r[0]===void 0||r[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const a=Number.parseInt(r[0],10),o=Number.parseInt(r[1],10),l=10,i=10,t=a>l,e=a===l&&o>=i;return Xe.IS_SUPPORT_READDIR_WITH_FILE_TYPES=t||e,Xe}var Ze={},Je={},_o;function Lh(){if(_o)return Je;_o=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.createDirentFromStats=void 0;class r{constructor(l,i){this.name=l,this.isBlockDevice=i.isBlockDevice.bind(i),this.isCharacterDevice=i.isCharacterDevice.bind(i),this.isDirectory=i.isDirectory.bind(i),this.isFIFO=i.isFIFO.bind(i),this.isFile=i.isFile.bind(i),this.isSocket=i.isSocket.bind(i),this.isSymbolicLink=i.isSymbolicLink.bind(i)}}function a(o,l){return new r(o,l)}return Je.createDirentFromStats=a,Je}var yo;function ja(){if(yo)return Ze;yo=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.fs=void 0;const r=Lh();return Ze.fs=r,Ze}var Qe={},Eo;function Ua(){if(Eo)return Qe;Eo=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.joinPathSegments=void 0;function r(a,o,l){return a.endsWith(l)?a+o:a+l+o}return Qe.joinPathSegments=r,Qe}var go;function Ih(){if(go)return Oe;go=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.readdir=Oe.readdirWithFileTypes=Oe.read=void 0;const r=Ue(),a=Nh(),o=Ha(),l=ja(),i=Ua();function t(y,f,O){if(!f.stats&&o.IS_SUPPORT_READDIR_WITH_FILE_TYPES){e(y,f,O);return}s(y,f,O)}Oe.read=t;function e(y,f,O){f.fs.readdir(y,{withFileTypes:!0},(w,S)=>{if(w!==null){u(O,w);return}const d=S.map(E=>({dirent:E,name:E.name,path:i.joinPathSegments(y,E.name,f.pathSegmentSeparator)}));if(!f.followSymbolicLinks){c(O,d);return}const m=d.map(E=>n(E,f));a(m,(E,h)=>{if(E!==null){u(O,E);return}c(O,h)})})}Oe.readdirWithFileTypes=e;function n(y,f){return O=>{if(!y.dirent.isSymbolicLink()){O(null,y);return}f.fs.stat(y.path,(w,S)=>{if(w!==null){if(f.throwErrorOnBrokenSymbolicLink){O(w);return}O(null,y);return}y.dirent=l.fs.createDirentFromStats(y.name,S),O(null,y)})}}function s(y,f,O){f.fs.readdir(y,(w,S)=>{if(w!==null){u(O,w);return}const d=S.map(m=>{const E=i.joinPathSegments(y,m,f.pathSegmentSeparator);return h=>{r.stat(E,f.fsStatSettings,(v,_)=>{if(v!==null){h(v);return}const g={name:m,path:E,dirent:l.fs.createDirentFromStats(m,_)};f.stats&&(g.stats=_),h(null,g)})}});a(d,(m,E)=>{if(m!==null){u(O,m);return}c(O,E)})})}Oe.readdir=s;function u(y,f){y(f)}function c(y,f){y(null,f)}return Oe}var Te={},vo;function Dh(){if(vo)return Te;vo=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.readdir=Te.readdirWithFileTypes=Te.read=void 0;const r=Ue(),a=Ha(),o=ja(),l=Ua();function i(n,s){return!s.stats&&a.IS_SUPPORT_READDIR_WITH_FILE_TYPES?t(n,s):e(n,s)}Te.read=i;function t(n,s){return s.fs.readdirSync(n,{withFileTypes:!0}).map(c=>{const y={dirent:c,name:c.name,path:l.joinPathSegments(n,c.name,s.pathSegmentSeparator)};if(y.dirent.isSymbolicLink()&&s.followSymbolicLinks)try{const f=s.fs.statSync(y.path);y.dirent=o.fs.createDirentFromStats(y.name,f)}catch(f){if(s.throwErrorOnBrokenSymbolicLink)throw f}return y})}Te.readdirWithFileTypes=t;function e(n,s){return s.fs.readdirSync(n).map(c=>{const y=l.joinPathSegments(n,c,s.pathSegmentSeparator),f=r.statSync(y,s.fsStatSettings),O={name:c,path:y,dirent:o.fs.createDirentFromStats(c,f)};return s.stats&&(O.stats=f),O})}return Te.readdir=e,Te}var lt={},wn={},So;function Ch(){return So||(So=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFileSystemAdapter=r.FILE_SYSTEM_ADAPTER=void 0;const a=_e;r.FILE_SYSTEM_ADAPTER={lstat:a.lstat,stat:a.stat,lstatSync:a.lstatSync,statSync:a.statSync,readdir:a.readdir,readdirSync:a.readdirSync};function o(l){return l===void 0?r.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},r.FILE_SYSTEM_ADAPTER),l)}r.createFileSystemAdapter=o}(wn)),wn}var Ro;function $h(){if(Ro)return lt;Ro=1,Object.defineProperty(lt,"__esModule",{value:!0});const r=Q,a=Ue(),o=Ch();class l{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=o.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,r.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new a.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return t!=null?t:e}}return lt.default=l,lt}var wo;function oi(){if(wo)return we;wo=1,Object.defineProperty(we,"__esModule",{value:!0}),we.Settings=we.scandirSync=we.scandir=void 0;const r=Ih(),a=Dh(),o=$h();we.Settings=o.default;function l(e,n,s){if(typeof n=="function"){r.read(e,t(),n);return}r.read(e,t(n),s)}we.scandir=l;function i(e,n){const s=t(n);return a.read(e,s)}we.scandirSync=i;function t(e={}){return e instanceof o.default?e:new o.default(e)}return we}var ht={exports:{}},On,Oo;function xh(){if(Oo)return On;Oo=1;function r(a){var o=new a,l=o;function i(){var e=o;return e.next?o=e.next:(o=new a,l=o),e.next=null,e}function t(e){l.next=e,l=e}return{get:i,release:t}}return On=r,On}var Ao;function Fh(){if(Ao)return ht.exports;Ao=1;var r=xh();function a(t,e,n){if(typeof t=="function"&&(n=e,e=t,t=null),!(n>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var s=r(l),u=null,c=null,y=0,f=null,O={push:v,drain:o,saturated:o,pause:S,paused:!1,get concurrency(){return n},set concurrency(I){if(!(I>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(n=I,!O.paused)for(;u&&y<n;)y++,g()},running:w,resume:E,idle:h,length:d,getQueue:m,unshift:_,empty:o,kill:p,killAndDrain:T,error:P};return O;function w(){return y}function S(){O.paused=!0}function d(){for(var I=u,x=0;I;)I=I.next,x++;return x}function m(){for(var I=u,x=[];I;)x.push(I.value),I=I.next;return x}function E(){if(O.paused){if(O.paused=!1,u===null){y++,g();return}for(;u&&y<n;)y++,g()}}function h(){return y===0&&O.length()===0}function v(I,x){var k=s.get();k.context=t,k.release=g,k.value=I,k.callback=x||o,k.errorHandler=f,y>=n||O.paused?c?(c.next=k,c=k):(u=k,c=k,O.saturated()):(y++,e.call(t,k.value,k.worked))}function _(I,x){var k=s.get();k.context=t,k.release=g,k.value=I,k.callback=x||o,k.errorHandler=f,y>=n||O.paused?u?(k.next=u,u=k):(u=k,c=k,O.saturated()):(y++,e.call(t,k.value,k.worked))}function g(I){I&&s.release(I);var x=u;x&&y<=n?O.paused?y--:(c===u&&(c=null),u=x.next,x.next=null,e.call(t,x.value,x.worked),c===null&&O.empty()):--y===0&&O.drain()}function p(){u=null,c=null,O.drain=o}function T(){u=null,c=null,O.drain(),O.drain=o}function P(I){f=I}}function o(){}function l(){this.value=null,this.callback=o,this.next=null,this.release=o,this.context=null,this.errorHandler=null;var t=this;this.worked=function(n,s){var u=t.callback,c=t.errorHandler,y=t.value;t.value=null,t.callback=o,t.errorHandler&&c(n,y),u.call(t.context,n,s),t.release(t)}}function i(t,e,n){typeof t=="function"&&(n=e,e=t,t=null);function s(S,d){e.call(this,S).then(function(m){d(null,m)},d)}var u=a(t,s,n),c=u.push,y=u.unshift;return u.push=f,u.unshift=O,u.drained=w,u;function f(S){var d=new Promise(function(m,E){c(S,function(h,v){if(h){E(h);return}m(v)})});return d.catch(o),d}function O(S){var d=new Promise(function(m,E){y(S,function(h,v){if(h){E(h);return}m(v)})});return d.catch(o),d}function w(){var S=new Promise(function(d){process.nextTick(function(){if(u.idle())d();else{var m=u.drain;u.drain=function(){typeof m=="function"&&m(),d(),u.drain=m}}})});return S}}return ht.exports=a,ht.exports.promise=i,ht.exports}var Se={},To;function ai(){if(To)return Se;To=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.joinPathSegments=Se.replacePathSegmentSeparator=Se.isAppliedFilter=Se.isFatalError=void 0;function r(i,t){return i.errorFilter===null?!0:!i.errorFilter(t)}Se.isFatalError=r;function a(i,t){return i===null||i(t)}Se.isAppliedFilter=a;function o(i,t){return i.split(/[/\\]/).join(t)}Se.replacePathSegmentSeparator=o;function l(i,t,e){return i===""?t:i.endsWith(e)?i+t:i+e+t}return Se.joinPathSegments=l,Se}var ft={},Po;function Ga(){if(Po)return ft;Po=1,Object.defineProperty(ft,"__esModule",{value:!0});const r=ai();class a{constructor(l,i){this._root=l,this._settings=i,this._root=r.replacePathSegmentSeparator(l,i.pathSegmentSeparator)}}return ft.default=a,ft}var bo;function Wa(){if(bo)return ut;bo=1,Object.defineProperty(ut,"__esModule",{value:!0});const r=qe,a=oi(),o=Fh(),l=ai(),i=Ga();class t extends i.default{constructor(n,s){super(n,s),this._settings=s,this._scandir=a.scandir,this._emitter=new r.EventEmitter,this._queue=o(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(n){this._emitter.on("entry",n)}onError(n){this._emitter.once("error",n)}onEnd(n){this._emitter.once("end",n)}_pushToQueue(n,s){const u={directory:n,base:s};this._queue.push(u,c=>{c!==null&&this._handleError(c)})}_worker(n,s){this._scandir(n.directory,this._settings.fsScandirSettings,(u,c)=>{if(u!==null){s(u,void 0);return}for(const y of c)this._handleEntry(y,n.base);s(null,void 0)})}_handleError(n){this._isDestroyed||!l.isFatalError(this._settings,n)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",n))}_handleEntry(n,s){if(this._isDestroyed||this._isFatalError)return;const u=n.path;s!==void 0&&(n.path=l.joinPathSegments(s,n.name,this._settings.pathSegmentSeparator)),l.isAppliedFilter(this._settings.entryFilter,n)&&this._emitEntry(n),n.dirent.isDirectory()&&l.isAppliedFilter(this._settings.deepFilter,n)&&this._pushToQueue(u,s===void 0?void 0:n.path)}_emitEntry(n){this._emitter.emit("entry",n)}}return ut.default=t,ut}var No;function kh(){if(No)return at;No=1,Object.defineProperty(at,"__esModule",{value:!0});const r=Wa();class a{constructor(t,e){this._root=t,this._settings=e,this._reader=new r.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(e=>{o(t,e)}),this._reader.onEntry(e=>{this._storage.push(e)}),this._reader.onEnd(()=>{l(t,this._storage)}),this._reader.read()}}at.default=a;function o(i,t){i(t)}function l(i,t){i(null,t)}return at}var dt={},Lo;function Mh(){if(Lo)return dt;Lo=1,Object.defineProperty(dt,"__esModule",{value:!0});const r=Ce,a=Wa();class o{constructor(i,t){this._root=i,this._settings=t,this._reader=new a.default(this._root,this._settings),this._stream=new r.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(i=>{this._stream.emit("error",i)}),this._reader.onEntry(i=>{this._stream.push(i)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}return dt.default=o,dt}var pt={},mt={},Io;function qh(){if(Io)return mt;Io=1,Object.defineProperty(mt,"__esModule",{value:!0});const r=oi(),a=ai(),o=Ga();class l extends o.default{constructor(){super(...arguments),this._scandir=r.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const n=this._scandir(t,this._settings.fsScandirSettings);for(const s of n)this._handleEntry(s,e)}catch(n){this._handleError(n)}}_handleError(t){if(a.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const n=t.path;e!==void 0&&(t.path=a.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),a.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&a.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,e===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}}return mt.default=l,mt}var Do;function Bh(){if(Do)return pt;Do=1,Object.defineProperty(pt,"__esModule",{value:!0});const r=qh();class a{constructor(l,i){this._root=l,this._settings=i,this._reader=new r.default(this._root,this._settings)}read(){return this._reader.read()}}return pt.default=a,pt}var _t={},Co;function Hh(){if(Co)return _t;Co=1,Object.defineProperty(_t,"__esModule",{value:!0});const r=Q,a=oi();class o{constructor(i={}){this._options=i,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,r.sep),this.fsScandirSettings=new a.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(i,t){return i!=null?i:t}}return _t.default=o,_t}var $o;function ui(){if($o)return ve;$o=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.Settings=ve.walkStream=ve.walkSync=ve.walk=void 0;const r=kh(),a=Mh(),o=Bh(),l=Hh();ve.Settings=l.default;function i(s,u,c){if(typeof u=="function"){new r.default(s,n()).read(u);return}new r.default(s,n(u)).read(c)}ve.walk=i;function t(s,u){const c=n(u);return new o.default(s,c).read()}ve.walkSync=t;function e(s,u){const c=n(u);return new a.default(s,c).read()}ve.walkStream=e;function n(s={}){return s instanceof l.default?s:new l.default(s)}return ve}var yt={},xo;function ci(){if(xo)return yt;xo=1,Object.defineProperty(yt,"__esModule",{value:!0});const r=Q,a=Ue(),o=Le();class l{constructor(t){this._settings=t,this._fsStatSettings=new a.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return r.resolve(this._settings.cwd,t)}_makeEntry(t,e){const n={name:e,path:e,dirent:o.fs.createDirentFromStats(e,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!o.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}}return yt.default=l,yt}var Et={},Fo;function Va(){if(Fo)return Et;Fo=1,Object.defineProperty(Et,"__esModule",{value:!0});const r=Ce,a=Ue(),o=ui(),l=ci();class i extends l.default{constructor(){super(...arguments),this._walkStream=o.walkStream,this._stat=a.stat}dynamic(e,n){return this._walkStream(e,n)}static(e,n){const s=e.map(this._getFullEntryPath,this),u=new r.PassThrough({objectMode:!0});u._write=(c,y,f)=>this._getEntry(s[c],e[c],n).then(O=>{O!==null&&n.entryFilter(O)&&u.push(O),c===s.length-1&&u.end(),f()}).catch(f);for(let c=0;c<s.length;c++)u.write(c);return u}_getEntry(e,n,s){return this._getStat(e).then(u=>this._makeEntry(u,n)).catch(u=>{if(s.errorFilter(u))return null;throw u})}_getStat(e){return new Promise((n,s)=>{this._stat(e,this._fsStatSettings,(u,c)=>u===null?n(c):s(u))})}}return Et.default=i,Et}var ko;function jh(){if(ko)return ot;ko=1,Object.defineProperty(ot,"__esModule",{value:!0});const r=ui(),a=ci(),o=Va();class l extends a.default{constructor(){super(...arguments),this._walkAsync=r.walk,this._readerStream=new o.default(this._settings)}dynamic(t,e){return new Promise((n,s)=>{this._walkAsync(t,e,(u,c)=>{u===null?n(c):s(u)})})}async static(t,e){const n=[],s=this._readerStream.static(t,e);return new Promise((u,c)=>{s.once("error",c),s.on("data",y=>n.push(y)),s.once("end",()=>u(n))})}}return ot.default=l,ot}var gt={},vt={},St={},Rt={},Mo;function Uh(){if(Mo)return Rt;Mo=1,Object.defineProperty(Rt,"__esModule",{value:!0});const r=Le();class a{constructor(l,i,t){this._patterns=l,this._settings=i,this._micromatchOptions=t,this._storage=[],this._fillStorage()}_fillStorage(){for(const l of this._patterns){const i=this._getPatternSegments(l),t=this._splitSegmentsIntoSections(i);this._storage.push({complete:t.length<=1,pattern:l,segments:i,sections:t})}}_getPatternSegments(l){return r.pattern.getPatternParts(l,this._micromatchOptions).map(t=>r.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:r.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t})}_splitSegmentsIntoSections(l){return r.array.splitWhen(l,i=>i.dynamic&&r.pattern.hasGlobStar(i.pattern))}}return Rt.default=a,Rt}var qo;function Gh(){if(qo)return St;qo=1,Object.defineProperty(St,"__esModule",{value:!0});const r=Uh();class a extends r.default{match(l){const i=l.split("/"),t=i.length,e=this._storage.filter(n=>!n.complete||n.segments.length>t);for(const n of e){const s=n.sections[0];if(!n.complete&&t>s.length||i.every((c,y)=>{const f=n.segments[y];return!!(f.dynamic&&f.patternRe.test(c)||!f.dynamic&&f.pattern===c)}))return!0}return!1}}return St.default=a,St}var Bo;function Wh(){if(Bo)return vt;Bo=1,Object.defineProperty(vt,"__esModule",{value:!0});const r=Le(),a=Gh();class o{constructor(i,t){this._settings=i,this._micromatchOptions=t}getFilter(i,t,e){const n=this._getMatcher(t),s=this._getNegativePatternsRe(e);return u=>this._filter(i,u,n,s)}_getMatcher(i){return new a.default(i,this._settings,this._micromatchOptions)}_getNegativePatternsRe(i){const t=i.filter(r.pattern.isAffectDepthOfReadingPattern);return r.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(i,t,e,n){if(this._isSkippedByDeep(i,t.path)||this._isSkippedSymbolicLink(t))return!1;const s=r.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(s,e)?!1:this._isSkippedByNegativePatterns(s,n)}_isSkippedByDeep(i,t){return this._settings.deep===1/0?!1:this._getEntryLevel(i,t)>=this._settings.deep}_getEntryLevel(i,t){const e=t.split("/").length;if(i==="")return e;const n=i.split("/").length;return e-n}_isSkippedSymbolicLink(i){return!this._settings.followSymbolicLinks&&i.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(i,t){return!this._settings.baseNameMatch&&!t.match(i)}_isSkippedByNegativePatterns(i,t){return!r.pattern.matchAny(i,t)}}return vt.default=o,vt}var wt={},Ho;function Vh(){if(Ho)return wt;Ho=1,Object.defineProperty(wt,"__esModule",{value:!0});const r=Le();class a{constructor(l,i){this._settings=l,this._micromatchOptions=i,this.index=new Map}getFilter(l,i){const[t,e]=r.pattern.partitionAbsoluteAndRelative(i),n={positive:{all:r.pattern.convertPatternsToRe(l,this._micromatchOptions)},negative:{absolute:r.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:r.pattern.convertPatternsToRe(e,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return s=>this._filter(s,n)}_filter(l,i){const t=r.path.removeLeadingDotSegment(l.path);if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(l)||this._onlyDirectoryFilter(l))return!1;const e=this._isMatchToPatternsSet(t,i,l.dirent.isDirectory());return this._settings.unique&&e&&this._createIndexRecord(t),e}_isDuplicateEntry(l){return this.index.has(l)}_createIndexRecord(l){this.index.set(l,void 0)}_onlyFileFilter(l){return this._settings.onlyFiles&&!l.dirent.isFile()}_onlyDirectoryFilter(l){return this._settings.onlyDirectories&&!l.dirent.isDirectory()}_isMatchToPatternsSet(l,i,t){return!(!this._isMatchToPatterns(l,i.positive.all,t)||this._isMatchToPatterns(l,i.negative.relative,t)||this._isMatchToAbsoluteNegative(l,i.negative.absolute,t))}_isMatchToAbsoluteNegative(l,i,t){if(i.length===0)return!1;const e=r.path.makeAbsolute(this._settings.cwd,l);return this._isMatchToPatterns(e,i,t)}_isMatchToPatterns(l,i,t){if(i.length===0)return!1;const e=r.pattern.matchAny(l,i);return!e&&t?r.pattern.matchAny(l+"/",i):e}}return wt.default=a,wt}var Ot={},jo;function zh(){if(jo)return Ot;jo=1,Object.defineProperty(Ot,"__esModule",{value:!0});const r=Le();class a{constructor(l){this._settings=l}getFilter(){return l=>this._isNonFatalError(l)}_isNonFatalError(l){return r.errno.isEnoentCodeError(l)||this._settings.suppressErrors}}return Ot.default=a,Ot}var At={},Uo;function Yh(){if(Uo)return At;Uo=1,Object.defineProperty(At,"__esModule",{value:!0});const r=Le();class a{constructor(l){this._settings=l}getTransformer(){return l=>this._transform(l)}_transform(l){let i=l.path;return this._settings.absolute&&(i=r.path.makeAbsolute(this._settings.cwd,i),i=r.path.unixify(i)),this._settings.markDirectories&&l.dirent.isDirectory()&&(i+="/"),this._settings.objectMode?Object.assign(Object.assign({},l),{path:i}):i}}return At.default=a,At}var Go;function li(){if(Go)return gt;Go=1,Object.defineProperty(gt,"__esModule",{value:!0});const r=Q,a=Wh(),o=Vh(),l=zh(),i=Yh();class t{constructor(n){this._settings=n,this.errorFilter=new l.default(this._settings),this.entryFilter=new o.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new a.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new i.default(this._settings)}_getRootDirectory(n){return r.resolve(this._settings.cwd,n.base)}_getReaderOptions(n){const s=n.base==="."?"":n.base;return{basePath:s,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(s,n.positive,n.negative),entryFilter:this.entryFilter.getFilter(n.positive,n.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}return gt.default=t,gt}var Wo;function Kh(){if(Wo)return st;Wo=1,Object.defineProperty(st,"__esModule",{value:!0});const r=jh(),a=li();class o extends a.default{constructor(){super(...arguments),this._reader=new r.default(this._settings)}async read(i){const t=this._getRootDirectory(i),e=this._getReaderOptions(i);return(await this.api(t,i,e)).map(s=>e.transform(s))}api(i,t,e){return t.dynamic?this._reader.dynamic(i,e):this._reader.static(t.patterns,e)}}return st.default=o,st}var Tt={},Vo;function Xh(){if(Vo)return Tt;Vo=1,Object.defineProperty(Tt,"__esModule",{value:!0});const r=Ce,a=Va(),o=li();class l extends o.default{constructor(){super(...arguments),this._reader=new a.default(this._settings)}read(t){const e=this._getRootDirectory(t),n=this._getReaderOptions(t),s=this.api(e,t,n),u=new r.Readable({objectMode:!0,read:()=>{}});return s.once("error",c=>u.emit("error",c)).on("data",c=>u.emit("data",n.transform(c))).once("end",()=>u.emit("end")),u.once("close",()=>s.destroy()),u}api(t,e,n){return e.dynamic?this._reader.dynamic(t,n):this._reader.static(e.patterns,n)}}return Tt.default=l,Tt}var Pt={},bt={},zo;function Zh(){if(zo)return bt;zo=1,Object.defineProperty(bt,"__esModule",{value:!0});const r=Ue(),a=ui(),o=ci();class l extends o.default{constructor(){super(...arguments),this._walkSync=a.walkSync,this._statSync=r.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const n=[];for(const s of t){const u=this._getFullEntryPath(s),c=this._getEntry(u,s,e);c===null||!e.entryFilter(c)||n.push(c)}return n}_getEntry(t,e,n){try{const s=this._getStat(t);return this._makeEntry(s,e)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}return bt.default=l,bt}var Yo;function Jh(){if(Yo)return Pt;Yo=1,Object.defineProperty(Pt,"__esModule",{value:!0});const r=Zh(),a=li();class o extends a.default{constructor(){super(...arguments),this._reader=new r.default(this._settings)}read(i){const t=this._getRootDirectory(i),e=this._getReaderOptions(i);return this.api(t,i,e).map(e.transform)}api(i,t,e){return t.dynamic?this._reader.dynamic(i,e):this._reader.static(t.patterns,e)}}return Pt.default=o,Pt}var An={},Ko;function Qh(){return Ko||(Ko=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const a=_e,l=Math.max(Me.cpus().length,1);r.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:a.lstat,lstatSync:a.lstatSync,stat:a.stat,statSync:a.statSync,readdir:a.readdir,readdirSync:a.readdirSync};class i{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,l),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(e,n){return e===void 0?n:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},r.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}r.default=i}(An)),An}var Tn,Xo;function ef(){if(Xo)return Tn;Xo=1;const r=wh(),a=Kh(),o=Xh(),l=Jh(),i=Qh(),t=Le();async function e(u,c){s(u);const y=n(u,a.default,c),f=await Promise.all(y);return t.array.flatten(f)}(function(u){u.glob=u,u.globSync=c,u.globStream=y,u.async=u;function c(d,m){s(d);const E=n(d,l.default,m);return t.array.flatten(E)}u.sync=c;function y(d,m){s(d);const E=n(d,o.default,m);return t.stream.merge(E)}u.stream=y;function f(d,m){s(d);const E=[].concat(d),h=new i.default(m);return r.generate(E,h)}u.generateTasks=f;function O(d,m){s(d);const E=new i.default(m);return t.pattern.isDynamicPattern(d,E)}u.isDynamicPattern=O;function w(d){return s(d),t.path.escape(d)}u.escapePath=w;function S(d){return s(d),t.path.convertPathToPattern(d)}u.convertPathToPattern=S,function(d){function m(h){return s(h),t.path.escapePosixPath(h)}d.escapePath=m;function E(h){return s(h),t.path.convertPosixPathToPattern(h)}d.convertPathToPattern=E}(u.posix||(u.posix={})),function(d){function m(h){return s(h),t.path.escapeWindowsPath(h)}d.escapePath=m;function E(h){return s(h),t.path.convertWindowsPathToPattern(h)}d.convertPathToPattern=E}(u.win32||(u.win32={}))})(e||(e={}));function n(u,c,y){const f=[].concat(u),O=new i.default(y),w=r.generate(f,O),S=new c(O);return w.map(S.read,S)}function s(u){if(![].concat(u).every(f=>t.string.isString(f)&&!t.string.isEmpty(f)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}return Tn=e,Tn}var tf=ef();const rf=Pe(tf);var It={exports:{}},nf=It.exports,Zo;function sf(){return Zo||(Zo=1,function(r){(function(a,o,l){r.exports?r.exports=l():o[a]=l()})("urljoin",nf,function(){function a(o){var l=[];if(o.length===0)return"";if(typeof o[0]!="string")throw new TypeError("Url must be a string. Received "+o[0]);if(o[0].match(/^[^/:]+:\/*$/)&&o.length>1){var i=o.shift();o[0]=i+o[0]}o[0].match(/^file:\/\/\//)?o[0]=o[0].replace(/^([^/:]+):\/*/,"$1:///"):o[0]=o[0].replace(/^([^/:]+):\/*/,"$1://");for(var t=0;t<o.length;t++){var e=o[t];if(typeof e!="string")throw new TypeError("Url must be a string. Received "+e);e!==""&&(t>0&&(e=e.replace(/^[\/]+/,"")),t<o.length-1?e=e.replace(/[\/]+$/,""):e=e.replace(/[\/]+$/,"/"),l.push(e))}var n=l.join("/");n=n.replace(/\/(\?|&|#[^!])/g,"$1");var s=n.split("?");return n=s.shift()+(s.length>0?"?":"")+s.join("&"),n}return function(){var o;return typeof arguments[0]=="object"?o=arguments[0]:o=[].slice.call(arguments),a(o)}})}(It)),It.exports}var of=sf();const Nt=Pe(of);var Pn={},Jo;function af(){return Jo||(Jo=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DownloaderHelper=r.DH_STATES=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o=function(){function E(h,v){for(var _,g=0;g<v.length;g++)_=v[g],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}return function(h,v,_){return v&&E(h.prototype,v),_&&E(h,_),h}}(),l=_e,i=O(l),t=cu,e=Q,n=O(e),s=lu,u=O(s),c=hu,y=O(c),f=qe;function O(E){if(E&&E.__esModule)return E;var h={};if(E!=null)for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(h[v]=E[v]);return h.default=E,h}function w(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function S(E,h){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:E}function d(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(E,h):E.__proto__=h)}var m=r.DH_STATES={IDLE:"IDLE",SKIPPED:"SKIPPED",STARTED:"STARTED",DOWNLOADING:"DOWNLOADING",RETRY:"RETRY",PAUSED:"PAUSED",RESUMED:"RESUMED",STOPPED:"STOPPED",FINISHED:"FINISHED",FAILED:"FAILED"};r.DownloaderHelper=function(E){function h(v,_){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};w(this,h);var p=S(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,{captureRejections:!0}));return p.__validate(v,_)?(p.url=p.requestURL=v.trim(),p.state=m.IDLE,p.__defaultOpts={body:null,retry:!1,method:"GET",headers:{},fileName:"",timeout:-1,metadata:null,override:!1,forceResume:!1,removeOnStop:!0,removeOnFail:!0,progressThrottle:1e3,httpRequestOptions:{},httpsRequestOptions:{},resumeOnIncomplete:!0,resumeIfFileExists:!1,resumeOnIncompleteMaxRetry:5},p.__opts=Object.assign({},p.__defaultOpts),p.__pipes=[],p.__total=0,p.__downloaded=0,p.__progress=0,p.__retryCount=0,p.__retryTimeout=null,p.__resumeRetryCount=0,p.__states=m,p.__promise=null,p.__request=null,p.__response=null,p.__isAborted=!1,p.__isResumed=!1,p.__isResumable=!1,p.__isRedirected=!1,p.__destFolder=_,p.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0},p.__fileName="",p.__filePath="",p.updateOptions(g),p):S(p)}return d(h,E),o(h,[{key:"start",value:function(){var _=this,g=function(){return new Promise(function(p,T){_.__promise={resolve:p,reject:T},_.__start()})};return this.__opts.resumeIfFileExists&&this.state!==this.__states.RESUMED?this.getTotalSize().then(function(p){var T=p.name,P=p.total,I=_.__opts.override;if(_.__opts.override=!0,_.__filePath=_.__getFilePath(T),_.__opts.override=I,_.__filePath&&i.existsSync(_.__filePath)){var x=_.__getFilesizeInBytes(_.__filePath);return x===P?g():_.resumeFromFile(_.__filePath,{total:P,fileName:T})}return g()}):g()}},{key:"pause",value:function(){var _=this;return this.state===this.__states.STOPPED?Promise.resolve(!0):(this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(g){return g.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return _.__setState(_.__states.PAUSED),_.emit("pause"),!0}))}},{key:"resume",value:function(){return this.__promise?this.state===this.__states.STOPPED?Promise.resolve(!1):(this.__setState(this.__states.RESUMED),this.__isResumable&&(this.__isResumed=!0,this.__reqOptions.headers.range="bytes="+this.__downloaded+"-"),this.emit("resume",this.__isResumed),this.__start()):this.start()}},{key:"stop",value:function(){var _=this;if(this.state===this.__states.STOPPED)return Promise.resolve(!0);var g=function(){return new Promise(function(p,T){i.access(_.__filePath,function(P){return P?(_.__emitStop(),p(!0)):void i.unlink(_.__filePath,function(I){return I?(_.__setState(_.__states.FAILED),_.emit("error",I),T(I)):(_.__emitStop(),void p(!0))})})})};return this.__requestAbort(),this.__closeFileStream().then(function(){return _.__opts.removeOnStop?g():(_.__emitStop(),Promise.resolve(!0))})}},{key:"pipe",value:function(_){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return this.__pipes.push({stream:_,options:g}),_}},{key:"unpipe",value:function(){var _=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,p=function(P){return _.__response?_.__response.unpipe(P):P.unpipe()};if(g){var T=this.__pipes.find(function(P){return P.stream===g});return void(T&&(p(g),this.__pipes=this.__pipes.filter(function(P){return P.stream!==g})))}this.__pipes.forEach(function(P){return p(P.stream)}),this.__pipes=[]}},{key:"getDownloadPath",value:function(){return this.__filePath}},{key:"isResumable",value:function(){return this.__isResumable}},{key:"updateOptions",value:function(_){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";this.__opts=Object.assign({},this.__opts,_),this.__headers=this.__opts.headers,-1<this.__opts.timeout&&(this.__opts.httpRequestOptions.timeout=this.__opts.timeout,this.__opts.httpsRequestOptions.timeout=this.__opts.timeout),(typeof this.__opts.progressThrottle!="number"||0>this.__opts.progressThrottle)&&(this.__opts.progressThrottle=this.__defaultOpts.progressThrottle),this.url=g||this.url,this.__reqOptions=this.__getReqOptions(this.__opts.method,this.url,this.__opts.headers),this.__initProtocol(this.url)}},{key:"getOptions",value:function(){return this.__opts}},{key:"getMetadata",value:function(){return this.__opts.metadata}},{key:"getStats",value:function(){return{total:this.__total,name:this.__fileName,downloaded:this.__downloaded,progress:this.__progress,speed:this.__statsEstimate.bytes}}},{key:"getTotalSize",value:function(){var _=this;return new Promise(function(g,p){var T=function(I){_.__initProtocol(I);var x=Object.assign({},_.__headers);x.hasOwnProperty("range")&&delete x.range;var k=_.__getReqOptions("HEAD",I,x);return Object.assign({},_.__reqOptions,k)},P=function(I,x){var k=_.__protocol.request(x,function(N){if(_.__isRequireRedirect(N)){var $=/^https?:\/\//.test(N.headers.location)?N.headers.location:new t.URL(N.headers.location,I).href;return _.emit("redirected",$,I),P($,T($))}return N.statusCode===200?void g({name:_.__getFileNameFromHeaders(N.headers,N),total:parseInt(N.headers["content-length"])||null}):p(new Error("Response status was "+N.statusCode))});k.on("error",function(N){return p(N)}),k.on("timeout",function(){return p(new Error("timeout"))}),k.on("uncaughtException",function(N){return p(N)}),k.end()};P(_.url,T(_.url))})}},{key:"getResumeState",value:function(){return{downloaded:this.__downloaded,filePath:this.__filePath,fileName:this.__fileName,total:this.__total}}},{key:"resumeFromFile",value:function(_){var g=this,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.__opts.override=!0,this.__filePath=_,(p.total&&p.fileName?Promise.resolve({name:p.fileName,total:p.total}):this.getTotalSize()).then(function(T){var P=T.name,I=T.total;return g.__total=p.total||I,g.__fileName=p.fileName||P,g.__downloaded=p.downloaded||g.__getFilesizeInBytes(g.__filePath),g.__reqOptions.headers.range="bytes="+g.__downloaded+"-",g.__isResumed=!0,g.__isResumable=!0,g.__setState(g.__states.RESUMED),g.emit("resume",g.__isResumed),new Promise(function(x,k){g.__promise={resolve:x,reject:k},g.__start()})})}},{key:"__start",value:function(){this.__isRedirected||this.state===this.__states.RESUMED||(this.emit("start"),this.__setState(this.__states.STARTED),this.__initProtocol(this.url)),this.__response=null,this.__isAborted=!1,this.__request&&!this.__request.destroyed&&this.__request.destroy(),this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__request=this.__downloadRequest(this.__promise.resolve,this.__promise.reject),this.__request.on("error",this.__onError(this.__promise.resolve,this.__promise.reject)),this.__request.on("timeout",this.__onTimeout(this.__promise.resolve,this.__promise.reject)),this.__request.on("uncaughtException",this.__onError(this.__promise.resolve,this.__promise.reject,!0)),this.__opts.body&&this.__request.write(this.__opts.body),this.__request.end()}},{key:"__resolvePending",value:function(){if(this.__promise){var _=this.__promise.resolve;return this.__promise=null,_(!0)}}},{key:"__downloadRequest",value:function(_,g){var p=this;return this.__protocol.request(this.__reqOptions,function(T){if(p.__response=T,p.__isResumed||(p.__total=parseInt(T.headers["content-length"])||null,p.__resetStats()),p.__isRequireRedirect(T)){var P=/^https?:\/\//.test(T.headers.location)?T.headers.location:new t.URL(T.headers.location,p.url).href;return p.__isRedirected=!0,p.__initProtocol(P),p.emit("redirected",P,p.url),p.__start()}if(T.statusCode!==200&&T.statusCode!==206){var I=new Error("Response status was "+T.statusCode);return I.status=T.statusCode||0,I.body=T.body||"",p.__setState(p.__states.FAILED),p.emit("error",I),g(I)}(p.__opts.forceResume||T.headers.hasOwnProperty("accept-ranges")&&T.headers["accept-ranges"]!=="none")&&(p.__isResumable=!0),p.__startDownload(T,_,g)})}},{key:"__startDownload",value:function(_,g,p){var T=this,P=_;if(this.__isResumed)this.__fileStream=i.createWriteStream(this.__filePath,{flags:"a"});else{var I=this.__getFileNameFromHeaders(_.headers);if(this.__filePath=this.__getFilePath(I),this.__fileName=this.__filePath.split(n.sep).pop(),i.existsSync(this.__filePath)){var x=this.__getFilesizeInBytes(this.__filePath),k=this.__total?this.__total:0;if(a(this.__opts.override)==="object"&&this.__opts.override.skip&&(this.__opts.override.skipSmaller||x>=k))return this.emit("skip",{totalSize:this.__total,fileName:this.__fileName,filePath:this.__filePath,downloadedSize:x}),this.__setState(this.__states.SKIPPED),g(!0)}this.__fileStream=i.createWriteStream(this.__filePath,{})}this.emit("download",{fileName:this.__fileName,filePath:this.__filePath,totalSize:this.__total,isResumed:this.__isResumed,downloadedSize:this.__downloaded}),this.__retryCount=0,this.__isResumed=!1,this.__isRedirected=!1,this.__setState(this.__states.DOWNLOADING),this.__statsEstimate.time=new Date,this.__statsEstimate.throttleTime=new Date,P.on("data",function(N){return T.__calculateStats(N.length)}),this.__pipes.forEach(function(N){P.pipe(N.stream,N.options),P=N.stream}),P.pipe(this.__fileStream),P.on("error",this.__onError(g,p)),this.__fileStream.on("finish",this.__onFinished(g,p)),this.__fileStream.on("error",this.__onError(g,p))}},{key:"__hasFinished",value:function(){return!this.__isAborted&&[this.__states.PAUSED,this.__states.STOPPED,this.__states.RETRY,this.__states.FAILED,this.__states.RESUMED].indexOf(this.state)===-1}},{key:"__isRequireRedirect",value:function(_){return 300<_.statusCode&&400>_.statusCode&&_.headers.hasOwnProperty("location")&&_.headers.location}},{key:"__onFinished",value:function(_,g){var p=this;return function(){p.__fileStream.close(function(T){if(T)return g(T);if(p.__hasFinished()){var P=!!p.__total&&p.__downloaded!==p.__total;if(P&&p.__isResumable&&p.__opts.resumeOnIncomplete&&p.__resumeRetryCount<=p.__opts.resumeOnIncompleteMaxRetry)return p.__resumeRetryCount++,p.emit("warning",new Error("uncomplete download, retrying")),p.resume();p.__setState(p.__states.FINISHED),p.__pipes=[],p.emit("end",{fileName:p.__fileName,filePath:p.__filePath,totalSize:p.__total,incomplete:P,onDiskSize:p.__getFilesizeInBytes(p.__filePath),downloadedSize:p.__downloaded})}return _(p.__downloaded===p.__total)})}}},{key:"__closeFileStream",value:function(){var _=this;return this.__fileStream?new Promise(function(g,p){_.__fileStream.close(function(T){return T?p(T):g(!0)})}):Promise.resolve(!0)}},{key:"__onError",value:function(_,g){var p=this,T=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function(P){return p.__pipes=[],T&&p.__requestAbort(),p.state===p.__states.STOPPED||p.state===p.__states.FAILED?void 0:p.__opts.retry?p.__retry(P).catch(function(I){p.__removeFile().finally(function(){p.__setState(p.__states.FAILED),p.emit("error",I||P),g(I||P)})}):p.__removeFile().finally(function(){p.__setState(p.__states.FAILED),p.emit("error",P),g(P)})}}},{key:"__retry",value:function(){var _=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;if(!this.__opts.retry||a(this.__opts.retry)!=="object")return Promise.reject(g||new Error("wrong retry options"));var p=this.__opts.retry,T=p.delay,P=T===void 0?0:T,I=p.maxRetries,x=I===void 0?999:I;return this.__retryCount>=x?Promise.reject(g||new Error("reached the maximum retries")):(this.__retryCount++,this.__setState(this.__states.RETRY),this.emit("retry",this.__retryCount,this.__opts.retry,g),this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(k){return k.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return new Promise(function(k){return _.__retryTimeout=setTimeout(function(){return k(0<_.__downloaded?_.resume():_.__start())},P)})}))}},{key:"__onTimeout",value:function(_,g){var p=this;return function(){return p.__requestAbort(),p.__opts.retry?p.__retry(new Error("timeout")).catch(function(T){p.__removeFile().finally(function(){p.__setState(p.__states.FAILED),T?g(T):(p.emit("timeout"),g(new Error("timeout")))})}):p.__removeFile().finally(function(){p.__setState(p.__states.FAILED),p.emit("timeout"),g(new Error("timeout"))})}}},{key:"__resetStats",value:function(){this.__retryCount=0,this.__downloaded=0,this.__progress=0,this.__resumeRetryCount=0,this.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0}}},{key:"__getFileNameFromHeaders",value:function(_,g){var p="",T=/.*filename\*=.*?'.*?'([^"].+?[^"])(?:(?:;)|$)/i,P=/.*filename="(.*?)";?/i,I=/.*filename=([^"].+?[^"])(?:(?:;)|$)/i,x=_.hasOwnProperty("content-disposition"),k=x?_["content-disposition"].match(T):null,N=!x||k?null:_["content-disposition"].match(P),$=!x||k||N?null:_["content-disposition"].match(I);return x&&(k||N||$)?(p=_["content-disposition"],p=p.trim(),k?p=k[1]:N?p=N[1]:$&&(p=$[1]),p=p.replace(/[/\\]/g,"")):0<n.basename(new t.URL(this.requestURL).pathname).length?p=n.basename(new t.URL(this.requestURL).pathname):p=new t.URL(this.requestURL).hostname+".html",this.__opts.fileName?this.__getFileNameFromOpts(p,g):p.replace(/\.*$/,"")}},{key:"__getFilePath",value:function(_){var g=n.join(this.__destFolder,_),p=g;return this.__opts.override||this.state===this.__states.RESUMED||(p=this.__uniqFileNameSync(p),g!==p&&this.emit("renamed",{path:p,fileName:p.split(n.sep).pop(),prevPath:g,prevFileName:g.split(n.sep).pop()})),p}},{key:"__getFileNameFromOpts",value:function(_,g){if(!this.__opts.fileName)return _;if(typeof this.__opts.fileName=="string")return this.__opts.fileName;if(typeof this.__opts.fileName=="function"){var p=n.join(this.__destFolder,_);return g&&g.headers||this.__response&&this.__response.headers?this.__opts.fileName(_,p,(g||this.__response).headers["content-type"]):this.__opts.fileName(_,p)}if(a(this.__opts.fileName)==="object"){var T=this.__opts.fileName,P=T.name,I=!!T.hasOwnProperty("ext")&&T.ext;if(typeof I=="string")return P+"."+I;if(typeof I=="boolean"){if(I)return P;var x=_.includes(".")?_.split(".").pop():"";return x===""?P:P+"."+x}}return _}},{key:"__calculateStats",value:function(_){var g=new Date,p=g-this.__statsEstimate.time,T=g-this.__statsEstimate.throttleTime,P=this.__total||0;_&&(this.__downloaded+=_,this.__progress=P===0?0:100*(this.__downloaded/P),(this.__downloaded===P||1e3<p)&&(this.__statsEstimate.time=g,this.__statsEstimate.bytes=this.__downloaded-this.__statsEstimate.prevBytes,this.__statsEstimate.prevBytes=this.__downloaded),(this.__downloaded===P||T>this.__opts.progressThrottle)&&(this.__statsEstimate.throttleTime=g,this.emit("progress.throttled",this.getStats())),this.emit("progress",this.getStats()))}},{key:"__setState",value:function(_){this.state=_,this.emit("stateChanged",this.state)}},{key:"__getReqOptions",value:function(_,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},T=new t.URL(g),P={protocol:T.protocol,host:T.hostname,port:T.port,path:T.pathname+T.search,method:_};return p&&(P.headers=p),P}},{key:"__getFilesizeInBytes",value:function(_){try{var g=i.statSync(_,{throwIfNoEntry:!1}),p=g.size||0;return p}catch(T){this.emit("warning",T)}return 0}},{key:"__validate",value:function(_,g){if(typeof _!="string")throw new Error("URL should be an string");if(_.trim()==="")throw new Error("URL couldn't be empty");if(typeof g!="string")throw new Error("Destination Folder should be an string");if(g.trim()==="")throw new Error("Destination Folder couldn't be empty");if(!i.existsSync(g))throw new Error("Destination Folder must exist");var p=i.statSync(g);if(!p.isDirectory())throw new Error("Destination Folder must be a directory");try{i.accessSync(g,i.constants.W_OK)}catch{throw new Error("Destination Folder must be writable")}return!0}},{key:"__initProtocol",value:function(_){var g=this.__getReqOptions(this.__opts.method,_,this.__headers);this.requestURL=_,-1<_.indexOf("https://")?(this.__protocol=y,g.agent=new y.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},g,this.__opts.httpsRequestOptions)):(this.__protocol=u,g.agent=new u.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},g,this.__opts.httpRequestOptions))}},{key:"__uniqFileNameSync",value:function(_){if(typeof _!="string"||_==="")return _;try{i.accessSync(_,i.F_OK);var g=_.match(/(.*)(\([0-9]+\))(\..*)$/),p=g?g[1].trim():_,T=g?parseInt(g[2].replace(/\(|\)/,"")):0,P=_.split(".").pop();return P!==_&&0<P.length?(P="."+P,p=p.replace(P,"")):P="",this.__uniqFileNameSync(p+" ("+ ++T+")"+P)}catch{return _}}},{key:"__removeFile",value:function(){var _=this;return new Promise(function(g){return _.__fileStream?void _.__fileStream.close(function(p){return p&&_.emit("warning",p),_.__opts.removeOnFail?i.access(_.__filePath,function(T){return T?g():void i.unlink(_.__filePath,function(P){P&&_.emit("warning",p),g()})}):void g()}):g()})}},{key:"__requestAbort",value:function(){this.__isAborted=!0,this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__response&&this.__response.destroy(),this.__request&&(this.__request.destroy?this.__request.destroy():this.__request.abort())}},{key:"__emitStop",value:function(){this.__resolvePending(),this.__setState(this.__states.STOPPED),this.emit("stop")}}]),h}(f.EventEmitter)}(Pn)),Pn}var uf=af(),bn,Qo;function cf(){if(Qo)return bn;Qo=1;const r=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);return bn=a=>a?Object.keys(a).map(o=>[r.has(o)?r.get(o):o,a[o]]).reduce((o,l)=>(o[l[0]]=l[1],o),Object.create(null)):{},bn}var Nn,ea;function lf(){return ea||(ea=1,Nn=r=>class extends r{warn(a,o,l={}){this.file&&(l.file=this.file),this.cwd&&(l.cwd=this.cwd),l.code=o instanceof Error&&o.code||a,l.tarCode=a,!this.strict&&l.recoverable!==!1?(o instanceof Error&&(l=Object.assign(o,l),o=o.message),this.emit("warn",l.tarCode,o,l)):o instanceof Error?this.emit("error",Object.assign(o,l)):this.emit("error",Object.assign(new Error(`${a}: ${o}`),l))}}),Nn}var Ln={},ta;function hf(){return ta||(ta=1,function(r){r.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),r.code=new Map(Array.from(r.name).map(a=>[a[1],a[0]]))}(Ln)),Ln}var In,ra;function ff(){if(ra)return In;ra=1;const r=(s,u)=>{if(Number.isSafeInteger(s))s<0?o(s,u):a(s,u);else throw Error("cannot encode number outside of javascript safe integer range");return u},a=(s,u)=>{u[0]=128;for(var c=u.length;c>1;c--)u[c-1]=s&255,s=Math.floor(s/256)},o=(s,u)=>{u[0]=255;var c=!1;s=s*-1;for(var y=u.length;y>1;y--){var f=s&255;s=Math.floor(s/256),c?u[y-1]=e(f):f===0?u[y-1]=0:(c=!0,u[y-1]=n(f))}},l=s=>{const u=s[0],c=u===128?t(s.slice(1,s.length)):u===255?i(s):null;if(c===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(c))throw Error("parsed number outside of javascript safe integer range");return c},i=s=>{for(var u=s.length,c=0,y=!1,f=u-1;f>-1;f--){var O=s[f],w;y?w=e(O):O===0?w=O:(y=!0,w=n(O)),w!==0&&(c-=w*Math.pow(256,u-f-1))}return c},t=s=>{for(var u=s.length,c=0,y=u-1;y>-1;y--){var f=s[y];f!==0&&(c+=f*Math.pow(256,u-y-1))}return c},e=s=>(255^s)&255,n=s=>(255^s)+1&255;return In={encode:r,parse:l},In}var Dn,na;function za(){if(na)return Dn;na=1;const r=hf(),a=Q.posix,o=ff(),l=Symbol("slurp"),i=Symbol("type");class t{constructor(g,p,T,P){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[i]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(g)?this.decode(g,p||0,T,P):g&&this.set(g)}decode(g,p,T,P){if(p||(p=0),!g||!(g.length>=p+512))throw new Error("need 512 bytes for header");if(this.path=n(g,p,100),this.mode=c(g,p+100,8),this.uid=c(g,p+108,8),this.gid=c(g,p+116,8),this.size=c(g,p+124,12),this.mtime=s(g,p+136,12),this.cksum=c(g,p+148,12),this[l](T),this[l](P,!0),this[i]=n(g,p+156,1),this[i]===""&&(this[i]="0"),this[i]==="0"&&this.path.slice(-1)==="/"&&(this[i]="5"),this[i]==="5"&&(this.size=0),this.linkpath=n(g,p+157,100),g.slice(p+257,p+265).toString()==="ustar\x0000")if(this.uname=n(g,p+265,32),this.gname=n(g,p+297,32),this.devmaj=c(g,p+329,8),this.devmin=c(g,p+337,8),g[p+475]!==0){const x=n(g,p+345,155);this.path=x+"/"+this.path}else{const x=n(g,p+345,130);x&&(this.path=x+"/"+this.path),this.atime=s(g,p+476,12),this.ctime=s(g,p+488,12)}let I=8*32;for(let x=p;x<p+148;x++)I+=g[x];for(let x=p+156;x<p+512;x++)I+=g[x];this.cksumValid=I===this.cksum,this.cksum===null&&I===8*32&&(this.nullBlock=!0)}[l](g,p){for(const T in g)g[T]!==null&&g[T]!==void 0&&!(p&&T==="path")&&(this[T]=g[T])}encode(g,p){if(g||(g=this.block=Buffer.alloc(512),p=0),p||(p=0),!(g.length>=p+512))throw new Error("need 512 bytes for header");const T=this.ctime||this.atime?130:155,P=e(this.path||"",T),I=P[0],x=P[1];this.needPax=P[2],this.needPax=v(g,p,100,I)||this.needPax,this.needPax=w(g,p+100,8,this.mode)||this.needPax,this.needPax=w(g,p+108,8,this.uid)||this.needPax,this.needPax=w(g,p+116,8,this.gid)||this.needPax,this.needPax=w(g,p+124,12,this.size)||this.needPax,this.needPax=E(g,p+136,12,this.mtime)||this.needPax,g[p+156]=this[i].charCodeAt(0),this.needPax=v(g,p+157,100,this.linkpath)||this.needPax,g.write("ustar\x0000",p+257,8),this.needPax=v(g,p+265,32,this.uname)||this.needPax,this.needPax=v(g,p+297,32,this.gname)||this.needPax,this.needPax=w(g,p+329,8,this.devmaj)||this.needPax,this.needPax=w(g,p+337,8,this.devmin)||this.needPax,this.needPax=v(g,p+345,T,x)||this.needPax,g[p+475]!==0?this.needPax=v(g,p+345,155,x)||this.needPax:(this.needPax=v(g,p+345,130,x)||this.needPax,this.needPax=E(g,p+476,12,this.atime)||this.needPax,this.needPax=E(g,p+488,12,this.ctime)||this.needPax);let k=8*32;for(let N=p;N<p+148;N++)k+=g[N];for(let N=p+156;N<p+512;N++)k+=g[N];return this.cksum=k,w(g,p+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(g){for(const p in g)g[p]!==null&&g[p]!==void 0&&(this[p]=g[p])}get type(){return r.name.get(this[i])||this[i]}get typeKey(){return this[i]}set type(g){r.code.has(g)?this[i]=r.code.get(g):this[i]=g}}const e=(_,g)=>{let T=_,P="",I;const x=a.parse(_).root||".";if(Buffer.byteLength(T)<100)I=[T,P,!1];else{P=a.dirname(T),T=a.basename(T);do Buffer.byteLength(T)<=100&&Buffer.byteLength(P)<=g?I=[T,P,!1]:Buffer.byteLength(T)>100&&Buffer.byteLength(P)<=g?I=[T.slice(0,99),P,!0]:(T=a.join(a.basename(P),T),P=a.dirname(P));while(P!==x&&!I);I||(I=[_.slice(0,99),"",!0])}return I},n=(_,g,p)=>_.slice(g,g+p).toString("utf8").replace(/\0.*/,""),s=(_,g,p)=>u(c(_,g,p)),u=_=>_===null?null:new Date(_*1e3),c=(_,g,p)=>_[g]&128?o.parse(_.slice(g,g+p)):f(_,g,p),y=_=>isNaN(_)?null:_,f=(_,g,p)=>y(parseInt(_.slice(g,g+p).toString("utf8").replace(/\0.*$/,"").trim(),8)),O={12:8589934591,8:2097151},w=(_,g,p,T)=>T===null?!1:T>O[p]||T<0?(o.encode(T,_.slice(g,g+p)),!0):(S(_,g,p,T),!1),S=(_,g,p,T)=>_.write(d(T,p),g,p,"ascii"),d=(_,g)=>m(Math.floor(_).toString(8),g),m=(_,g)=>(_.length===g-1?_:new Array(g-_.length-1).join("0")+_+" ")+"\0",E=(_,g,p,T)=>T===null?!1:w(_,g,p,T.getTime()/1e3),h=new Array(156).join("\0"),v=(_,g,p,T)=>T===null?!1:(_.write(T+h,g,p,"utf8"),T.length!==Buffer.byteLength(T)||T.length>p);return Dn=t,Dn}var Cn,ia;function df(){return ia||(ia=1,Cn=function(r){r.prototype[Symbol.iterator]=function*(){for(let a=this.head;a;a=a.next)yield a.value}}),Cn}var $n,sa;function pf(){if(sa)return $n;sa=1,$n=r,r.Node=i,r.create=r;function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(u){e.push(u)});else if(arguments.length>0)for(var n=0,s=arguments.length;n<s;n++)e.push(arguments[n]);return e}r.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)l(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,s=0;n!==null;s++)t.call(e,n.value,s,this),n=n.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,s=this.length-1;n!==null;s--)t.call(e,n.value,s,this),n=n.prev},r.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value},r.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value},r.prototype.map=function(t,e){e=e||this;for(var n=new r,s=this.head;s!==null;)n.push(t.call(e,s.value,this)),s=s.next;return n},r.prototype.mapReverse=function(t,e){e=e||this;for(var n=new r,s=this.tail;s!==null;)n.push(t.call(e,s.value,this)),s=s.prev;return n},r.prototype.reduce=function(t,e){var n,s=this.head;if(arguments.length>1)n=e;else if(this.head)s=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=0;s!==null;u++)n=t(n,s.value,u),s=s.next;return n},r.prototype.reduceReverse=function(t,e){var n,s=this.tail;if(arguments.length>1)n=e;else if(this.tail)s=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=this.length-1;s!==null;u--)n=t(n,s.value,u),s=s.prev;return n},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t},r.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,u=this.head;u!==null&&s<t;s++)u=u.next;for(;u!==null&&s<e;s++,u=u.next)n.push(u.value);return n},r.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,u=this.tail;u!==null&&s>e;s--)u=u.prev;for(;u!==null&&s>t;s--,u=u.prev)n.push(u.value);return n},r.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,u=this.head;u!==null&&s<t;s++)u=u.next;for(var c=[],s=0;u&&s<e;s++)c.push(u.value),u=this.removeNode(u);u===null&&(u=this.tail),u!==this.head&&u!==this.tail&&(u=u.prev);for(var s=0;s<n.length;s++)u=a(this,u,n[s]);return c},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var s=n.prev;n.prev=n.next,n.next=s}return this.head=e,this.tail=t,this};function a(t,e,n){var s=e===t.head?new i(n,null,e,t):new i(n,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function o(t,e){t.tail=new i(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function l(t,e){t.head=new i(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function i(t,e,n,s){if(!(this instanceof i))return new i(t,e,n,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{df()(r)}catch{}return $n}var xn={},oa;function mf(){if(oa)return xn;oa=1;const r=typeof process=="object"&&process?process:{stdout:null,stderr:null},a=qe,o=Ce,i=La.StringDecoder,t=Symbol("EOF"),e=Symbol("maybeEmitEnd"),n=Symbol("emittedEnd"),s=Symbol("emittingEnd"),u=Symbol("emittedError"),c=Symbol("closed"),y=Symbol("read"),f=Symbol("flush"),O=Symbol("flushChunk"),w=Symbol("encoding"),S=Symbol("decoder"),d=Symbol("flowing"),m=Symbol("paused"),E=Symbol("resume"),h=Symbol("buffer"),v=Symbol("pipes"),_=Symbol("bufferLength"),g=Symbol("bufferPush"),p=Symbol("bufferShift"),T=Symbol("objectMode"),P=Symbol("destroyed"),I=Symbol("error"),x=Symbol("emitData"),k=Symbol("emitEnd"),N=Symbol("emitEnd2"),$=Symbol("async"),C=Symbol("abort"),D=Symbol("aborted"),B=Symbol("signal"),G=U=>Promise.resolve().then(U),V=Ne._MP_NO_ITERATOR_SYMBOLS_!=="1",H=V&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),R=V&&Symbol.iterator||Symbol("iterator not implemented"),b=U=>U==="end"||U==="finish"||U==="prefinish",z=U=>U instanceof ArrayBuffer||typeof U=="object"&&U.constructor&&U.constructor.name==="ArrayBuffer"&&U.byteLength>=0,te=U=>!Buffer.isBuffer(U)&&ArrayBuffer.isView(U);class M{constructor(F,q,Y){this.src=F,this.dest=q,this.opts=Y,this.ondrain=()=>F[E](),q.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class L extends M{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(F,q,Y){super(F,q,Y),this.proxyErrors=J=>q.emit("error",J),F.on("error",this.proxyErrors)}}class j extends o{constructor(F){super(),this[d]=!1,this[m]=!1,this[v]=[],this[h]=[],this[T]=F&&F.objectMode||!1,this[T]?this[w]=null:this[w]=F&&F.encoding||null,this[w]==="buffer"&&(this[w]=null),this[$]=F&&!!F.async||!1,this[S]=this[w]?new i(this[w]):null,this[t]=!1,this[n]=!1,this[s]=!1,this[c]=!1,this[u]=null,this.writable=!0,this.readable=!0,this[_]=0,this[P]=!1,F&&F.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[h]}),F&&F.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[v]}),this[B]=F&&F.signal,this[D]=!1,this[B]&&(this[B].addEventListener("abort",()=>this[C]()),this[B].aborted&&this[C]())}get bufferLength(){return this[_]}get encoding(){return this[w]}set encoding(F){if(this[T])throw new Error("cannot set encoding in objectMode");if(this[w]&&F!==this[w]&&(this[S]&&this[S].lastNeed||this[_]))throw new Error("cannot change encoding");this[w]!==F&&(this[S]=F?new i(F):null,this[h].length&&(this[h]=this[h].map(q=>this[S].write(q)))),this[w]=F}setEncoding(F){this.encoding=F}get objectMode(){return this[T]}set objectMode(F){this[T]=this[T]||!!F}get async(){return this[$]}set async(F){this[$]=this[$]||!!F}[C](){this[D]=!0,this.emit("abort",this[B].reason),this.destroy(this[B].reason)}get aborted(){return this[D]}set aborted(F){}write(F,q,Y){if(this[D])return!1;if(this[t])throw new Error("write after end");if(this[P])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof q=="function"&&(Y=q,q="utf8"),q||(q="utf8");const J=this[$]?G:ne=>ne();return!this[T]&&!Buffer.isBuffer(F)&&(te(F)?F=Buffer.from(F.buffer,F.byteOffset,F.byteLength):z(F)?F=Buffer.from(F):typeof F!="string"&&(this.objectMode=!0)),this[T]?(this.flowing&&this[_]!==0&&this[f](!0),this.flowing?this.emit("data",F):this[g](F),this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):F.length?(typeof F=="string"&&!(q===this[w]&&!this[S].lastNeed)&&(F=Buffer.from(F,q)),Buffer.isBuffer(F)&&this[w]&&(F=this[S].write(F)),this.flowing&&this[_]!==0&&this[f](!0),this.flowing?this.emit("data",F):this[g](F),this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):(this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing)}read(F){if(this[P])return null;if(this[_]===0||F===0||F>this[_])return this[e](),null;this[T]&&(F=null),this[h].length>1&&!this[T]&&(this.encoding?this[h]=[this[h].join("")]:this[h]=[Buffer.concat(this[h],this[_])]);const q=this[y](F||null,this[h][0]);return this[e](),q}[y](F,q){return F===q.length||F===null?this[p]():(this[h][0]=q.slice(F),q=q.slice(0,F),this[_]-=F),this.emit("data",q),!this[h].length&&!this[t]&&this.emit("drain"),q}end(F,q,Y){return typeof F=="function"&&(Y=F,F=null),typeof q=="function"&&(Y=q,q="utf8"),F&&this.write(F,q),Y&&this.once("end",Y),this[t]=!0,this.writable=!1,(this.flowing||!this[m])&&this[e](),this}[E](){this[P]||(this[m]=!1,this[d]=!0,this.emit("resume"),this[h].length?this[f]():this[t]?this[e]():this.emit("drain"))}resume(){return this[E]()}pause(){this[d]=!1,this[m]=!0}get destroyed(){return this[P]}get flowing(){return this[d]}get paused(){return this[m]}[g](F){this[T]?this[_]+=1:this[_]+=F.length,this[h].push(F)}[p](){return this[T]?this[_]-=1:this[_]-=this[h][0].length,this[h].shift()}[f](F){do;while(this[O](this[p]())&&this[h].length);!F&&!this[h].length&&!this[t]&&this.emit("drain")}[O](F){return this.emit("data",F),this.flowing}pipe(F,q){if(this[P])return;const Y=this[n];return q=q||{},F===r.stdout||F===r.stderr?q.end=!1:q.end=q.end!==!1,q.proxyErrors=!!q.proxyErrors,Y?q.end&&F.end():(this[v].push(q.proxyErrors?new L(this,F,q):new M(this,F,q)),this[$]?G(()=>this[E]()):this[E]()),F}unpipe(F){const q=this[v].find(Y=>Y.dest===F);q&&(this[v].splice(this[v].indexOf(q),1),q.unpipe())}addListener(F,q){return this.on(F,q)}on(F,q){const Y=super.on(F,q);return F==="data"&&!this[v].length&&!this.flowing?this[E]():F==="readable"&&this[_]!==0?super.emit("readable"):b(F)&&this[n]?(super.emit(F),this.removeAllListeners(F)):F==="error"&&this[u]&&(this[$]?G(()=>q.call(this,this[u])):q.call(this,this[u])),Y}get emittedEnd(){return this[n]}[e](){!this[s]&&!this[n]&&!this[P]&&this[h].length===0&&this[t]&&(this[s]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[c]&&this.emit("close"),this[s]=!1)}emit(F,q,...Y){if(F!=="error"&&F!=="close"&&F!==P&&this[P])return;if(F==="data")return!this[T]&&!q?!1:this[$]?G(()=>this[x](q)):this[x](q);if(F==="end")return this[k]();if(F==="close"){if(this[c]=!0,!this[n]&&!this[P])return;const ne=super.emit("close");return this.removeAllListeners("close"),ne}else if(F==="error"){this[u]=q,super.emit(I,q);const ne=!this[B]||this.listeners("error").length?super.emit("error",q):!1;return this[e](),ne}else if(F==="resume"){const ne=super.emit("resume");return this[e](),ne}else if(F==="finish"||F==="prefinish"){const ne=super.emit(F);return this.removeAllListeners(F),ne}const J=super.emit(F,q,...Y);return this[e](),J}[x](F){for(const Y of this[v])Y.dest.write(F)===!1&&this.pause();const q=super.emit("data",F);return this[e](),q}[k](){this[n]||(this[n]=!0,this.readable=!1,this[$]?G(()=>this[N]()):this[N]())}[N](){if(this[S]){const q=this[S].end();if(q){for(const Y of this[v])Y.dest.write(q);super.emit("data",q)}}for(const q of this[v])q.end();const F=super.emit("end");return this.removeAllListeners("end"),F}collect(){const F=[];this[T]||(F.dataLength=0);const q=this.promise();return this.on("data",Y=>{F.push(Y),this[T]||(F.dataLength+=Y.length)}),q.then(()=>F)}concat(){return this[T]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(F=>this[T]?Promise.reject(new Error("cannot concat in objectMode")):this[w]?F.join(""):Buffer.concat(F,F.dataLength))}promise(){return new Promise((F,q)=>{this.on(P,()=>q(new Error("stream destroyed"))),this.on("error",Y=>q(Y)),this.on("end",()=>F())})}[H](){let F=!1;const q=()=>(this.pause(),F=!0,Promise.resolve({done:!0}));return{next:()=>{if(F)return q();const J=this.read();if(J!==null)return Promise.resolve({done:!1,value:J});if(this[t])return q();let ne=null,oe=null;const Z=W=>{this.removeListener("data",A),this.removeListener("end",X),this.removeListener(P,ee),q(),oe(W)},A=W=>{this.removeListener("error",Z),this.removeListener("end",X),this.removeListener(P,ee),this.pause(),ne({value:W,done:!!this[t]})},X=()=>{this.removeListener("error",Z),this.removeListener("data",A),this.removeListener(P,ee),q(),ne({done:!0})},ee=()=>Z(new Error("stream destroyed"));return new Promise((W,ie)=>{oe=ie,ne=W,this.once(P,ee),this.once("error",Z),this.once("end",X),this.once("data",A)})},throw:q,return:q,[H](){return this}}}[R](){let F=!1;const q=()=>(this.pause(),this.removeListener(I,q),this.removeListener(P,q),this.removeListener("end",q),F=!0,{done:!0}),Y=()=>{if(F)return q();const J=this.read();return J===null?q():{value:J}};return this.once("end",q),this.once(I,q),this.once(P,q),{next:Y,throw:q,return:q,[R](){return this}}}destroy(F){return this[P]?(F?this.emit("error",F):this.emit(P),this):(this[P]=!0,this[h].length=0,this[_]=0,typeof this.close=="function"&&!this[c]&&this.close(),F?this.emit("error",F):this.emit(P),this)}static isStream(F){return!!F&&(F instanceof j||F instanceof o||F instanceof a&&(typeof F.pipe=="function"||typeof F.write=="function"&&typeof F.end=="function"))}}return xn.Minipass=j,xn}var Fn,aa;function hi(){return aa||(aa=1,Fn=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)!=="win32"?a=>a:a=>a&&a.replace(/\\/g,"/")),Fn}var kn,ua;function _f(){if(ua)return kn;ua=1;const{Minipass:r}=mf(),a=hi(),o=Symbol("slurp");return kn=class extends r{constructor(i,t,e){switch(super(),this.pause(),this.extended=t,this.globalExtended=e,this.header=i,this.startBlockSize=512*Math.ceil(i.size/512),this.blockRemain=this.startBlockSize,this.remain=i.size,this.type=i.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=a(i.path),this.mode=i.mode,this.mode&&(this.mode=this.mode&4095),this.uid=i.uid,this.gid=i.gid,this.uname=i.uname,this.gname=i.gname,this.size=i.size,this.mtime=i.mtime,this.atime=i.atime,this.ctime=i.ctime,this.linkpath=a(i.linkpath),this.uname=i.uname,this.gname=i.gname,t&&this[o](t),e&&this[o](e,!0)}write(i){const t=i.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");const e=this.remain,n=this.blockRemain;return this.remain=Math.max(0,e-t),this.blockRemain=Math.max(0,n-t),this.ignore?!0:e>=t?super.write(i):super.write(i.slice(0,e))}[o](i,t){for(const e in i)i[e]!==null&&i[e]!==void 0&&!(t&&e==="path")&&(this[e]=e==="path"||e==="linkpath"?a(i[e]):i[e])}},kn}var Mn,ca;function yf(){if(ca)return Mn;ca=1;const r=za(),a=Q;class o{constructor(n,s){this.atime=n.atime||null,this.charset=n.charset||null,this.comment=n.comment||null,this.ctime=n.ctime||null,this.gid=n.gid||null,this.gname=n.gname||null,this.linkpath=n.linkpath||null,this.mtime=n.mtime||null,this.path=n.path||null,this.size=n.size||null,this.uid=n.uid||null,this.uname=n.uname||null,this.dev=n.dev||null,this.ino=n.ino||null,this.nlink=n.nlink||null,this.global=s||!1}encode(){const n=this.encodeBody();if(n==="")return null;const s=Buffer.byteLength(n),u=512*Math.ceil(1+s/512),c=Buffer.allocUnsafe(u);for(let y=0;y<512;y++)c[y]=0;new r({path:("PaxHeader/"+a.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:s,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(c),c.write(n,512,s,"utf8");for(let y=s+512;y<c.length;y++)c[y]=0;return c}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(n){if(this[n]===null||this[n]===void 0)return"";const s=this[n]instanceof Date?this[n].getTime()/1e3:this[n],u=" "+(n==="dev"||n==="ino"||n==="nlink"?"SCHILY.":"")+n+"="+s+`
`,c=Buffer.byteLength(u);let y=Math.floor(Math.log(c)/Math.log(10))+1;return c+y>=Math.pow(10,y)&&(y+=1),y+c+u}}o.parse=(e,n,s)=>new o(l(i(e),n),s);const l=(e,n)=>n?Object.keys(e).reduce((s,u)=>(s[u]=e[u],s),n):e,i=e=>e.replace(/\n$/,"").split(`
`).reduce(t,Object.create(null)),t=(e,n)=>{const s=parseInt(n,10);if(s!==Buffer.byteLength(n)+1)return e;n=n.slice((s+" ").length);const u=n.split("="),c=u.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!c)return e;const y=u.join("=");return e[c]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(c)?new Date(y*1e3):/^[0-9]+$/.test(y)?+y:y,e};return Mn=o,Mn}var ye={},qn,la;function Ef(){if(la)return qn;la=1;const r=Ia.constants||{ZLIB_VERNUM:4736};return qn=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},r)),qn}var Bn,ha;function Ka(){if(ha)return Bn;ha=1;const r=typeof process=="object"&&process?process:{stdout:null,stderr:null},a=qe,o=Ce,l=La.StringDecoder,i=Symbol("EOF"),t=Symbol("maybeEmitEnd"),e=Symbol("emittedEnd"),n=Symbol("emittingEnd"),s=Symbol("emittedError"),u=Symbol("closed"),c=Symbol("read"),y=Symbol("flush"),f=Symbol("flushChunk"),O=Symbol("encoding"),w=Symbol("decoder"),S=Symbol("flowing"),d=Symbol("paused"),m=Symbol("resume"),E=Symbol("bufferLength"),h=Symbol("bufferPush"),v=Symbol("bufferShift"),_=Symbol("objectMode"),g=Symbol("destroyed"),p=Symbol("emitData"),T=Symbol("emitEnd"),P=Symbol("emitEnd2"),I=Symbol("async"),x=H=>Promise.resolve().then(H),k=Ne._MP_NO_ITERATOR_SYMBOLS_!=="1",N=k&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$=k&&Symbol.iterator||Symbol("iterator not implemented"),C=H=>H==="end"||H==="finish"||H==="prefinish",D=H=>H instanceof ArrayBuffer||typeof H=="object"&&H.constructor&&H.constructor.name==="ArrayBuffer"&&H.byteLength>=0,B=H=>!Buffer.isBuffer(H)&&ArrayBuffer.isView(H);class G{constructor(R,b,z){this.src=R,this.dest=b,this.opts=z,this.ondrain=()=>R[m](),b.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class V extends G{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(R,b,z){super(R,b,z),this.proxyErrors=te=>b.emit("error",te),R.on("error",this.proxyErrors)}}return Bn=class Ya extends o{constructor(R){super(),this[S]=!1,this[d]=!1,this.pipes=[],this.buffer=[],this[_]=R&&R.objectMode||!1,this[_]?this[O]=null:this[O]=R&&R.encoding||null,this[O]==="buffer"&&(this[O]=null),this[I]=R&&!!R.async||!1,this[w]=this[O]?new l(this[O]):null,this[i]=!1,this[e]=!1,this[n]=!1,this[u]=!1,this[s]=null,this.writable=!0,this.readable=!0,this[E]=0,this[g]=!1}get bufferLength(){return this[E]}get encoding(){return this[O]}set encoding(R){if(this[_])throw new Error("cannot set encoding in objectMode");if(this[O]&&R!==this[O]&&(this[w]&&this[w].lastNeed||this[E]))throw new Error("cannot change encoding");this[O]!==R&&(this[w]=R?new l(R):null,this.buffer.length&&(this.buffer=this.buffer.map(b=>this[w].write(b)))),this[O]=R}setEncoding(R){this.encoding=R}get objectMode(){return this[_]}set objectMode(R){this[_]=this[_]||!!R}get async(){return this[I]}set async(R){this[I]=this[I]||!!R}write(R,b,z){if(this[i])throw new Error("write after end");if(this[g])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof b=="function"&&(z=b,b="utf8"),b||(b="utf8");const te=this[I]?x:M=>M();return!this[_]&&!Buffer.isBuffer(R)&&(B(R)?R=Buffer.from(R.buffer,R.byteOffset,R.byteLength):D(R)?R=Buffer.from(R):typeof R!="string"&&(this.objectMode=!0)),this[_]?(this.flowing&&this[E]!==0&&this[y](!0),this.flowing?this.emit("data",R):this[h](R),this[E]!==0&&this.emit("readable"),z&&te(z),this.flowing):R.length?(typeof R=="string"&&!(b===this[O]&&!this[w].lastNeed)&&(R=Buffer.from(R,b)),Buffer.isBuffer(R)&&this[O]&&(R=this[w].write(R)),this.flowing&&this[E]!==0&&this[y](!0),this.flowing?this.emit("data",R):this[h](R),this[E]!==0&&this.emit("readable"),z&&te(z),this.flowing):(this[E]!==0&&this.emit("readable"),z&&te(z),this.flowing)}read(R){if(this[g])return null;if(this[E]===0||R===0||R>this[E])return this[t](),null;this[_]&&(R=null),this.buffer.length>1&&!this[_]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[E])]);const b=this[c](R||null,this.buffer[0]);return this[t](),b}[c](R,b){return R===b.length||R===null?this[v]():(this.buffer[0]=b.slice(R),b=b.slice(0,R),this[E]-=R),this.emit("data",b),!this.buffer.length&&!this[i]&&this.emit("drain"),b}end(R,b,z){return typeof R=="function"&&(z=R,R=null),typeof b=="function"&&(z=b,b="utf8"),R&&this.write(R,b),z&&this.once("end",z),this[i]=!0,this.writable=!1,(this.flowing||!this[d])&&this[t](),this}[m](){this[g]||(this[d]=!1,this[S]=!0,this.emit("resume"),this.buffer.length?this[y]():this[i]?this[t]():this.emit("drain"))}resume(){return this[m]()}pause(){this[S]=!1,this[d]=!0}get destroyed(){return this[g]}get flowing(){return this[S]}get paused(){return this[d]}[h](R){this[_]?this[E]+=1:this[E]+=R.length,this.buffer.push(R)}[v](){return this.buffer.length&&(this[_]?this[E]-=1:this[E]-=this.buffer[0].length),this.buffer.shift()}[y](R){do;while(this[f](this[v]()));!R&&!this.buffer.length&&!this[i]&&this.emit("drain")}[f](R){return R?(this.emit("data",R),this.flowing):!1}pipe(R,b){if(this[g])return;const z=this[e];return b=b||{},R===r.stdout||R===r.stderr?b.end=!1:b.end=b.end!==!1,b.proxyErrors=!!b.proxyErrors,z?b.end&&R.end():(this.pipes.push(b.proxyErrors?new V(this,R,b):new G(this,R,b)),this[I]?x(()=>this[m]()):this[m]()),R}unpipe(R){const b=this.pipes.find(z=>z.dest===R);b&&(this.pipes.splice(this.pipes.indexOf(b),1),b.unpipe())}addListener(R,b){return this.on(R,b)}on(R,b){const z=super.on(R,b);return R==="data"&&!this.pipes.length&&!this.flowing?this[m]():R==="readable"&&this[E]!==0?super.emit("readable"):C(R)&&this[e]?(super.emit(R),this.removeAllListeners(R)):R==="error"&&this[s]&&(this[I]?x(()=>b.call(this,this[s])):b.call(this,this[s])),z}get emittedEnd(){return this[e]}[t](){!this[n]&&!this[e]&&!this[g]&&this.buffer.length===0&&this[i]&&(this[n]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[u]&&this.emit("close"),this[n]=!1)}emit(R,b,...z){if(R!=="error"&&R!=="close"&&R!==g&&this[g])return;if(R==="data")return b?this[I]?x(()=>this[p](b)):this[p](b):!1;if(R==="end")return this[T]();if(R==="close"){if(this[u]=!0,!this[e]&&!this[g])return;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(R==="error"){this[s]=b;const M=super.emit("error",b);return this[t](),M}else if(R==="resume"){const M=super.emit("resume");return this[t](),M}else if(R==="finish"||R==="prefinish"){const M=super.emit(R);return this.removeAllListeners(R),M}const te=super.emit(R,b,...z);return this[t](),te}[p](R){for(const z of this.pipes)z.dest.write(R)===!1&&this.pause();const b=super.emit("data",R);return this[t](),b}[T](){this[e]||(this[e]=!0,this.readable=!1,this[I]?x(()=>this[P]()):this[P]())}[P](){if(this[w]){const b=this[w].end();if(b){for(const z of this.pipes)z.dest.write(b);super.emit("data",b)}}for(const b of this.pipes)b.end();const R=super.emit("end");return this.removeAllListeners("end"),R}collect(){const R=[];this[_]||(R.dataLength=0);const b=this.promise();return this.on("data",z=>{R.push(z),this[_]||(R.dataLength+=z.length)}),b.then(()=>R)}concat(){return this[_]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(R=>this[_]?Promise.reject(new Error("cannot concat in objectMode")):this[O]?R.join(""):Buffer.concat(R,R.dataLength))}promise(){return new Promise((R,b)=>{this.on(g,()=>b(new Error("stream destroyed"))),this.on("error",z=>b(z)),this.on("end",()=>R())})}[N](){return{next:()=>{const b=this.read();if(b!==null)return Promise.resolve({done:!1,value:b});if(this[i])return Promise.resolve({done:!0});let z=null,te=null;const M=F=>{this.removeListener("data",L),this.removeListener("end",j),te(F)},L=F=>{this.removeListener("error",M),this.removeListener("end",j),this.pause(),z({value:F,done:!!this[i]})},j=()=>{this.removeListener("error",M),this.removeListener("data",L),z({done:!0})},U=()=>M(new Error("stream destroyed"));return new Promise((F,q)=>{te=q,z=F,this.once(g,U),this.once("error",M),this.once("end",j),this.once("data",L)})}}}[$](){return{next:()=>{const b=this.read();return{value:b,done:b===null}}}}destroy(R){return this[g]?(R?this.emit("error",R):this.emit(g),this):(this[g]=!0,this.buffer.length=0,this[E]=0,typeof this.close=="function"&&!this[u]&&this.close(),R?this.emit("error",R):this.emit(g),this)}static isStream(R){return!!R&&(R instanceof Ya||R instanceof o||R instanceof a&&(typeof R.pipe=="function"||typeof R.write=="function"&&typeof R.end=="function"))}},Bn}var fa;function gf(){if(fa)return ye;fa=1;const r=et,a=fu.Buffer,o=Ia,l=ye.constants=Ef(),i=Ka(),t=a.concat,e=Symbol("_superWrite");class n extends Error{constructor(D){super("zlib: "+D.message),this.code=D.code,this.errno=D.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+D.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const s=Symbol("opts"),u=Symbol("flushFlag"),c=Symbol("finishFlushFlag"),y=Symbol("fullFlushFlag"),f=Symbol("handle"),O=Symbol("onError"),w=Symbol("sawError"),S=Symbol("level"),d=Symbol("strategy"),m=Symbol("ended");class E extends i{constructor(D,B){if(!D||typeof D!="object")throw new TypeError("invalid options for ZlibBase constructor");super(D),this[w]=!1,this[m]=!1,this[s]=D,this[u]=D.flush,this[c]=D.finishFlush;try{this[f]=new o[B](D)}catch(G){throw new n(G)}this[O]=G=>{this[w]||(this[w]=!0,this.close(),this.emit("error",G))},this[f].on("error",G=>this[O](new n(G))),this.once("end",()=>this.close)}close(){this[f]&&(this[f].close(),this[f]=null,this.emit("close"))}reset(){if(!this[w])return r(this[f],"zlib binding closed"),this[f].reset()}flush(D){this.ended||(typeof D!="number"&&(D=this[y]),this.write(Object.assign(a.alloc(0),{[u]:D})))}end(D,B,G){return D&&this.write(D,B),this.flush(this[c]),this[m]=!0,super.end(null,null,G)}get ended(){return this[m]}write(D,B,G){if(typeof B=="function"&&(G=B,B="utf8"),typeof D=="string"&&(D=a.from(D,B)),this[w])return;r(this[f],"zlib binding closed");const V=this[f]._handle,H=V.close;V.close=()=>{};const R=this[f].close;this[f].close=()=>{},a.concat=te=>te;let b;try{const te=typeof D[u]=="number"?D[u]:this[u];b=this[f]._processChunk(D,te),a.concat=t}catch(te){a.concat=t,this[O](new n(te))}finally{this[f]&&(this[f]._handle=V,V.close=H,this[f].close=R,this[f].removeAllListeners("error"))}this[f]&&this[f].on("error",te=>this[O](new n(te)));let z;if(b)if(Array.isArray(b)&&b.length>0){z=this[e](a.from(b[0]));for(let te=1;te<b.length;te++)z=this[e](b[te])}else z=this[e](a.from(b));return G&&G(),z}[e](D){return super.write(D)}}class h extends E{constructor(D,B){D=D||{},D.flush=D.flush||l.Z_NO_FLUSH,D.finishFlush=D.finishFlush||l.Z_FINISH,super(D,B),this[y]=l.Z_FULL_FLUSH,this[S]=D.level,this[d]=D.strategy}params(D,B){if(!this[w]){if(!this[f])throw new Error("cannot switch params when binding is closed");if(!this[f].params)throw new Error("not supported in this implementation");if(this[S]!==D||this[d]!==B){this.flush(l.Z_SYNC_FLUSH),r(this[f],"zlib binding closed");const G=this[f].flush;this[f].flush=(V,H)=>{this.flush(V),H()};try{this[f].params(D,B)}finally{this[f].flush=G}this[f]&&(this[S]=D,this[d]=B)}}}}class v extends h{constructor(D){super(D,"Deflate")}}class _ extends h{constructor(D){super(D,"Inflate")}}const g=Symbol("_portable");class p extends h{constructor(D){super(D,"Gzip"),this[g]=D&&!!D.portable}[e](D){return this[g]?(this[g]=!1,D[9]=255,super[e](D)):super[e](D)}}class T extends h{constructor(D){super(D,"Gunzip")}}class P extends h{constructor(D){super(D,"DeflateRaw")}}class I extends h{constructor(D){super(D,"InflateRaw")}}class x extends h{constructor(D){super(D,"Unzip")}}class k extends E{constructor(D,B){D=D||{},D.flush=D.flush||l.BROTLI_OPERATION_PROCESS,D.finishFlush=D.finishFlush||l.BROTLI_OPERATION_FINISH,super(D,B),this[y]=l.BROTLI_OPERATION_FLUSH}}class N extends k{constructor(D){super(D,"BrotliCompress")}}class $ extends k{constructor(D){super(D,"BrotliDecompress")}}return ye.Deflate=v,ye.Inflate=_,ye.Gzip=p,ye.Gunzip=T,ye.DeflateRaw=P,ye.InflateRaw=I,ye.Unzip=x,typeof o.BrotliCompress=="function"?(ye.BrotliCompress=N,ye.BrotliDecompress=$):ye.BrotliCompress=ye.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}},ye}var Hn,da;function vf(){if(da)return Hn;da=1;const r=lf(),a=za(),o=qe,l=pf(),i=1024*1024,t=_f(),e=yf(),n=gf(),{nextTick:s}=du,u=Buffer.from([31,139]),c=Symbol("state"),y=Symbol("writeEntry"),f=Symbol("readEntry"),O=Symbol("nextEntry"),w=Symbol("processEntry"),S=Symbol("extendedHeader"),d=Symbol("globalExtendedHeader"),m=Symbol("meta"),E=Symbol("emitMeta"),h=Symbol("buffer"),v=Symbol("queue"),_=Symbol("ended"),g=Symbol("emittedEnd"),p=Symbol("emit"),T=Symbol("unzip"),P=Symbol("consumeChunk"),I=Symbol("consumeChunkSub"),x=Symbol("consumeBody"),k=Symbol("consumeMeta"),N=Symbol("consumeHeader"),$=Symbol("consuming"),C=Symbol("bufferConcat"),D=Symbol("maybeEnd"),B=Symbol("writing"),G=Symbol("aborted"),V=Symbol("onDone"),H=Symbol("sawValidEntry"),R=Symbol("sawNullBlock"),b=Symbol("sawEOF"),z=Symbol("closeStream"),te=M=>!0;return Hn=r(class extends o{constructor(L){L=L||{},super(L),this.file=L.file||"",this[H]=null,this.on(V,U=>{(this[c]==="begin"||this[H]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),L.ondone?this.on(V,L.ondone):this.on(V,U=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!L.strict,this.maxMetaEntrySize=L.maxMetaEntrySize||i,this.filter=typeof L.filter=="function"?L.filter:te;const j=L.file&&(L.file.endsWith(".tar.br")||L.file.endsWith(".tbr"));this.brotli=!L.gzip&&L.brotli!==void 0?L.brotli:j?void 0:!1,this.writable=!0,this.readable=!1,this[v]=new l,this[h]=null,this[f]=null,this[y]=null,this[c]="begin",this[m]="",this[S]=null,this[d]=null,this[_]=!1,this[T]=null,this[G]=!1,this[R]=!1,this[b]=!1,this.on("end",()=>this[z]()),typeof L.onwarn=="function"&&this.on("warn",L.onwarn),typeof L.onentry=="function"&&this.on("entry",L.onentry)}[N](L,j){this[H]===null&&(this[H]=!1);let U;try{U=new a(L,j,this[S],this[d])}catch(F){return this.warn("TAR_ENTRY_INVALID",F)}if(U.nullBlock)this[R]?(this[b]=!0,this[c]==="begin"&&(this[c]="header"),this[p]("eof")):(this[R]=!0,this[p]("nullBlock"));else if(this[R]=!1,!U.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:U});else if(!U.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:U});else{const F=U.type;if(/^(Symbolic)?Link$/.test(F)&&!U.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:U});else if(!/^(Symbolic)?Link$/.test(F)&&U.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:U});else{const q=this[y]=new t(U,this[S],this[d]);if(!this[H])if(q.remain){const Y=()=>{q.invalid||(this[H]=!0)};q.on("end",Y)}else this[H]=!0;q.meta?q.size>this.maxMetaEntrySize?(q.ignore=!0,this[p]("ignoredEntry",q),this[c]="ignore",q.resume()):q.size>0&&(this[m]="",q.on("data",Y=>this[m]+=Y),this[c]="meta"):(this[S]=null,q.ignore=q.ignore||!this.filter(q.path,q),q.ignore?(this[p]("ignoredEntry",q),this[c]=q.remain?"ignore":"header",q.resume()):(q.remain?this[c]="body":(this[c]="header",q.end()),this[f]?this[v].push(q):(this[v].push(q),this[O]())))}}}[z](){s(()=>this.emit("close"))}[w](L){let j=!0;return L?Array.isArray(L)?this.emit.apply(this,L):(this[f]=L,this.emit("entry",L),L.emittedEnd||(L.on("end",U=>this[O]()),j=!1)):(this[f]=null,j=!1),j}[O](){do;while(this[w](this[v].shift()));if(!this[v].length){const L=this[f];!L||L.flowing||L.size===L.remain?this[B]||this.emit("drain"):L.once("drain",U=>this.emit("drain"))}}[x](L,j){const U=this[y],F=U.blockRemain,q=F>=L.length&&j===0?L:L.slice(j,j+F);return U.write(q),U.blockRemain||(this[c]="header",this[y]=null,U.end()),q.length}[k](L,j){const U=this[y],F=this[x](L,j);return this[y]||this[E](U),F}[p](L,j,U){!this[v].length&&!this[f]?this.emit(L,j,U):this[v].push([L,j,U])}[E](L){switch(this[p]("meta",this[m]),L.type){case"ExtendedHeader":case"OldExtendedHeader":this[S]=e.parse(this[m],this[S],!1);break;case"GlobalExtendedHeader":this[d]=e.parse(this[m],this[d],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[S]=this[S]||Object.create(null),this[S].path=this[m].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[S]=this[S]||Object.create(null),this[S].linkpath=this[m].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+L.type)}}abort(L){this[G]=!0,this.emit("abort",L),this.warn("TAR_ABORT",L,{recoverable:!1})}write(L){if(this[G])return;if((this[T]===null||this.brotli===void 0&&this[T]===!1)&&L){if(this[h]&&(L=Buffer.concat([this[h],L]),this[h]=null),L.length<u.length)return this[h]=L,!0;for(let q=0;this[T]===null&&q<u.length;q++)L[q]!==u[q]&&(this[T]=!1);const F=this.brotli===void 0;if(this[T]===!1&&F)if(L.length<512)if(this[_])this.brotli=!0;else return this[h]=L,!0;else try{new a(L.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[T]===null||this[T]===!1&&this.brotli){const q=this[_];this[_]=!1,this[T]=this[T]===null?new n.Unzip:new n.BrotliDecompress,this[T].on("data",J=>this[P](J)),this[T].on("error",J=>this.abort(J)),this[T].on("end",J=>{this[_]=!0,this[P]()}),this[B]=!0;const Y=this[T][q?"end":"write"](L);return this[B]=!1,Y}}this[B]=!0,this[T]?this[T].write(L):this[P](L),this[B]=!1;const U=this[v].length?!1:this[f]?this[f].flowing:!0;return!U&&!this[v].length&&this[f].once("drain",F=>this.emit("drain")),U}[C](L){L&&!this[G]&&(this[h]=this[h]?Buffer.concat([this[h],L]):L)}[D](){if(this[_]&&!this[g]&&!this[G]&&!this[$]){this[g]=!0;const L=this[y];if(L&&L.blockRemain){const j=this[h]?this[h].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${L.blockRemain} more bytes, only ${j} available)`,{entry:L}),this[h]&&L.write(this[h]),L.end()}this[p](V)}}[P](L){if(this[$])this[C](L);else if(!L&&!this[h])this[D]();else{if(this[$]=!0,this[h]){this[C](L);const j=this[h];this[h]=null,this[I](j)}else this[I](L);for(;this[h]&&this[h].length>=512&&!this[G]&&!this[b];){const j=this[h];this[h]=null,this[I](j)}this[$]=!1}(!this[h]||this[_])&&this[D]()}[I](L){let j=0;const U=L.length;for(;j+512<=U&&!this[G]&&!this[b];)switch(this[c]){case"begin":case"header":this[N](L,j),j+=512;break;case"ignore":case"body":j+=this[x](L,j);break;case"meta":j+=this[k](L,j);break;default:throw new Error("invalid state: "+this[c])}j<U&&(this[h]?this[h]=Buffer.concat([L.slice(j),this[h]]):this[h]=L.slice(j))}end(L){this[G]||(this[T]?this[T].end(L):(this[_]=!0,this.brotli===void 0&&(L=L||Buffer.alloc(0)),this.write(L)))}}),Hn}var Fe={},pa;function Xa(){if(pa)return Fe;pa=1;const r=Ka(),a=qe.EventEmitter,o=_e;let l=o.writev;if(!l){const H=process.binding("fs"),R=H.FSReqWrap||H.FSReqCallback;l=(b,z,te,M)=>{const L=(U,F)=>M(U,F,z),j=new R;j.oncomplete=L,H.writeBuffers(b,z,te,j)}}const i=Symbol("_autoClose"),t=Symbol("_close"),e=Symbol("_ended"),n=Symbol("_fd"),s=Symbol("_finished"),u=Symbol("_flags"),c=Symbol("_flush"),y=Symbol("_handleChunk"),f=Symbol("_makeBuf"),O=Symbol("_mode"),w=Symbol("_needDrain"),S=Symbol("_onerror"),d=Symbol("_onopen"),m=Symbol("_onread"),E=Symbol("_onwrite"),h=Symbol("_open"),v=Symbol("_path"),_=Symbol("_pos"),g=Symbol("_queue"),p=Symbol("_read"),T=Symbol("_readSize"),P=Symbol("_reading"),I=Symbol("_remain"),x=Symbol("_size"),k=Symbol("_write"),N=Symbol("_writing"),$=Symbol("_defaultFlag"),C=Symbol("_errored");class D extends r{constructor(R,b){if(b=b||{},super(b),this.readable=!0,this.writable=!1,typeof R!="string")throw new TypeError("path must be a string");this[C]=!1,this[n]=typeof b.fd=="number"?b.fd:null,this[v]=R,this[T]=b.readSize||16*1024*1024,this[P]=!1,this[x]=typeof b.size=="number"?b.size:1/0,this[I]=this[x],this[i]=typeof b.autoClose=="boolean"?b.autoClose:!0,typeof this[n]=="number"?this[p]():this[h]()}get fd(){return this[n]}get path(){return this[v]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[h](){o.open(this[v],"r",(R,b)=>this[d](R,b))}[d](R,b){R?this[S](R):(this[n]=b,this.emit("open",b),this[p]())}[f](){return Buffer.allocUnsafe(Math.min(this[T],this[I]))}[p](){if(!this[P]){this[P]=!0;const R=this[f]();if(R.length===0)return process.nextTick(()=>this[m](null,0,R));o.read(this[n],R,0,R.length,null,(b,z,te)=>this[m](b,z,te))}}[m](R,b,z){this[P]=!1,R?this[S](R):this[y](b,z)&&this[p]()}[t](){if(this[i]&&typeof this[n]=="number"){const R=this[n];this[n]=null,o.close(R,b=>b?this.emit("error",b):this.emit("close"))}}[S](R){this[P]=!0,this[t](),this.emit("error",R)}[y](R,b){let z=!1;return this[I]-=R,R>0&&(z=super.write(R<b.length?b.slice(0,R):b)),(R===0||this[I]<=0)&&(z=!1,this[t](),super.end()),z}emit(R,b){switch(R){case"prefinish":case"finish":break;case"drain":typeof this[n]=="number"&&this[p]();break;case"error":return this[C]?void 0:(this[C]=!0,super.emit(R,b));default:return super.emit(R,b)}}}class B extends D{[h](){let R=!0;try{this[d](null,o.openSync(this[v],"r")),R=!1}finally{R&&this[t]()}}[p](){let R=!0;try{if(!this[P]){this[P]=!0;do{const b=this[f](),z=b.length===0?0:o.readSync(this[n],b,0,b.length,null);if(!this[y](z,b))break}while(!0);this[P]=!1}R=!1}finally{R&&this[t]()}}[t](){if(this[i]&&typeof this[n]=="number"){const R=this[n];this[n]=null,o.closeSync(R),this.emit("close")}}}class G extends a{constructor(R,b){b=b||{},super(b),this.readable=!1,this.writable=!0,this[C]=!1,this[N]=!1,this[e]=!1,this[w]=!1,this[g]=[],this[v]=R,this[n]=typeof b.fd=="number"?b.fd:null,this[O]=b.mode===void 0?438:b.mode,this[_]=typeof b.start=="number"?b.start:null,this[i]=typeof b.autoClose=="boolean"?b.autoClose:!0;const z=this[_]!==null?"r+":"w";this[$]=b.flags===void 0,this[u]=this[$]?z:b.flags,this[n]===null&&this[h]()}emit(R,b){if(R==="error"){if(this[C])return;this[C]=!0}return super.emit(R,b)}get fd(){return this[n]}get path(){return this[v]}[S](R){this[t](),this[N]=!0,this.emit("error",R)}[h](){o.open(this[v],this[u],this[O],(R,b)=>this[d](R,b))}[d](R,b){this[$]&&this[u]==="r+"&&R&&R.code==="ENOENT"?(this[u]="w",this[h]()):R?this[S](R):(this[n]=b,this.emit("open",b),this[c]())}end(R,b){return R&&this.write(R,b),this[e]=!0,!this[N]&&!this[g].length&&typeof this[n]=="number"&&this[E](null,0),this}write(R,b){return typeof R=="string"&&(R=Buffer.from(R,b)),this[e]?(this.emit("error",new Error("write() after end()")),!1):this[n]===null||this[N]||this[g].length?(this[g].push(R),this[w]=!0,!1):(this[N]=!0,this[k](R),!0)}[k](R){o.write(this[n],R,0,R.length,this[_],(b,z)=>this[E](b,z))}[E](R,b){R?this[S](R):(this[_]!==null&&(this[_]+=b),this[g].length?this[c]():(this[N]=!1,this[e]&&!this[s]?(this[s]=!0,this[t](),this.emit("finish")):this[w]&&(this[w]=!1,this.emit("drain"))))}[c](){if(this[g].length===0)this[e]&&this[E](null,0);else if(this[g].length===1)this[k](this[g].pop());else{const R=this[g];this[g]=[],l(this[n],R,this[_],(b,z)=>this[E](b,z))}}[t](){if(this[i]&&typeof this[n]=="number"){const R=this[n];this[n]=null,o.close(R,b=>b?this.emit("error",b):this.emit("close"))}}}class V extends G{[h](){let R;if(this[$]&&this[u]==="r+")try{R=o.openSync(this[v],this[u],this[O])}catch(b){if(b.code==="ENOENT")return this[u]="w",this[h]();throw b}else R=o.openSync(this[v],this[u],this[O]);this[d](null,R)}[t](){if(this[i]&&typeof this[n]=="number"){const R=this[n];this[n]=null,o.closeSync(R),this.emit("close")}}[k](R){let b=!0;try{this[E](null,o.writeSync(this[n],R,0,R.length,this[_])),b=!1}finally{if(b)try{this[t]()}catch{}}}}return Fe.ReadStream=D,Fe.ReadStreamSync=B,Fe.WriteStream=G,Fe.WriteStreamSync=V,Fe}var Lt={exports:{}},Za=Re();const Sf=Za.mkdirp,Rf=Object.freeze(Object.defineProperty({__proto__:null,default:Sf,sync:Za.mkdirpSync},Symbol.toStringTag,{value:"Module"})),wf=mu(Rf);var jn,ma;function Of(){if(ma)return jn;ma=1;const r=_e,a=Q,o=r.lchown?"lchown":"chown",l=r.lchownSync?"lchownSync":"chownSync",i=r.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),t=(m,E,h)=>{try{return r[l](m,E,h)}catch(v){if(v.code!=="ENOENT")throw v}},e=(m,E,h)=>{try{return r.chownSync(m,E,h)}catch(v){if(v.code!=="ENOENT")throw v}},n=i?(m,E,h,v)=>_=>{!_||_.code!=="EISDIR"?v(_):r.chown(m,E,h,v)}:(m,E,h,v)=>v,s=i?(m,E,h)=>{try{return t(m,E,h)}catch(v){if(v.code!=="EISDIR")throw v;e(m,E,h)}}:(m,E,h)=>t(m,E,h),u=process.version;let c=(m,E,h)=>r.readdir(m,E,h),y=(m,E)=>r.readdirSync(m,E);/^v4\./.test(u)&&(c=(m,E,h)=>r.readdir(m,h));const f=(m,E,h,v)=>{r[o](m,E,h,n(m,E,h,_=>{v(_&&_.code!=="ENOENT"?_:null)}))},O=(m,E,h,v,_)=>{if(typeof E=="string")return r.lstat(a.resolve(m,E),(g,p)=>{if(g)return _(g.code!=="ENOENT"?g:null);p.name=E,O(m,p,h,v,_)});if(E.isDirectory())w(a.resolve(m,E.name),h,v,g=>{if(g)return _(g);const p=a.resolve(m,E.name);f(p,h,v,_)});else{const g=a.resolve(m,E.name);f(g,h,v,_)}},w=(m,E,h,v)=>{c(m,{withFileTypes:!0},(_,g)=>{if(_){if(_.code==="ENOENT")return v();if(_.code!=="ENOTDIR"&&_.code!=="ENOTSUP")return v(_)}if(_||!g.length)return f(m,E,h,v);let p=g.length,T=null;const P=I=>{if(!T){if(I)return v(T=I);if(--p===0)return f(m,E,h,v)}};g.forEach(I=>O(m,I,E,h,P))})},S=(m,E,h,v)=>{if(typeof E=="string")try{const _=r.lstatSync(a.resolve(m,E));_.name=E,E=_}catch(_){if(_.code==="ENOENT")return;throw _}E.isDirectory()&&d(a.resolve(m,E.name),h,v),s(a.resolve(m,E.name),h,v)},d=(m,E,h)=>{let v;try{v=y(m,{withFileTypes:!0})}catch(_){if(_.code==="ENOENT")return;if(_.code==="ENOTDIR"||_.code==="ENOTSUP")return s(m,E,h);throw _}return v&&v.length&&v.forEach(_=>S(m,_,E,h)),s(m,E,h)};return jn=w,w.sync=d,jn}var _a;function Af(){if(_a)return Lt.exports;_a=1;const r=wf,a=_e,o=Q,l=Of(),i=hi();class t extends Error{constructor(w,S){super("Cannot extract through symbolic link"),this.path=S,this.symlink=w}get name(){return"SylinkError"}}class e extends Error{constructor(w,S){super(S+": Cannot cd into '"+w+"'"),this.path=w,this.code=S}get name(){return"CwdError"}}const n=(O,w)=>O.get(i(w)),s=(O,w,S)=>O.set(i(w),S),u=(O,w)=>{a.stat(O,(S,d)=>{(S||!d.isDirectory())&&(S=new e(O,S&&S.code||"ENOTDIR")),w(S)})};Lt.exports=(O,w,S)=>{O=i(O);const d=w.umask,m=w.mode|448,E=(m&d)!==0,h=w.uid,v=w.gid,_=typeof h=="number"&&typeof v=="number"&&(h!==w.processUid||v!==w.processGid),g=w.preserve,p=w.unlink,T=w.cache,P=i(w.cwd),I=(N,$)=>{N?S(N):(s(T,O,!0),$&&_?l($,h,v,C=>I(C)):E?a.chmod(O,m,S):S())};if(T&&n(T,O)===!0)return I();if(O===P)return u(O,I);if(g)return r(O,{mode:m}).then(N=>I(null,N),I);const k=i(o.relative(P,O)).split("/");c(P,k,m,T,p,P,null,I)};const c=(O,w,S,d,m,E,h,v)=>{if(!w.length)return v(null,h);const _=w.shift(),g=i(o.resolve(O+"/"+_));if(n(d,g))return c(g,w,S,d,m,E,h,v);a.mkdir(g,S,y(g,w,S,d,m,E,h,v))},y=(O,w,S,d,m,E,h,v)=>_=>{_?a.lstat(O,(g,p)=>{if(g)g.path=g.path&&i(g.path),v(g);else if(p.isDirectory())c(O,w,S,d,m,E,h,v);else if(m)a.unlink(O,T=>{if(T)return v(T);a.mkdir(O,S,y(O,w,S,d,m,E,h,v))});else{if(p.isSymbolicLink())return v(new t(O,O+"/"+w.join("/")));v(_)}}):(h=h||O,c(O,w,S,d,m,E,h,v))},f=O=>{let w=!1,S="ENOTDIR";try{w=a.statSync(O).isDirectory()}catch(d){S=d.code}finally{if(!w)throw new e(O,S)}};return Lt.exports.sync=(O,w)=>{O=i(O);const S=w.umask,d=w.mode|448,m=(d&S)!==0,E=w.uid,h=w.gid,v=typeof E=="number"&&typeof h=="number"&&(E!==w.processUid||h!==w.processGid),_=w.preserve,g=w.unlink,p=w.cache,T=i(w.cwd),P=N=>{s(p,O,!0),N&&v&&l.sync(N,E,h),m&&a.chmodSync(O,d)};if(p&&n(p,O)===!0)return P();if(O===T)return f(T),P();if(_)return P(r.sync(O,d));const x=i(o.relative(T,O)).split("/");let k=null;for(let N=x.shift(),$=T;N&&($+="/"+N);N=x.shift())if($=i(o.resolve($)),!n(p,$))try{a.mkdirSync($,d),k=k||$,s(p,$,!0)}catch{const D=a.lstatSync($);if(D.isDirectory()){s(p,$,!0);continue}else if(g){a.unlinkSync($),a.mkdirSync($,d),k=k||$,s(p,$,!0);continue}else if(D.isSymbolicLink())return new t($,$+"/"+x.join("/"))}return P(k)},Lt.exports}var Un,ya;function Tf(){if(ya)return Un;ya=1;const r=["|","<",">","?",":"],a=r.map(i=>String.fromCharCode(61440+i.charCodeAt(0))),o=new Map(r.map((i,t)=>[i,a[t]])),l=new Map(a.map((i,t)=>[i,r[t]]));return Un={encode:i=>r.reduce((t,e)=>t.split(e).join(o.get(e)),i),decode:i=>a.reduce((t,e)=>t.split(e).join(l.get(e)),i)},Un}var Gn,Ea;function Ja(){if(Ea)return Gn;Ea=1;const r=Object.create(null),{hasOwnProperty:a}=Object.prototype;return Gn=o=>(a.call(r,o)||(r[o]=o.normalize("NFD")),r[o]),Gn}var Wn,ga;function fi(){return ga||(ga=1,Wn=r=>{let a=r.length-1,o=-1;for(;a>-1&&r.charAt(a)==="/";)o=a,a--;return o===-1?r:r.slice(0,o)}),Wn}var Vn,va;function Pf(){if(va)return Vn;va=1;const r=et,a=Ja(),o=fi(),{join:l}=Q,t=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32";return Vn=()=>{const e=new Map,n=new Map,s=S=>S.split("/").slice(0,-1).reduce((m,E)=>(m.length&&(E=l(m[m.length-1],E)),m.push(E||"/"),m),[]),u=new Set,c=S=>{const d=n.get(S);if(!d)throw new Error("function does not have any path reservations");return{paths:d.paths.map(m=>e.get(m)),dirs:[...d.dirs].map(m=>e.get(m))}},y=S=>{const{paths:d,dirs:m}=c(S);return d.every(E=>E[0]===S)&&m.every(E=>E[0]instanceof Set&&E[0].has(S))},f=S=>u.has(S)||!y(S)?!1:(u.add(S),S(()=>O(S)),!0),O=S=>{if(!u.has(S))return!1;const{paths:d,dirs:m}=n.get(S),E=new Set;return d.forEach(h=>{const v=e.get(h);r.equal(v[0],S),v.length===1?e.delete(h):(v.shift(),typeof v[0]=="function"?E.add(v[0]):v[0].forEach(_=>E.add(_)))}),m.forEach(h=>{const v=e.get(h);r(v[0]instanceof Set),v[0].size===1&&v.length===1?e.delete(h):v[0].size===1?(v.shift(),E.add(v[0])):v[0].delete(S)}),u.delete(S),E.forEach(h=>f(h)),!0};return{check:y,reserve:(S,d)=>{S=t?["win32 parallelization disabled"]:S.map(E=>o(l(a(E))).toLowerCase());const m=new Set(S.map(E=>s(E)).reduce((E,h)=>E.concat(h)));return n.set(d,{dirs:m,paths:S}),S.forEach(E=>{const h=e.get(E);h?h.push(d):e.set(E,[d])}),m.forEach(E=>{const h=e.get(E);h?h[h.length-1]instanceof Set?h[h.length-1].add(d):h.push(new Set([d])):e.set(E,[new Set([d])])}),f(d)}}},Vn}var zn,Sa;function bf(){if(Sa)return zn;Sa=1;const{isAbsolute:r,parse:a}=Q.win32;return zn=o=>{let l="",i=a(o);for(;r(o)||i.root;){const t=o.charAt(0)==="/"&&o.slice(0,4)!=="//?/"?"/":i.root;o=o.slice(t.length),l+=t,i=a(o)}return[l,o]},zn}var Yn,Ra;function Nf(){if(Ra)return Yn;Ra=1;const a=(process.env.__FAKE_PLATFORM__||process.platform)==="win32",o=Ne.__FAKE_TESTING_FS__||_e,{O_CREAT:l,O_TRUNC:i,O_WRONLY:t,UV_FS_O_FILEMAP:e=0}=o.constants,n=a&&!!e,s=512*1024,u=e|i|l|t;return Yn=n?c=>c<s?u:"w":()=>"w",Yn}var Kn,wa;function Lf(){if(wa)return Kn;wa=1;const r=et,a=vf(),o=_e,l=Xa(),i=Q,t=Af(),e=Tf(),n=Pf(),s=bf(),u=hi(),c=fi(),y=Ja(),f=Symbol("onEntry"),O=Symbol("checkFs"),w=Symbol("checkFs2"),S=Symbol("pruneCache"),d=Symbol("isReusable"),m=Symbol("makeFs"),E=Symbol("file"),h=Symbol("directory"),v=Symbol("link"),_=Symbol("symlink"),g=Symbol("hardlink"),p=Symbol("unsupported"),T=Symbol("checkPath"),P=Symbol("mkdir"),I=Symbol("onError"),x=Symbol("pending"),k=Symbol("pend"),N=Symbol("unpend"),$=Symbol("ended"),C=Symbol("maybeClose"),D=Symbol("skip"),B=Symbol("doChown"),G=Symbol("uid"),V=Symbol("gid"),H=Symbol("checkedCwd"),R=Na,b=Nf(),te=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32",M=1024,L=(Z,A)=>{if(!te)return o.unlink(Z,A);const X=Z+".DELETE."+R.randomBytes(16).toString("hex");o.rename(Z,X,ee=>{if(ee)return A(ee);o.unlink(X,A)})},j=Z=>{if(!te)return o.unlinkSync(Z);const A=Z+".DELETE."+R.randomBytes(16).toString("hex");o.renameSync(Z,A),o.unlinkSync(A)},U=(Z,A,X)=>Z===Z>>>0?Z:A===A>>>0?A:X,F=Z=>c(u(y(Z))).toLowerCase(),q=(Z,A)=>{A=F(A);for(const X of Z.keys()){const ee=F(X);(ee===A||ee.indexOf(A+"/")===0)&&Z.delete(X)}},Y=Z=>{for(const A of Z.keys())Z.delete(A)};class J extends a{constructor(A){if(A||(A={}),A.ondone=X=>{this[$]=!0,this[C]()},super(A),this[H]=!1,this.reservations=n(),this.transform=typeof A.transform=="function"?A.transform:null,this.writable=!0,this.readable=!1,this[x]=0,this[$]=!1,this.dirCache=A.dirCache||new Map,typeof A.uid=="number"||typeof A.gid=="number"){if(typeof A.uid!="number"||typeof A.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(A.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=A.uid,this.gid=A.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;A.preserveOwner===void 0&&typeof A.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!A.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof A.maxDepth=="number"?A.maxDepth:M,this.forceChown=A.forceChown===!0,this.win32=!!A.win32||te,this.newer=!!A.newer,this.keep=!!A.keep,this.noMtime=!!A.noMtime,this.preservePaths=!!A.preservePaths,this.unlink=!!A.unlink,this.cwd=u(i.resolve(A.cwd||process.cwd())),this.strip=+A.strip||0,this.processUmask=A.noChmod?0:process.umask(),this.umask=typeof A.umask=="number"?A.umask:this.processUmask,this.dmode=A.dmode||511&~this.umask,this.fmode=A.fmode||438&~this.umask,this.on("entry",X=>this[f](X))}warn(A,X,ee={}){return(A==="TAR_BAD_ARCHIVE"||A==="TAR_ABORT")&&(ee.recoverable=!1),super.warn(A,X,ee)}[C](){this[$]&&this[x]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[T](A){const X=u(A.path),ee=X.split("/");if(this.strip){if(ee.length<this.strip)return!1;if(A.type==="Link"){const W=u(A.linkpath).split("/");if(W.length>=this.strip)A.linkpath=W.slice(this.strip).join("/");else return!1}ee.splice(0,this.strip),A.path=ee.join("/")}if(isFinite(this.maxDepth)&&ee.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:A,path:X,depth:ee.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(ee.includes("..")||te&&/^[a-z]:\.\.$/i.test(ee[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:A,path:X}),!1;const[W,ie]=s(X);W&&(A.path=ie,this.warn("TAR_ENTRY_INFO",`stripping ${W} from absolute path`,{entry:A,path:X}))}if(i.isAbsolute(A.path)?A.absolute=u(i.resolve(A.path)):A.absolute=u(i.resolve(this.cwd,A.path)),!this.preservePaths&&A.absolute.indexOf(this.cwd+"/")!==0&&A.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:A,path:u(A.path),resolvedPath:A.absolute,cwd:this.cwd}),!1;if(A.absolute===this.cwd&&A.type!=="Directory"&&A.type!=="GNUDumpDir")return!1;if(this.win32){const{root:W}=i.win32.parse(A.absolute);A.absolute=W+e.encode(A.absolute.slice(W.length));const{root:ie}=i.win32.parse(A.path);A.path=ie+e.encode(A.path.slice(ie.length))}return!0}[f](A){if(!this[T](A))return A.resume();switch(r.equal(typeof A.absolute,"string"),A.type){case"Directory":case"GNUDumpDir":A.mode&&(A.mode=A.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[O](A);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[p](A)}}[I](A,X){A.name==="CwdError"?this.emit("error",A):(this.warn("TAR_ENTRY_ERROR",A,{entry:X}),this[N](),X.resume())}[P](A,X,ee){t(u(A),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X,noChmod:this.noChmod},ee)}[B](A){return this.forceChown||this.preserveOwner&&(typeof A.uid=="number"&&A.uid!==this.processUid||typeof A.gid=="number"&&A.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[G](A){return U(this.uid,A.uid,this.processUid)}[V](A){return U(this.gid,A.gid,this.processGid)}[E](A,X){const ee=A.mode&4095||this.fmode,W=new l.WriteStream(A.absolute,{flags:b(A.size),mode:ee,autoClose:!1});W.on("error",se=>{W.fd&&o.close(W.fd,()=>{}),W.write=()=>!0,this[I](se,A),X()});let ie=1;const K=se=>{if(se){W.fd&&o.close(W.fd,()=>{}),this[I](se,A),X();return}--ie===0&&o.close(W.fd,ue=>{ue?this[I](ue,A):this[N](),X()})};W.on("finish",se=>{const ue=A.absolute,ce=W.fd;if(A.mtime&&!this.noMtime){ie++;const he=A.atime||new Date,me=A.mtime;o.futimes(ce,he,me,Ge=>Ge?o.utimes(ue,he,me,Mt=>K(Mt&&Ge)):K())}if(this[B](A)){ie++;const he=this[G](A),me=this[V](A);o.fchown(ce,he,me,Ge=>Ge?o.chown(ue,he,me,Mt=>K(Mt&&Ge)):K())}K()});const re=this.transform&&this.transform(A)||A;re!==A&&(re.on("error",se=>{this[I](se,A),X()}),A.pipe(re)),re.pipe(W)}[h](A,X){const ee=A.mode&4095||this.dmode;this[P](A.absolute,ee,W=>{if(W){this[I](W,A),X();return}let ie=1;const K=re=>{--ie===0&&(X(),this[N](),A.resume())};A.mtime&&!this.noMtime&&(ie++,o.utimes(A.absolute,A.atime||new Date,A.mtime,K)),this[B](A)&&(ie++,o.chown(A.absolute,this[G](A),this[V](A),K)),K()})}[p](A){A.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${A.type}`,{entry:A}),A.resume()}[_](A,X){this[v](A,A.linkpath,"symlink",X)}[g](A,X){const ee=u(i.resolve(this.cwd,A.linkpath));this[v](A,ee,"link",X)}[k](){this[x]++}[N](){this[x]--,this[C]()}[D](A){this[N](),A.resume()}[d](A,X){return A.type==="File"&&!this.unlink&&X.isFile()&&X.nlink<=1&&!te}[O](A){this[k]();const X=[A.path];A.linkpath&&X.push(A.linkpath),this.reservations.reserve(X,ee=>this[w](A,ee))}[S](A){A.type==="SymbolicLink"?Y(this.dirCache):A.type!=="Directory"&&q(this.dirCache,A.absolute)}[w](A,X){this[S](A);const ee=re=>{this[S](A),X(re)},W=()=>{this[P](this.cwd,this.dmode,re=>{if(re){this[I](re,A),ee();return}this[H]=!0,ie()})},ie=()=>{if(A.absolute!==this.cwd){const re=u(i.dirname(A.absolute));if(re!==this.cwd)return this[P](re,this.dmode,se=>{if(se){this[I](se,A),ee();return}K()})}K()},K=()=>{o.lstat(A.absolute,(re,se)=>{if(se&&(this.keep||this.newer&&se.mtime>A.mtime)){this[D](A),ee();return}if(re||this[d](A,se))return this[m](null,A,ee);if(se.isDirectory()){if(A.type==="Directory"){const ue=!this.noChmod&&A.mode&&(se.mode&4095)!==A.mode,ce=he=>this[m](he,A,ee);return ue?o.chmod(A.absolute,A.mode,ce):ce()}if(A.absolute!==this.cwd)return o.rmdir(A.absolute,ue=>this[m](ue,A,ee))}if(A.absolute===this.cwd)return this[m](null,A,ee);L(A.absolute,ue=>this[m](ue,A,ee))})};this[H]?ie():W()}[m](A,X,ee){if(A){this[I](A,X),ee();return}switch(X.type){case"File":case"OldFile":case"ContiguousFile":return this[E](X,ee);case"Link":return this[g](X,ee);case"SymbolicLink":return this[_](X,ee);case"Directory":case"GNUDumpDir":return this[h](X,ee)}}[v](A,X,ee,W){o[ee](X,A.absolute,ie=>{ie?this[I](ie,A):(this[N](),A.resume()),W()})}}const ne=Z=>{try{return[null,Z()]}catch(A){return[A,null]}};class oe extends J{[m](A,X){return super[m](A,X,()=>{})}[O](A){if(this[S](A),!this[H]){const ie=this[P](this.cwd,this.dmode);if(ie)return this[I](ie,A);this[H]=!0}if(A.absolute!==this.cwd){const ie=u(i.dirname(A.absolute));if(ie!==this.cwd){const K=this[P](ie,this.dmode);if(K)return this[I](K,A)}}const[X,ee]=ne(()=>o.lstatSync(A.absolute));if(ee&&(this.keep||this.newer&&ee.mtime>A.mtime))return this[D](A);if(X||this[d](A,ee))return this[m](null,A);if(ee.isDirectory()){if(A.type==="Directory"){const K=!this.noChmod&&A.mode&&(ee.mode&4095)!==A.mode,[re]=K?ne(()=>{o.chmodSync(A.absolute,A.mode)}):[];return this[m](re,A)}const[ie]=ne(()=>o.rmdirSync(A.absolute));this[m](ie,A)}const[W]=A.absolute===this.cwd?[]:ne(()=>j(A.absolute));this[m](W,A)}[E](A,X){const ee=A.mode&4095||this.fmode,W=re=>{let se;try{o.closeSync(ie)}catch(ue){se=ue}(re||se)&&this[I](re||se,A),X()};let ie;try{ie=o.openSync(A.absolute,b(A.size),ee)}catch(re){return W(re)}const K=this.transform&&this.transform(A)||A;K!==A&&(K.on("error",re=>this[I](re,A)),A.pipe(K)),K.on("data",re=>{try{o.writeSync(ie,re,0,re.length)}catch(se){W(se)}}),K.on("end",re=>{let se=null;if(A.mtime&&!this.noMtime){const ue=A.atime||new Date,ce=A.mtime;try{o.futimesSync(ie,ue,ce)}catch(he){try{o.utimesSync(A.absolute,ue,ce)}catch{se=he}}}if(this[B](A)){const ue=this[G](A),ce=this[V](A);try{o.fchownSync(ie,ue,ce)}catch(he){try{o.chownSync(A.absolute,ue,ce)}catch{se=se||he}}}W(se)})}[h](A,X){const ee=A.mode&4095||this.dmode,W=this[P](A.absolute,ee);if(W){this[I](W,A),X();return}if(A.mtime&&!this.noMtime)try{o.utimesSync(A.absolute,A.atime||new Date,A.mtime)}catch{}if(this[B](A))try{o.chownSync(A.absolute,this[G](A),this[V](A))}catch{}X(),A.resume()}[P](A,X){try{return t.sync(u(A),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X})}catch(ee){return ee}}[v](A,X,ee,W){try{o[ee+"Sync"](X,A.absolute),W(),A.resume()}catch(ie){return this[I](ie,A)}}}return J.Sync=oe,Kn=J,Kn}var Xn,Oa;function If(){if(Oa)return Xn;Oa=1;const r=cf(),a=Lf(),o=_e,l=Xa(),i=Q,t=fi();Xn=(y,f,O)=>{typeof y=="function"?(O=y,f=null,y={}):Array.isArray(y)&&(f=y,y={}),typeof f=="function"&&(O=f,f=null),f?f=Array.from(f):f=[];const w=r(y);if(w.sync&&typeof O=="function")throw new TypeError("callback not supported for sync tar functions");if(!w.file&&typeof O=="function")throw new TypeError("callback only supported with file option");return f.length&&e(w,f),w.file&&w.sync?n(w):w.file?s(w,O):w.sync?u(w):c(w)};const e=(y,f)=>{const O=new Map(f.map(d=>[t(d),!0])),w=y.filter,S=(d,m)=>{const E=m||i.parse(d).root||".",h=d===E?!1:O.has(d)?O.get(d):S(i.dirname(d),E);return O.set(d,h),h};y.filter=w?(d,m)=>w(d,m)&&S(t(d)):d=>S(t(d))},n=y=>{const f=new a.Sync(y),O=y.file,w=o.statSync(O),S=y.maxReadSize||16*1024*1024;new l.ReadStreamSync(O,{readSize:S,size:w.size}).pipe(f)},s=(y,f)=>{const O=new a(y),w=y.maxReadSize||16*1024*1024,S=y.file,d=new Promise((m,E)=>{O.on("error",E),O.on("close",m),o.stat(S,(h,v)=>{if(h)E(h);else{const _=new l.ReadStream(S,{readSize:w,size:v.size});_.on("error",E),_.pipe(O)}})});return f?d.then(f,f):d},u=y=>new a.Sync(y),c=y=>new a(y);return Xn}var Df=If();const Cf=Pe(Df);async function di(r,a){var o,l;try{const i=(o=a.path)!=null?o:Q.join(Me.tmpdir(),Q.basename(r)),t=Q.basename(i),e=Q.dirname(i);await le.ensureDir(e);const n=new uf.DownloaderHelper(r,e,{fileName:t,timeout:(l=a.timeout)!=null?l:-1});n.on("error",u=>{throw u});const s={filePath:i,hash:void 0};return await n.start(),s.hash=a.hashType!==void 0?await $f(i,a.hashType):void 0,s}catch(i){throw new Error(`Failed to download ${r}: ${i}`)}}async function $f(r,a){const o=await le.readFile(r),l=Na.createHash(a);return l.update(o),l.digest("hex")}async function xf(r,a={}){const{filePath:o}=await di(r,a);try{return await le.readFile(o,"utf8")}finally{await le.remove(o).catch(()=>{})}}async function Ff(r,a){const{hash:o}=await di(r,a);if(!Qa(o,a))throw new Error(`Checksum mismatch for download ${r}. Expected ${a.hashSum}, got ${o}`);return o}async function kf(r,a){var i;const{filePath:o,hash:l}=await di(r,a);try{if(!Qa(l,a))throw new Error(`Checksum mismatch for download ${r}. Expected ${a.hashSum}, got ${l}`);return await Cf({file:o,...a.extractOptions}),l}finally{((i=a.removeAfterExtract)==null||i)&&await le.remove(o).catch(()=>{})}}function Qa(r,a){return a.hashType===void 0||a.hashSum===void 0||a.hashSum===r}function Aa(r,a,o){const l=r.find(i=>i.getPath===o);return!!(l&&l.sum===a)}class Mf{constructor(a){this.config=a}_abi=null;internalPath(){return Q.join(Nl,".cmake-ts",this.config.runtime,this.config.os,this.config.arch,`v${this.config.runtimeVersion}`)}externalPath(){return ke(this.config).externalPath}winLibs(){return ke(this.config).winLibs.map(a=>Q.join(this.internalPath(),a.dir,a.name))}headerOnly(){return ke(this.config).headerOnly}abi(){return this._abi}async checkDownloaded(){let a=!1,o=!0,l=await be(this.internalPath());return l.isDirectory()||(a=!1),this.headerOnly()?(l=await be(Q.join(this.internalPath(),"include/node/node.h")),a=l.isFile()):(l=await be(Q.join(this.internalPath(),"src/node.h")),l.isFile()&&(l=await be(Q.join(this.internalPath(),"deps/v8/include/v8.h")),a=l.isFile())),this.config.os==="win32"&&(o=(await Promise.all(this.winLibs().map(e=>be(e)))).every(e=>e.isFile())),a&&o}async determineABI(){const a=await rf("*/node_version.h",{cwd:Q.join(this.internalPath(),"include"),absolute:!0,onlyFiles:!0,braceExpansion:!1}),o=a.length;if(o===0)return Promise.reject(new Error(`couldn't find include/*/node_version.h in ${this.internalPath()}. Make sure you install the dependencies for building the package.`));if(o!==1)return Promise.reject(new Error(`more than one node_version.h was found in ${this.internalPath()}.`));const l=a[0];let i;try{i=await le.readFile(l,"utf8")}catch(n){if(n instanceof Error)return Promise.reject(n);throw n}const t=i.match(/#define\s+NODE_MODULE_VERSION\s+(\d+)/);if(!t)return Promise.reject(new Error("Failed to find NODE_MODULE_VERSION macro"));const e=Number.parseInt(t[1],10);return Number.isNaN(e)?Promise.reject(new Error("Invalid version specified by NODE_MODULE_VERSION macro")):(this._abi=e,this.config.abi=e,this.config.libc=await qf(),Promise.resolve())}async ensureDownloaded(){await this.checkDownloaded()||await this.download()}async download(){await le.ensureDir(this.internalPath());const a=await this.downloadHashSums();await this.downloadTar(a),await this.downloadLibs(a)}async downloadHashSums(){if(this.config.runtime==="node"||this.config.runtime==="iojs"){const a=Nt(this.externalPath(),"SHASUMS256.txt");return(await xf(a)).split(`
`).map(l=>{const i=l.split(/\s+/);return{getPath:i[1],sum:i[0]}}).filter(l=>l.getPath&&l.sum)}return null}async downloadTar(a){const o=ke(this.config).tarPath,l=Nt(this.externalPath(),o),i=await kf(l,{hashType:a?"sha256":void 0,extractOptions:{cwd:this.internalPath(),strip:1,filter:t=>{if(t===this.internalPath())return!0;const e=Q.extname(t);return e!==""&&e.toLowerCase()===".h"}}});if(a&&!Aa(a,i,o))throw new Error("Checksum mismatch")}async downloadLibs(a){if(this.config.os!=="win32")return;const o=ke(this.config);await Promise.all(o.winLibs.map(l=>this.downloadLib(l,a)))}async downloadLib(a,o){const l=a.dir?Nt(a.dir,a.name):a.name,i=Nt(this.externalPath(),l);await le.ensureDir(Q.join(this.internalPath(),a.dir));const t=await Ff(i,{path:Q.join(this.internalPath(),l),hashType:o?"sha256":void 0});if(o&&!Aa(o,t,l))throw new Error("Checksum mismatch")}}async function qf(){return process.platform==="linux"?await le.pathExists("/etc/alpine-release")?"musl":"glibc":process.platform==="darwin"?"libc":process.platform==="win32"?"msvc":"unknown"}const Bf=$t("CMAKETSDEBUG");async function Hf(){const r=process.argv.slice(2);let a;try{const e=Q.resolve(Q.join(process.cwd(),"package.json"));a=await le.readJson(e)}catch(e){console.error("Failed to load package.json, maybe your cwd is wrong:",e),process.exit(1)}const o=a["cmake-ts"];o===void 0&&(console.error("Package.json does not have cmake-ts key defined!"),process.exit(1));const l=await Cl(r),i=await Bl(o,l);i.targetDirectory=Q.resolve(Q.join(i.packageDirectory,i.targetDirectory)),i.stagingDirectory=Q.resolve(Q.join(i.packageDirectory,i.stagingDirectory));const t=await le.pathExists(i.stagingDirectory);console.log("running in",i.packageDirectory,"command",r),process.stdout.write("> Setting up staging directory... "),t&&(await le.remove(i.stagingDirectory),process.stdout.write("[ CLEARED ]")),await le.ensureDir(i.stagingDirectory),console.log("[ DONE ]");for(const e of i.configurations){const n=Ma(e),s=new Mf(n);console.log("---------------- BEGIN CONFIG ----------------"),process.stdout.write("> Distribution File Download... "),await s.ensureDownloaded(),console.log("[ DONE ]"),process.stdout.write("> Determining ABI... "),await s.determineABI(),console.log("[ DONE ]"),process.stdout.write("> Building directories... ");const u=Q.join(n.os,n.arch,n.runtime,`${n.libc}-${s.abi()}-${i.buildType}`,n.addonSubdirectory),c=Q.resolve(Q.join(i.stagingDirectory,u)),y=Q.resolve(Q.join(i.targetDirectory,u));console.log("[ DONE ]"),process.stdout.write("> Applying overrides... ");const f=Ql(n);console.log(`[ DONE, ${f} applied ]`),console.log("--------------- CONFIG SUMMARY ---------------"),console.log("Name: ",n.name?n.name:"N/A"),console.log("OS/Arch:",n.os,n.arch),console.log("Runtime:",n.runtime,n.runtimeVersion),console.log("Target ABI:",s.abi()),console.log("Toolchain File:",n.toolchainFile),console.log("Custom CMake options:",n.CMakeOptions&&n.CMakeOptions.length>0?"yes":"no"),console.log("Staging area:",c),console.log("Target directory:",y),console.log("Build Type",i.buildType),console.log("----------------------------------------------"),process.stdout.write("> Setting up config specific staging directory... "),await le.ensureDir(c),console.log("[ DONE ]");const O=new Dl(n,i,s);process.stdout.write("> Building CMake command line... ");const w=await O.buildCmakeCommandLine(),S=O.buildGeneratorCommandLine(c);console.log("[ DONE ]"),Bf!==void 0&&(console.log("====> configure: ",w),console.log("====> build:     ",S)),process.stdout.write("> Invoking CMake... "),await us(w,c,!1),console.log("[ DONE ]"),process.stdout.write(`> Invoking ${i.generatorBinary}... `),await us(S,c,!1),console.log("[ DONE ]"),process.stdout.write(`> Copying ${i.projectName}.node to target directory... `),await le.ensureDir(y);const d=Q.join(y,`${i.projectName}.node`),m=i.generatorToUse.includes("Visual Studio")?Q.join(c,i.buildType,`${i.projectName}.node`):Q.join(c,`${i.projectName}.node`);await le.copy(m,d),console.log("[ DONE ]"),console.log("Adding the built config to the manifest file...");const E=Q.join(i.targetDirectory,"manifest.json");let h={};if(await le.pathExists(E)){const v=await le.readFile(E,"utf-8");h=JSON.parse(v)}h[JSON.stringify(n)]=Q.relative(i.targetDirectory,d),await le.writeFile(E,JSON.stringify(h,null,2)),console.log("----------------- END CONFIG -----------------")}}Hf().catch(r=>{console.log("Generic error occured",r),process.exit(1)});
//# sourceMappingURL=main.js.map
