#!/usr/bin/env node
import ce,{join as le,sep as Ja,normalize as Qa,resolve as Ne,basename as mi,dirname as eu,extname as tu,relative as ru}from"path";import ye from"fs";import nu from"constants";import xe from"stream";import $t from"util";import tt from"assert";import rt,{tmpdir as iu}from"os";import*as Pa from"child_process";import Be from"events";import ba from"crypto";import su from"url";import ou from"http";import au from"https";import Na from"string_decoder";import uu from"buffer";import La from"zlib";import cu from"process";var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function be(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function lu(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var a=n.default;if(typeof a=="function"){var o=function l(){return this instanceof l?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};o.prototype=a.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(l){var i=Object.getOwnPropertyDescriptor(n,l);Object.defineProperty(o,l,i.get?i:{enumerable:!0,get:function(){return n[l]}})}),o}var Ht={},nt={},_i;function ve(){return _i||(_i=1,nt.fromCallback=function(n){return Object.defineProperty(function(...a){if(typeof a[a.length-1]=="function")n.apply(this,a);else return new Promise((o,l)=>{a.push((i,t)=>i!=null?l(i):o(t)),n.apply(this,a)})},"name",{value:n.name})},nt.fromPromise=function(n){return Object.defineProperty(function(...a){const o=a[a.length-1];if(typeof o!="function")return n.apply(this,a);a.pop(),n.apply(this,a).then(l=>o(null,l),o)},"name",{value:n.name})}),nt}var Ut,yi;function hu(){if(yi)return Ut;yi=1;var n=nu,a=process.cwd,o=null,l=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=a.call(process)),o};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var i=process.chdir;process.chdir=function(e){o=null,i.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,i)}Ut=t;function t(e){n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&r(e),e.lutimes||s(e),e.chown=y(e.chown),e.fchown=y(e.fchown),e.lchown=y(e.lchown),e.chmod=u(e.chmod),e.fchmod=u(e.fchmod),e.lchmod=u(e.lchmod),e.chownSync=f(e.chownSync),e.fchownSync=f(e.fchownSync),e.lchownSync=f(e.lchownSync),e.chmodSync=c(e.chmodSync),e.fchmodSync=c(e.fchmodSync),e.lchmodSync=c(e.lchmodSync),e.stat=O(e.stat),e.fstat=O(e.fstat),e.lstat=O(e.lstat),e.statSync=w(e.statSync),e.fstatSync=w(e.fstatSync),e.lstatSync=w(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(d,m,E){E&&process.nextTick(E)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(d,m,E,h){h&&process.nextTick(h)},e.lchownSync=function(){}),l==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(d){function m(E,h,v){var _=Date.now(),g=0;d(E,h,function p(T){if(T&&(T.code==="EACCES"||T.code==="EPERM"||T.code==="EBUSY")&&Date.now()-_<6e4){setTimeout(function(){e.stat(h,function(P,I){P&&P.code==="ENOENT"?d(E,h,p):v(T)})},g),g<100&&(g+=10);return}v&&v(T)})}return Object.setPrototypeOf&&Object.setPrototypeOf(m,d),m}(e.rename)),e.read=typeof e.read!="function"?e.read:function(d){function m(E,h,v,_,g,p){var T;if(p&&typeof p=="function"){var P=0;T=function(I,x,k){if(I&&I.code==="EAGAIN"&&P<10)return P++,d.call(e,E,h,v,_,g,T);p.apply(this,arguments)}}return d.call(e,E,h,v,_,g,T)}return Object.setPrototypeOf&&Object.setPrototypeOf(m,d),m}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(d){return function(m,E,h,v,_){for(var g=0;;)try{return d.call(e,m,E,h,v,_)}catch(p){if(p.code==="EAGAIN"&&g<10){g++;continue}throw p}}}(e.readSync);function r(d){d.lchmod=function(m,E,h){d.open(m,n.O_WRONLY|n.O_SYMLINK,E,function(v,_){if(v){h&&h(v);return}d.fchmod(_,E,function(g){d.close(_,function(p){h&&h(g||p)})})})},d.lchmodSync=function(m,E){var h=d.openSync(m,n.O_WRONLY|n.O_SYMLINK,E),v=!0,_;try{_=d.fchmodSync(h,E),v=!1}finally{if(v)try{d.closeSync(h)}catch{}else d.closeSync(h)}return _}}function s(d){n.hasOwnProperty("O_SYMLINK")&&d.futimes?(d.lutimes=function(m,E,h,v){d.open(m,n.O_SYMLINK,function(_,g){if(_){v&&v(_);return}d.futimes(g,E,h,function(p){d.close(g,function(T){v&&v(p||T)})})})},d.lutimesSync=function(m,E,h){var v=d.openSync(m,n.O_SYMLINK),_,g=!0;try{_=d.futimesSync(v,E,h),g=!1}finally{if(g)try{d.closeSync(v)}catch{}else d.closeSync(v)}return _}):d.futimes&&(d.lutimes=function(m,E,h,v){v&&process.nextTick(v)},d.lutimesSync=function(){})}function u(d){return d&&function(m,E,h){return d.call(e,m,E,function(v){S(v)&&(v=null),h&&h.apply(this,arguments)})}}function c(d){return d&&function(m,E){try{return d.call(e,m,E)}catch(h){if(!S(h))throw h}}}function y(d){return d&&function(m,E,h,v){return d.call(e,m,E,h,function(_){S(_)&&(_=null),v&&v.apply(this,arguments)})}}function f(d){return d&&function(m,E,h){try{return d.call(e,m,E,h)}catch(v){if(!S(v))throw v}}}function O(d){return d&&function(m,E,h){typeof E=="function"&&(h=E,E=null);function v(_,g){g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),h&&h.apply(this,arguments)}return E?d.call(e,m,E,v):d.call(e,m,v)}}function w(d){return d&&function(m,E){var h=E?d.call(e,m,E):d.call(e,m);return h&&(h.uid<0&&(h.uid+=4294967296),h.gid<0&&(h.gid+=4294967296)),h}}function S(d){if(!d||d.code==="ENOSYS")return!0;var m=!process.getuid||process.getuid()!==0;return!!(m&&(d.code==="EINVAL"||d.code==="EPERM"))}}return Ut}var jt,Ei;function fu(){if(Ei)return jt;Ei=1;var n=xe.Stream;jt=a;function a(o){return{ReadStream:l,WriteStream:i};function l(t,e){if(!(this instanceof l))return new l(t,e);n.call(this);var r=this;this.path=t,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,e=e||{};for(var s=Object.keys(e),u=0,c=s.length;u<c;u++){var y=s[u];this[y]=e[y]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){r._read()});return}o.open(this.path,this.flags,this.mode,function(f,O){if(f){r.emit("error",f),r.readable=!1;return}r.fd=O,r.emit("open",O),r._read()})}function i(t,e){if(!(this instanceof i))return new i(t,e);n.call(this),this.path=t,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,e=e||{};for(var r=Object.keys(e),s=0,u=r.length;s<u;s++){var c=r[s];this[c]=e[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=o.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return jt}var Gt,gi;function du(){if(gi)return Gt;gi=1,Gt=a;var n=Object.getPrototypeOf||function(o){return o.__proto__};function a(o){if(o===null||typeof o!="object")return o;if(o instanceof Object)var l={__proto__:n(o)};else var l=Object.create(null);return Object.getOwnPropertyNames(o).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(o,i))}),l}return Gt}var it,vi;function ge(){if(vi)return it;vi=1;var n=ye,a=hu(),o=fu(),l=du(),i=$t,t,e;typeof Symbol=="function"&&typeof Symbol.for=="function"?(t=Symbol.for("graceful-fs.queue"),e=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",e="___graceful-fs.previous");function r(){}function s(d,m){Object.defineProperty(d,t,{get:function(){return m}})}var u=r;if(i.debuglog?u=i.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(u=function(){var d=i.format.apply(i,arguments);d="GFS4: "+d.split(/\n/).join(`
GFS4: `),console.error(d)}),!n[t]){var c=Ie[t]||[];s(n,c),n.close=function(d){function m(E,h){return d.call(n,E,function(v){v||w(),typeof h=="function"&&h.apply(this,arguments)})}return Object.defineProperty(m,e,{value:d}),m}(n.close),n.closeSync=function(d){function m(E){d.apply(n,arguments),w()}return Object.defineProperty(m,e,{value:d}),m}(n.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){u(n[t]),tt.equal(n[t].length,0)})}Ie[t]||s(Ie,n[t]),it=y(l(n)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!n.__patched&&(it=y(n),n.__patched=!0);function y(d){a(d),d.gracefulify=y,d.createReadStream=R,d.createWriteStream=b;var m=d.readFile;d.readFile=E;function E(M,L,U){return typeof L=="function"&&(U=L,L=null),j(M,L,U);function j(F,q,Y,J){return m(F,q,function(re){re&&(re.code==="EMFILE"||re.code==="ENFILE")?f([j,[F,q,Y],re,J||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var h=d.writeFile;d.writeFile=v;function v(M,L,U,j){return typeof U=="function"&&(j=U,U=null),F(M,L,U,j);function F(q,Y,J,re,se){return h(q,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?f([F,[q,Y,J,re],Z,se||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var _=d.appendFile;_&&(d.appendFile=g);function g(M,L,U,j){return typeof U=="function"&&(j=U,U=null),F(M,L,U,j);function F(q,Y,J,re,se){return _(q,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?f([F,[q,Y,J,re],Z,se||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var p=d.copyFile;p&&(d.copyFile=T);function T(M,L,U,j){return typeof U=="function"&&(j=U,U=0),F(M,L,U,j);function F(q,Y,J,re,se){return p(q,Y,J,function(Z){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?f([F,[q,Y,J,re],Z,se||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}var P=d.readdir;d.readdir=x;var I=/^v[0-5]\./;function x(M,L,U){typeof L=="function"&&(U=L,L=null);var j=I.test(process.version)?function(Y,J,re,se){return P(Y,F(Y,J,re,se))}:function(Y,J,re,se){return P(Y,J,F(Y,J,re,se))};return j(M,L,U);function F(q,Y,J,re){return function(se,Z){se&&(se.code==="EMFILE"||se.code==="ENFILE")?f([j,[q,Y,J],se,re||Date.now(),Date.now()]):(Z&&Z.sort&&Z.sort(),typeof J=="function"&&J.call(this,se,Z))}}}if(process.version.substr(0,4)==="v0.8"){var k=o(d);B=k.ReadStream,V=k.WriteStream}var N=d.ReadStream;N&&(B.prototype=Object.create(N.prototype),B.prototype.open=G);var $=d.WriteStream;$&&(V.prototype=Object.create($.prototype),V.prototype.open=H),Object.defineProperty(d,"ReadStream",{get:function(){return B},set:function(M){B=M},enumerable:!0,configurable:!0}),Object.defineProperty(d,"WriteStream",{get:function(){return V},set:function(M){V=M},enumerable:!0,configurable:!0});var C=B;Object.defineProperty(d,"FileReadStream",{get:function(){return C},set:function(M){C=M},enumerable:!0,configurable:!0});var D=V;Object.defineProperty(d,"FileWriteStream",{get:function(){return D},set:function(M){D=M},enumerable:!0,configurable:!0});function B(M,L){return this instanceof B?(N.apply(this,arguments),this):B.apply(Object.create(B.prototype),arguments)}function G(){var M=this;ee(M.path,M.flags,M.mode,function(L,U){L?(M.autoClose&&M.destroy(),M.emit("error",L)):(M.fd=U,M.emit("open",U),M.read())})}function V(M,L){return this instanceof V?($.apply(this,arguments),this):V.apply(Object.create(V.prototype),arguments)}function H(){var M=this;ee(M.path,M.flags,M.mode,function(L,U){L?(M.destroy(),M.emit("error",L)):(M.fd=U,M.emit("open",U))})}function R(M,L){return new d.ReadStream(M,L)}function b(M,L){return new d.WriteStream(M,L)}var z=d.open;d.open=ee;function ee(M,L,U,j){return typeof U=="function"&&(j=U,U=null),F(M,L,U,j);function F(q,Y,J,re,se){return z(q,Y,J,function(Z,A){Z&&(Z.code==="EMFILE"||Z.code==="ENFILE")?f([F,[q,Y,J,re],Z,se||Date.now(),Date.now()]):typeof re=="function"&&re.apply(this,arguments)})}}return d}function f(d){u("ENQUEUE",d[0].name,d[1]),n[t].push(d),S()}var O;function w(){for(var d=Date.now(),m=0;m<n[t].length;++m)n[t][m].length>2&&(n[t][m][3]=d,n[t][m][4]=d);S()}function S(){if(clearTimeout(O),O=void 0,n[t].length!==0){var d=n[t].shift(),m=d[0],E=d[1],h=d[2],v=d[3],_=d[4];if(v===void 0)u("RETRY",m.name,E),m.apply(null,E);else if(Date.now()-v>=6e4){u("TIMEOUT",m.name,E);var g=E.pop();typeof g=="function"&&g.call(null,h)}else{var p=Date.now()-_,T=Math.max(_-v,1),P=Math.min(T*1.2,100);p>=P?(u("RETRY",m.name,E),m.apply(null,E.concat([v]))):n[t].push(d)}O===void 0&&(O=setTimeout(S,0))}}return it}var Si;function He(){return Si||(Si=1,function(n){const a=ve().fromCallback,o=ge(),l=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof o[i]=="function");Object.assign(n,o),l.forEach(i=>{n[i]=a(o[i])}),n.exists=function(i,t){return typeof t=="function"?o.exists(i,t):new Promise(e=>o.exists(i,e))},n.read=function(i,t,e,r,s,u){return typeof u=="function"?o.read(i,t,e,r,s,u):new Promise((c,y)=>{o.read(i,t,e,r,s,(f,O,w)=>{if(f)return y(f);c({bytesRead:O,buffer:w})})})},n.write=function(i,t,...e){return typeof e[e.length-1]=="function"?o.write(i,t,...e):new Promise((r,s)=>{o.write(i,t,...e,(u,c,y)=>{if(u)return s(u);r({bytesWritten:c,buffer:y})})})},typeof o.writev=="function"&&(n.writev=function(i,t,...e){return typeof e[e.length-1]=="function"?o.writev(i,t,...e):new Promise((r,s)=>{o.writev(i,t,...e,(u,c,y)=>{if(u)return s(u);r({bytesWritten:c,buffers:y})})})}),typeof o.realpath.native=="function"?n.realpath.native=a(o.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(Ht)),Ht}var st={},Wt={},Ri;function pu(){if(Ri)return Wt;Ri=1;const n=ce;return Wt.checkPath=function(o){if(process.platform==="win32"&&/[<>:"|?*]/.test(o.replace(n.parse(o).root,""))){const i=new Error(`Path contains invalid characters: ${o}`);throw i.code="EINVAL",i}},Wt}var wi;function mu(){if(wi)return st;wi=1;const n=He(),{checkPath:a}=pu(),o=l=>{const i={mode:511};return typeof l=="number"?l:{...i,...l}.mode};return st.makeDir=async(l,i)=>(a(l),n.mkdir(l,{mode:o(i),recursive:!0})),st.makeDirSync=(l,i)=>(a(l),n.mkdirSync(l,{mode:o(i),recursive:!0})),st}var Vt,Oi;function we(){if(Oi)return Vt;Oi=1;const n=ve().fromPromise,{makeDir:a,makeDirSync:o}=mu(),l=n(a);return Vt={mkdirs:l,mkdirsSync:o,mkdirp:l,mkdirpSync:o,ensureDir:l,ensureDirSync:o},Vt}var zt,Ai;function Fe(){if(Ai)return zt;Ai=1;const n=ve().fromPromise,a=He();function o(l){return a.access(l).then(()=>!0).catch(()=>!1)}return zt={pathExists:n(o),pathExistsSync:a.existsSync},zt}var Yt,Ti;function Ia(){if(Ti)return Yt;Ti=1;const n=ge();function a(l,i,t,e){n.open(l,"r+",(r,s)=>{if(r)return e(r);n.futimes(s,i,t,u=>{n.close(s,c=>{e&&e(u||c)})})})}function o(l,i,t){const e=n.openSync(l,"r+");return n.futimesSync(e,i,t),n.closeSync(e)}return Yt={utimesMillis:a,utimesMillisSync:o},Yt}var Kt,Pi;function Ue(){if(Pi)return Kt;Pi=1;const n=He(),a=ce,o=$t;function l(f,O,w){const S=w.dereference?d=>n.stat(d,{bigint:!0}):d=>n.lstat(d,{bigint:!0});return Promise.all([S(f),S(O).catch(d=>{if(d.code==="ENOENT")return null;throw d})]).then(([d,m])=>({srcStat:d,destStat:m}))}function i(f,O,w){let S;const d=w.dereference?E=>n.statSync(E,{bigint:!0}):E=>n.lstatSync(E,{bigint:!0}),m=d(f);try{S=d(O)}catch(E){if(E.code==="ENOENT")return{srcStat:m,destStat:null};throw E}return{srcStat:m,destStat:S}}function t(f,O,w,S,d){o.callbackify(l)(f,O,S,(m,E)=>{if(m)return d(m);const{srcStat:h,destStat:v}=E;if(v){if(u(h,v)){const _=a.basename(f),g=a.basename(O);return w==="move"&&_!==g&&_.toLowerCase()===g.toLowerCase()?d(null,{srcStat:h,destStat:v,isChangingCase:!0}):d(new Error("Source and destination must not be the same."))}if(h.isDirectory()&&!v.isDirectory())return d(new Error(`Cannot overwrite non-directory '${O}' with directory '${f}'.`));if(!h.isDirectory()&&v.isDirectory())return d(new Error(`Cannot overwrite directory '${O}' with non-directory '${f}'.`))}return h.isDirectory()&&c(f,O)?d(new Error(y(f,O,w))):d(null,{srcStat:h,destStat:v})})}function e(f,O,w,S){const{srcStat:d,destStat:m}=i(f,O,S);if(m){if(u(d,m)){const E=a.basename(f),h=a.basename(O);if(w==="move"&&E!==h&&E.toLowerCase()===h.toLowerCase())return{srcStat:d,destStat:m,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(d.isDirectory()&&!m.isDirectory())throw new Error(`Cannot overwrite non-directory '${O}' with directory '${f}'.`);if(!d.isDirectory()&&m.isDirectory())throw new Error(`Cannot overwrite directory '${O}' with non-directory '${f}'.`)}if(d.isDirectory()&&c(f,O))throw new Error(y(f,O,w));return{srcStat:d,destStat:m}}function r(f,O,w,S,d){const m=a.resolve(a.dirname(f)),E=a.resolve(a.dirname(w));if(E===m||E===a.parse(E).root)return d();n.stat(E,{bigint:!0},(h,v)=>h?h.code==="ENOENT"?d():d(h):u(O,v)?d(new Error(y(f,w,S))):r(f,O,E,S,d))}function s(f,O,w,S){const d=a.resolve(a.dirname(f)),m=a.resolve(a.dirname(w));if(m===d||m===a.parse(m).root)return;let E;try{E=n.statSync(m,{bigint:!0})}catch(h){if(h.code==="ENOENT")return;throw h}if(u(O,E))throw new Error(y(f,w,S));return s(f,O,m,S)}function u(f,O){return O.ino&&O.dev&&O.ino===f.ino&&O.dev===f.dev}function c(f,O){const w=a.resolve(f).split(a.sep).filter(d=>d),S=a.resolve(O).split(a.sep).filter(d=>d);return w.reduce((d,m,E)=>d&&S[E]===m,!0)}function y(f,O,w){return`Cannot ${w} '${f}' to a subdirectory of itself, '${O}'.`}return Kt={checkPaths:t,checkPathsSync:e,checkParentPaths:r,checkParentPathsSync:s,isSrcSubdir:c,areIdentical:u},Kt}var Xt,bi;function _u(){if(bi)return Xt;bi=1;const n=ge(),a=ce,o=we().mkdirs,l=Fe().pathExists,i=Ia().utimesMillis,t=Ue();function e(x,k,N,$){typeof N=="function"&&!$?($=N,N={}):typeof N=="function"&&(N={filter:N}),$=$||function(){},N=N||{},N.clobber="clobber"in N?!!N.clobber:!0,N.overwrite="overwrite"in N?!!N.overwrite:N.clobber,N.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),t.checkPaths(x,k,"copy",N,(C,D)=>{if(C)return $(C);const{srcStat:B,destStat:G}=D;t.checkParentPaths(x,B,k,"copy",V=>V?$(V):N.filter?s(r,G,x,k,N,$):r(G,x,k,N,$))})}function r(x,k,N,$,C){const D=a.dirname(N);l(D,(B,G)=>{if(B)return C(B);if(G)return c(x,k,N,$,C);o(D,V=>V?C(V):c(x,k,N,$,C))})}function s(x,k,N,$,C,D){Promise.resolve(C.filter(N,$)).then(B=>B?x(k,N,$,C,D):D(),B=>D(B))}function u(x,k,N,$,C){return $.filter?s(c,x,k,N,$,C):c(x,k,N,$,C)}function c(x,k,N,$,C){($.dereference?n.stat:n.lstat)(k,(B,G)=>B?C(B):G.isDirectory()?v(G,x,k,N,$,C):G.isFile()||G.isCharacterDevice()||G.isBlockDevice()?y(G,x,k,N,$,C):G.isSymbolicLink()?P(x,k,N,$,C):G.isSocket()?C(new Error(`Cannot copy a socket file: ${k}`)):G.isFIFO()?C(new Error(`Cannot copy a FIFO pipe: ${k}`)):C(new Error(`Unknown file: ${k}`)))}function y(x,k,N,$,C,D){return k?f(x,N,$,C,D):O(x,N,$,C,D)}function f(x,k,N,$,C){if($.overwrite)n.unlink(N,D=>D?C(D):O(x,k,N,$,C));else return $.errorOnExist?C(new Error(`'${N}' already exists`)):C()}function O(x,k,N,$,C){n.copyFile(k,N,D=>D?C(D):$.preserveTimestamps?w(x.mode,k,N,C):E(N,x.mode,C))}function w(x,k,N,$){return S(x)?d(N,x,C=>C?$(C):m(x,k,N,$)):m(x,k,N,$)}function S(x){return(x&128)===0}function d(x,k,N){return E(x,k|128,N)}function m(x,k,N,$){h(k,N,C=>C?$(C):E(N,x,$))}function E(x,k,N){return n.chmod(x,k,N)}function h(x,k,N){n.stat(x,($,C)=>$?N($):i(k,C.atime,C.mtime,N))}function v(x,k,N,$,C,D){return k?g(N,$,C,D):_(x.mode,N,$,C,D)}function _(x,k,N,$,C){n.mkdir(N,D=>{if(D)return C(D);g(k,N,$,B=>B?C(B):E(N,x,C))})}function g(x,k,N,$){n.readdir(x,(C,D)=>C?$(C):p(D,x,k,N,$))}function p(x,k,N,$,C){const D=x.pop();return D?T(x,D,k,N,$,C):C()}function T(x,k,N,$,C,D){const B=a.join(N,k),G=a.join($,k);t.checkPaths(B,G,"copy",C,(V,H)=>{if(V)return D(V);const{destStat:R}=H;u(R,B,G,C,b=>b?D(b):p(x,N,$,C,D))})}function P(x,k,N,$,C){n.readlink(k,(D,B)=>{if(D)return C(D);if($.dereference&&(B=a.resolve(process.cwd(),B)),x)n.readlink(N,(G,V)=>G?G.code==="EINVAL"||G.code==="UNKNOWN"?n.symlink(B,N,C):C(G):($.dereference&&(V=a.resolve(process.cwd(),V)),t.isSrcSubdir(B,V)?C(new Error(`Cannot copy '${B}' to a subdirectory of itself, '${V}'.`)):x.isDirectory()&&t.isSrcSubdir(V,B)?C(new Error(`Cannot overwrite '${V}' with '${B}'.`)):I(B,N,C)));else return n.symlink(B,N,C)})}function I(x,k,N){n.unlink(k,$=>$?N($):n.symlink(x,k,N))}return Xt=e,Xt}var Zt,Ni;function yu(){if(Ni)return Zt;Ni=1;const n=ge(),a=ce,o=we().mkdirsSync,l=Ia().utimesMillisSync,i=Ue();function t(p,T,P){typeof P=="function"&&(P={filter:P}),P=P||{},P.clobber="clobber"in P?!!P.clobber:!0,P.overwrite="overwrite"in P?!!P.overwrite:P.clobber,P.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:I,destStat:x}=i.checkPathsSync(p,T,"copy",P);return i.checkParentPathsSync(p,I,T,"copy"),e(x,p,T,P)}function e(p,T,P,I){if(I.filter&&!I.filter(T,P))return;const x=a.dirname(P);return n.existsSync(x)||o(x),s(p,T,P,I)}function r(p,T,P,I){if(!(I.filter&&!I.filter(T,P)))return s(p,T,P,I)}function s(p,T,P,I){const k=(I.dereference?n.statSync:n.lstatSync)(T);if(k.isDirectory())return m(k,p,T,P,I);if(k.isFile()||k.isCharacterDevice()||k.isBlockDevice())return u(k,p,T,P,I);if(k.isSymbolicLink())return _(p,T,P,I);throw k.isSocket()?new Error(`Cannot copy a socket file: ${T}`):k.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${T}`):new Error(`Unknown file: ${T}`)}function u(p,T,P,I,x){return T?c(p,P,I,x):y(p,P,I,x)}function c(p,T,P,I){if(I.overwrite)return n.unlinkSync(P),y(p,T,P,I);if(I.errorOnExist)throw new Error(`'${P}' already exists`)}function y(p,T,P,I){return n.copyFileSync(T,P),I.preserveTimestamps&&f(p.mode,T,P),S(P,p.mode)}function f(p,T,P){return O(p)&&w(P,p),d(T,P)}function O(p){return(p&128)===0}function w(p,T){return S(p,T|128)}function S(p,T){return n.chmodSync(p,T)}function d(p,T){const P=n.statSync(p);return l(T,P.atime,P.mtime)}function m(p,T,P,I,x){return T?h(P,I,x):E(p.mode,P,I,x)}function E(p,T,P,I){return n.mkdirSync(P),h(T,P,I),S(P,p)}function h(p,T,P){n.readdirSync(p).forEach(I=>v(I,p,T,P))}function v(p,T,P,I){const x=a.join(T,p),k=a.join(P,p),{destStat:N}=i.checkPathsSync(x,k,"copy",I);return r(N,x,k,I)}function _(p,T,P,I){let x=n.readlinkSync(T);if(I.dereference&&(x=a.resolve(process.cwd(),x)),p){let k;try{k=n.readlinkSync(P)}catch(N){if(N.code==="EINVAL"||N.code==="UNKNOWN")return n.symlinkSync(x,P);throw N}if(I.dereference&&(k=a.resolve(process.cwd(),k)),i.isSrcSubdir(x,k))throw new Error(`Cannot copy '${x}' to a subdirectory of itself, '${k}'.`);if(n.statSync(P).isDirectory()&&i.isSrcSubdir(k,x))throw new Error(`Cannot overwrite '${k}' with '${x}'.`);return g(x,P)}else return n.symlinkSync(x,P)}function g(p,T){return n.unlinkSync(T),n.symlinkSync(p,T)}return Zt=t,Zt}var Jt,Li;function Jn(){if(Li)return Jt;Li=1;const n=ve().fromCallback;return Jt={copy:n(_u()),copySync:yu()},Jt}var Qt,Ii;function Eu(){if(Ii)return Qt;Ii=1;const n=ge(),a=ce,o=tt,l=process.platform==="win32";function i(w){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(d=>{w[d]=w[d]||n[d],d=d+"Sync",w[d]=w[d]||n[d]}),w.maxBusyTries=w.maxBusyTries||3}function t(w,S,d){let m=0;typeof S=="function"&&(d=S,S={}),o(w,"rimraf: missing path"),o.strictEqual(typeof w,"string","rimraf: path should be a string"),o.strictEqual(typeof d,"function","rimraf: callback function required"),o(S,"rimraf: invalid options argument provided"),o.strictEqual(typeof S,"object","rimraf: options should be object"),i(S),e(w,S,function E(h){if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&m<S.maxBusyTries){m++;const v=m*100;return setTimeout(()=>e(w,S,E),v)}h.code==="ENOENT"&&(h=null)}d(h)})}function e(w,S,d){o(w),o(S),o(typeof d=="function"),S.lstat(w,(m,E)=>{if(m&&m.code==="ENOENT")return d(null);if(m&&m.code==="EPERM"&&l)return r(w,S,m,d);if(E&&E.isDirectory())return u(w,S,m,d);S.unlink(w,h=>{if(h){if(h.code==="ENOENT")return d(null);if(h.code==="EPERM")return l?r(w,S,h,d):u(w,S,h,d);if(h.code==="EISDIR")return u(w,S,h,d)}return d(h)})})}function r(w,S,d,m){o(w),o(S),o(typeof m=="function"),S.chmod(w,438,E=>{E?m(E.code==="ENOENT"?null:d):S.stat(w,(h,v)=>{h?m(h.code==="ENOENT"?null:d):v.isDirectory()?u(w,S,d,m):S.unlink(w,m)})})}function s(w,S,d){let m;o(w),o(S);try{S.chmodSync(w,438)}catch(E){if(E.code==="ENOENT")return;throw d}try{m=S.statSync(w)}catch(E){if(E.code==="ENOENT")return;throw d}m.isDirectory()?f(w,S,d):S.unlinkSync(w)}function u(w,S,d,m){o(w),o(S),o(typeof m=="function"),S.rmdir(w,E=>{E&&(E.code==="ENOTEMPTY"||E.code==="EEXIST"||E.code==="EPERM")?c(w,S,m):E&&E.code==="ENOTDIR"?m(d):m(E)})}function c(w,S,d){o(w),o(S),o(typeof d=="function"),S.readdir(w,(m,E)=>{if(m)return d(m);let h=E.length,v;if(h===0)return S.rmdir(w,d);E.forEach(_=>{t(a.join(w,_),S,g=>{if(!v){if(g)return d(v=g);--h===0&&S.rmdir(w,d)}})})})}function y(w,S){let d;S=S||{},i(S),o(w,"rimraf: missing path"),o.strictEqual(typeof w,"string","rimraf: path should be a string"),o(S,"rimraf: missing options"),o.strictEqual(typeof S,"object","rimraf: options should be object");try{d=S.lstatSync(w)}catch(m){if(m.code==="ENOENT")return;m.code==="EPERM"&&l&&s(w,S,m)}try{d&&d.isDirectory()?f(w,S,null):S.unlinkSync(w)}catch(m){if(m.code==="ENOENT")return;if(m.code==="EPERM")return l?s(w,S,m):f(w,S,m);if(m.code!=="EISDIR")throw m;f(w,S,m)}}function f(w,S,d){o(w),o(S);try{S.rmdirSync(w)}catch(m){if(m.code==="ENOTDIR")throw d;if(m.code==="ENOTEMPTY"||m.code==="EEXIST"||m.code==="EPERM")O(w,S);else if(m.code!=="ENOENT")throw m}}function O(w,S){if(o(w),o(S),S.readdirSync(w).forEach(d=>y(a.join(w,d),S)),l){const d=Date.now();do try{return S.rmdirSync(w,S)}catch{}while(Date.now()-d<500)}else return S.rmdirSync(w,S)}return Qt=t,t.sync=y,Qt}var er,Di;function xt(){if(Di)return er;Di=1;const n=ge(),a=ve().fromCallback,o=Eu();function l(t,e){if(n.rm)return n.rm(t,{recursive:!0,force:!0},e);o(t,e)}function i(t){if(n.rmSync)return n.rmSync(t,{recursive:!0,force:!0});o.sync(t)}return er={remove:a(l),removeSync:i},er}var tr,Ci;function gu(){if(Ci)return tr;Ci=1;const n=ve().fromPromise,a=He(),o=ce,l=we(),i=xt(),t=n(async function(s){let u;try{u=await a.readdir(s)}catch{return l.mkdirs(s)}return Promise.all(u.map(c=>i.remove(o.join(s,c))))});function e(r){let s;try{s=a.readdirSync(r)}catch{return l.mkdirsSync(r)}s.forEach(u=>{u=o.join(r,u),i.removeSync(u)})}return tr={emptyDirSync:e,emptydirSync:e,emptyDir:t,emptydir:t},tr}var rr,$i;function vu(){if($i)return rr;$i=1;const n=ve().fromCallback,a=ce,o=ge(),l=we();function i(e,r){function s(){o.writeFile(e,"",u=>{if(u)return r(u);r()})}o.stat(e,(u,c)=>{if(!u&&c.isFile())return r();const y=a.dirname(e);o.stat(y,(f,O)=>{if(f)return f.code==="ENOENT"?l.mkdirs(y,w=>{if(w)return r(w);s()}):r(f);O.isDirectory()?s():o.readdir(y,w=>{if(w)return r(w)})})})}function t(e){let r;try{r=o.statSync(e)}catch{}if(r&&r.isFile())return;const s=a.dirname(e);try{o.statSync(s).isDirectory()||o.readdirSync(s)}catch(u){if(u&&u.code==="ENOENT")l.mkdirsSync(s);else throw u}o.writeFileSync(e,"")}return rr={createFile:n(i),createFileSync:t},rr}var nr,xi;function Su(){if(xi)return nr;xi=1;const n=ve().fromCallback,a=ce,o=ge(),l=we(),i=Fe().pathExists,{areIdentical:t}=Ue();function e(s,u,c){function y(f,O){o.link(f,O,w=>{if(w)return c(w);c(null)})}o.lstat(u,(f,O)=>{o.lstat(s,(w,S)=>{if(w)return w.message=w.message.replace("lstat","ensureLink"),c(w);if(O&&t(S,O))return c(null);const d=a.dirname(u);i(d,(m,E)=>{if(m)return c(m);if(E)return y(s,u);l.mkdirs(d,h=>{if(h)return c(h);y(s,u)})})})})}function r(s,u){let c;try{c=o.lstatSync(u)}catch{}try{const O=o.lstatSync(s);if(c&&t(O,c))return}catch(O){throw O.message=O.message.replace("lstat","ensureLink"),O}const y=a.dirname(u);return o.existsSync(y)||l.mkdirsSync(y),o.linkSync(s,u)}return nr={createLink:n(e),createLinkSync:r},nr}var ir,Fi;function Ru(){if(Fi)return ir;Fi=1;const n=ce,a=ge(),o=Fe().pathExists;function l(t,e,r){if(n.isAbsolute(t))return a.lstat(t,s=>s?(s.message=s.message.replace("lstat","ensureSymlink"),r(s)):r(null,{toCwd:t,toDst:t}));{const s=n.dirname(e),u=n.join(s,t);return o(u,(c,y)=>c?r(c):y?r(null,{toCwd:u,toDst:t}):a.lstat(t,f=>f?(f.message=f.message.replace("lstat","ensureSymlink"),r(f)):r(null,{toCwd:t,toDst:n.relative(s,t)})))}}function i(t,e){let r;if(n.isAbsolute(t)){if(r=a.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{const s=n.dirname(e),u=n.join(s,t);if(r=a.existsSync(u),r)return{toCwd:u,toDst:t};if(r=a.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:n.relative(s,t)}}}return ir={symlinkPaths:l,symlinkPathsSync:i},ir}var sr,ki;function wu(){if(ki)return sr;ki=1;const n=ge();function a(l,i,t){if(t=typeof i=="function"?i:t,i=typeof i=="function"?!1:i,i)return t(null,i);n.lstat(l,(e,r)=>{if(e)return t(null,"file");i=r&&r.isDirectory()?"dir":"file",t(null,i)})}function o(l,i){let t;if(i)return i;try{t=n.lstatSync(l)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}return sr={symlinkType:a,symlinkTypeSync:o},sr}var or,Mi;function Ou(){if(Mi)return or;Mi=1;const n=ve().fromCallback,a=ce,o=He(),l=we(),i=l.mkdirs,t=l.mkdirsSync,e=Ru(),r=e.symlinkPaths,s=e.symlinkPathsSync,u=wu(),c=u.symlinkType,y=u.symlinkTypeSync,f=Fe().pathExists,{areIdentical:O}=Ue();function w(m,E,h,v){v=typeof h=="function"?h:v,h=typeof h=="function"?!1:h,o.lstat(E,(_,g)=>{!_&&g.isSymbolicLink()?Promise.all([o.stat(m),o.stat(E)]).then(([p,T])=>{if(O(p,T))return v(null);S(m,E,h,v)}):S(m,E,h,v)})}function S(m,E,h,v){r(m,E,(_,g)=>{if(_)return v(_);m=g.toDst,c(g.toCwd,h,(p,T)=>{if(p)return v(p);const P=a.dirname(E);f(P,(I,x)=>{if(I)return v(I);if(x)return o.symlink(m,E,T,v);i(P,k=>{if(k)return v(k);o.symlink(m,E,T,v)})})})})}function d(m,E,h){let v;try{v=o.lstatSync(E)}catch{}if(v&&v.isSymbolicLink()){const T=o.statSync(m),P=o.statSync(E);if(O(T,P))return}const _=s(m,E);m=_.toDst,h=y(_.toCwd,h);const g=a.dirname(E);return o.existsSync(g)||t(g),o.symlinkSync(m,E,h)}return or={createSymlink:n(w),createSymlinkSync:d},or}var ar,qi;function Au(){if(qi)return ar;qi=1;const{createFile:n,createFileSync:a}=vu(),{createLink:o,createLinkSync:l}=Su(),{createSymlink:i,createSymlinkSync:t}=Ou();return ar={createFile:n,createFileSync:a,ensureFile:n,ensureFileSync:a,createLink:o,createLinkSync:l,ensureLink:o,ensureLinkSync:l,createSymlink:i,createSymlinkSync:t,ensureSymlink:i,ensureSymlinkSync:t},ar}var ur,Bi;function Qn(){if(Bi)return ur;Bi=1;function n(o,{EOL:l=`
`,finalEOL:i=!0,replacer:t=null,spaces:e}={}){const r=i?l:"";return JSON.stringify(o,t,e).replace(/\n/g,l)+r}function a(o){return Buffer.isBuffer(o)&&(o=o.toString("utf8")),o.replace(/^\uFEFF/,"")}return ur={stringify:n,stripBom:a},ur}var cr,Hi;function Tu(){if(Hi)return cr;Hi=1;let n;try{n=ge()}catch{n=ye}const a=ve(),{stringify:o,stripBom:l}=Qn();async function i(y,f={}){typeof f=="string"&&(f={encoding:f});const O=f.fs||n,w="throws"in f?f.throws:!0;let S=await a.fromCallback(O.readFile)(y,f);S=l(S);let d;try{d=JSON.parse(S,f?f.reviver:null)}catch(m){if(w)throw m.message=`${y}: ${m.message}`,m;return null}return d}const t=a.fromPromise(i);function e(y,f={}){typeof f=="string"&&(f={encoding:f});const O=f.fs||n,w="throws"in f?f.throws:!0;try{let S=O.readFileSync(y,f);return S=l(S),JSON.parse(S,f.reviver)}catch(S){if(w)throw S.message=`${y}: ${S.message}`,S;return null}}async function r(y,f,O={}){const w=O.fs||n,S=o(f,O);await a.fromCallback(w.writeFile)(y,S,O)}const s=a.fromPromise(r);function u(y,f,O={}){const w=O.fs||n,S=o(f,O);return w.writeFileSync(y,S,O)}return cr={readFile:t,readFileSync:e,writeFile:s,writeFileSync:u},cr}var lr,Ui;function Pu(){if(Ui)return lr;Ui=1;const n=Tu();return lr={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync},lr}var hr,ji;function ei(){if(ji)return hr;ji=1;const n=ve().fromCallback,a=ge(),o=ce,l=we(),i=Fe().pathExists;function t(r,s,u,c){typeof u=="function"&&(c=u,u="utf8");const y=o.dirname(r);i(y,(f,O)=>{if(f)return c(f);if(O)return a.writeFile(r,s,u,c);l.mkdirs(y,w=>{if(w)return c(w);a.writeFile(r,s,u,c)})})}function e(r,...s){const u=o.dirname(r);if(a.existsSync(u))return a.writeFileSync(r,...s);l.mkdirsSync(u),a.writeFileSync(r,...s)}return hr={outputFile:n(t),outputFileSync:e},hr}var fr,Gi;function bu(){if(Gi)return fr;Gi=1;const{stringify:n}=Qn(),{outputFile:a}=ei();async function o(l,i,t={}){const e=n(i,t);await a(l,e,t)}return fr=o,fr}var dr,Wi;function Nu(){if(Wi)return dr;Wi=1;const{stringify:n}=Qn(),{outputFileSync:a}=ei();function o(l,i,t){const e=n(i,t);a(l,e,t)}return dr=o,dr}var pr,Vi;function Lu(){if(Vi)return pr;Vi=1;const n=ve().fromPromise,a=Pu();return a.outputJson=n(bu()),a.outputJsonSync=Nu(),a.outputJSON=a.outputJson,a.outputJSONSync=a.outputJsonSync,a.writeJSON=a.writeJson,a.writeJSONSync=a.writeJsonSync,a.readJSON=a.readJson,a.readJSONSync=a.readJsonSync,pr=a,pr}var mr,zi;function Iu(){if(zi)return mr;zi=1;const n=ge(),a=ce,o=Jn().copy,l=xt().remove,i=we().mkdirp,t=Fe().pathExists,e=Ue();function r(f,O,w,S){typeof w=="function"&&(S=w,w={}),w=w||{};const d=w.overwrite||w.clobber||!1;e.checkPaths(f,O,"move",w,(m,E)=>{if(m)return S(m);const{srcStat:h,isChangingCase:v=!1}=E;e.checkParentPaths(f,h,O,"move",_=>{if(_)return S(_);if(s(O))return u(f,O,d,v,S);i(a.dirname(O),g=>g?S(g):u(f,O,d,v,S))})})}function s(f){const O=a.dirname(f);return a.parse(O).root===O}function u(f,O,w,S,d){if(S)return c(f,O,w,d);if(w)return l(O,m=>m?d(m):c(f,O,w,d));t(O,(m,E)=>m?d(m):E?d(new Error("dest already exists.")):c(f,O,w,d))}function c(f,O,w,S){n.rename(f,O,d=>d?d.code!=="EXDEV"?S(d):y(f,O,w,S):S())}function y(f,O,w,S){o(f,O,{overwrite:w,errorOnExist:!0},m=>m?S(m):l(f,S))}return mr=r,mr}var _r,Yi;function Du(){if(Yi)return _r;Yi=1;const n=ge(),a=ce,o=Jn().copySync,l=xt().removeSync,i=we().mkdirpSync,t=Ue();function e(y,f,O){O=O||{};const w=O.overwrite||O.clobber||!1,{srcStat:S,isChangingCase:d=!1}=t.checkPathsSync(y,f,"move",O);return t.checkParentPathsSync(y,S,f,"move"),r(f)||i(a.dirname(f)),s(y,f,w,d)}function r(y){const f=a.dirname(y);return a.parse(f).root===f}function s(y,f,O,w){if(w)return u(y,f,O);if(O)return l(f),u(y,f,O);if(n.existsSync(f))throw new Error("dest already exists.");return u(y,f,O)}function u(y,f,O){try{n.renameSync(y,f)}catch(w){if(w.code!=="EXDEV")throw w;return c(y,f,O)}}function c(y,f,O){return o(y,f,{overwrite:O,errorOnExist:!0}),l(y)}return _r=e,_r}var yr,Ki;function Cu(){if(Ki)return yr;Ki=1;const n=ve().fromCallback;return yr={move:n(Iu()),moveSync:Du()},yr}var Er,Xi;function $u(){return Xi||(Xi=1,Er={...He(),...Jn(),...gu(),...Au(),...Lu(),...we(),...Cu(),...ei(),...Fe(),...xt()}),Er}var he=$u(),gr,Zi;function xu(){if(Zi)return gr;Zi=1;var n=rt;return gr=n.homedir||function(){var o=process.env.HOME,l=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||o||null:process.platform==="darwin"?o||(l?"/Users/"+l:null):process.platform==="linux"?o||(process.getuid()===0?"/root":l?"/home/"+l:null):o||null},gr}var vr,Ji;function Fu(){return Ji||(Ji=1,vr=function(){var n=Error.prepareStackTrace;Error.prepareStackTrace=function(o,l){return l};var a=new Error().stack;return Error.prepareStackTrace=n,a[2].getFileName()}),vr}var ke={exports:{}},Qi;function ku(){if(Qi)return ke.exports;Qi=1;var n=process.platform==="win32",a=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,o={};function l(r){return a.exec(r).slice(1)}o.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var s=l(r);if(!s||s.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:s[1],dir:s[0]===s[1]?s[0]:s[0].slice(0,-1),base:s[2],ext:s[4],name:s[3]}};var i=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,t={};function e(r){return i.exec(r).slice(1)}return t.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var s=e(r);if(!s||s.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:s[1],dir:s[0].slice(0,-1),base:s[2],ext:s[4],name:s[3]}},n?ke.exports=o.parse:ke.exports=t.parse,ke.exports.posix=t.parse,ke.exports.win32=o.parse,ke.exports}var Sr,es;function Mu(){if(es)return Sr;es=1;var n=ce,a=n.parse||ku(),o=function(i,t){var e="/";/^([A-Za-z]:)/.test(i)?e="":/^\\\\/.test(i)&&(e="\\\\");for(var r=[i],s=a(i);s.dir!==r[r.length-1];)r.push(s.dir),s=a(s.dir);return r.reduce(function(u,c){return u.concat(t.map(function(y){return n.resolve(e,c,y)}))},[])};return Sr=function(i,t,e){var r=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(e,i,function(){return o(i,r)},t);var s=o(i,r);return t&&t.paths?s.concat(t.paths):s},Sr}var Rr,ts;function qu(){return ts||(ts=1,Rr=function(n,a){return a||{}}),Rr}var wr,rs;function Bu(){if(rs)return wr;rs=1;var n="Function.prototype.bind called on incompatible ",a=Object.prototype.toString,o=Math.max,l="[object Function]",i=function(s,u){for(var c=[],y=0;y<s.length;y+=1)c[y]=s[y];for(var f=0;f<u.length;f+=1)c[f+s.length]=u[f];return c},t=function(s,u){for(var c=[],y=u,f=0;y<s.length;y+=1,f+=1)c[f]=s[y];return c},e=function(r,s){for(var u="",c=0;c<r.length;c+=1)u+=r[c],c+1<r.length&&(u+=s);return u};return wr=function(s){var u=this;if(typeof u!="function"||a.apply(u)!==l)throw new TypeError(n+u);for(var c=t(arguments,1),y,f=function(){if(this instanceof y){var m=u.apply(this,i(c,arguments));return Object(m)===m?m:this}return u.apply(s,i(c,arguments))},O=o(0,u.length-c.length),w=[],S=0;S<O;S++)w[S]="$"+S;if(y=Function("binder","return function ("+e(w,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var d=function(){};d.prototype=u.prototype,y.prototype=new d,d.prototype=null}return y},wr}var Or,ns;function Hu(){if(ns)return Or;ns=1;var n=Bu();return Or=Function.prototype.bind||n,Or}var Ar,is;function Uu(){if(is)return Ar;is=1;var n=Function.prototype.call,a=Object.prototype.hasOwnProperty,o=Hu();return Ar=o.call(n,a),Ar}const ju=!0,Gu=">= 8",Wu=">= 0.5 && < 0.9.7",Vu=!0,zu=!0,Yu=">= 0.5",Ku=!0,Xu=!0,Zu=!0,Ju=">= 1 && < 8",Qu="< 8",ec=!0,tc=[">= 14.17 && < 15",">= 15.1"],rc=!0,nc=">= 0.7.12",ic=!0,sc="< 6",oc=!0,ac=">= 0.11.1",uc=">= 0.11.1",cc=">= 0.11.1",lc=">= 0.11.1",hc=">= 0.11.1",fc=">= 0.11.1",dc=!0,pc=">= 8.8",mc=!0,_c=">= 8",yc="< 8",Ec=!0,gc=!0,vc=!0,Sc=!0,Rc=">= 8.5",wc=">= 1",Oc=">= 0.5",Ac=!0,Tc=!0,Pc=!0,bc=">= 0.11.5 && < 3",Nc=">= 0.9.4",Lc=">= 0.9.4",Ic=">= 1.4.1",Dc=">= 0.9.4",Cc=">= 0.9.4",$c=">= 0.9.4",xc=!0,Fc=!0,kc=[">= 0.4 && < 0.7",">= 0.8"],Mc=!0,qc=">= 0.11.13",Bc=">= 0.11.3 && < 10",Hc=">= 0.11.3",Uc=!0,jc=">= 10",Gc=!0,Wc=!0,Vc=!0,zc=">= 1",Yc=!0,Kc=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],Xc=">= 11.7",Zc=">= 0.5",Jc={assert:ju,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:Gu,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:Wu,buffer:Vu,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:zu,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:Yu,"node:cluster":[">= 14.18 && < 15",">= 16"],console:Ku,"node:console":[">= 14.18 && < 15",">= 16"],constants:Xu,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:Zu,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:Ju,_debugger:Qu,dgram:ec,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:tc,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:rc,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:nc,"node:domain":[">= 14.18 && < 15",">= 16"],events:ic,"node:events":[">= 14.18 && < 15",">= 16"],freelist:sc,fs:oc,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:ac,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:uc,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:cc,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:lc,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:hc,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:fc,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:dc,"node:http":[">= 14.18 && < 15",">= 16"],http2:pc,"node:http2":[">= 14.18 && < 15",">= 16"],https:mc,"node:https":[">= 14.18 && < 15",">= 16"],inspector:_c,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:yc,module:Ec,"node:module":[">= 14.18 && < 15",">= 16"],net:gc,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:vc,"node:os":[">= 14.18 && < 15",">= 16"],path:Sc,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:Rc,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:wc,"node:process":[">= 14.18 && < 15",">= 16"],punycode:Oc,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:Ac,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:Tc,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:Pc,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:bc,"node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:Nc,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:Lc,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:Ic,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:Dc,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:Cc,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:$c,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:xc,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:Fc,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:kc,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:Mc,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:qc,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:Bc,_tls_wrap:Hc,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:Uc,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:jc,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:Gc,"node:tty":[">= 14.18 && < 15",">= 16"],url:Wc,"node:url":[">= 14.18 && < 15",">= 16"],util:Vc,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:zc,"node:v8":[">= 14.18 && < 15",">= 16"],vm:Yc,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:Kc,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:Xc,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:Zc,"node:zlib":[">= 14.18 && < 15",">= 16"]};var Tr,ss;function Qc(){if(ss)return Tr;ss=1;var n=Uu();function a(t,e){for(var r=t.split("."),s=e.split(" "),u=s.length>1?s[0]:"=",c=(s.length>1?s[1]:s[0]).split("."),y=0;y<3;++y){var f=parseInt(r[y]||0,10),O=parseInt(c[y]||0,10);if(f!==O)return u==="<"?f<O:u===">="?f>=O:!1}return u===">="}function o(t,e){var r=e.split(/ ?&& ?/);if(r.length===0)return!1;for(var s=0;s<r.length;++s)if(!a(t,r[s]))return!1;return!0}function l(t,e){if(typeof e=="boolean")return e;var r=typeof t>"u"?process.versions&&process.versions.node:t;if(typeof r!="string")throw new TypeError(typeof t>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var s=0;s<e.length;++s)if(o(r,e[s]))return!0;return!1}return o(r,e)}var i=Jc;return Tr=function(e,r){return n(i,e)&&l(r,i[e])},Tr}var Pr,os;function el(){if(os)return Pr;os=1;var n=ye,a=xu(),o=ce,l=Fu(),i=Mu(),t=qu(),e=Qc(),r=process.platform!=="win32"&&n.realpath&&typeof n.realpath.native=="function"?n.realpath.native:n.realpath,s=a(),u=function(){return[o.join(s,".node_modules"),o.join(s,".node_libraries")]},c=function(m,E){n.stat(m,function(h,v){return h?h.code==="ENOENT"||h.code==="ENOTDIR"?E(null,!1):E(h):E(null,v.isFile()||v.isFIFO())})},y=function(m,E){n.stat(m,function(h,v){return h?h.code==="ENOENT"||h.code==="ENOTDIR"?E(null,!1):E(h):E(null,v.isDirectory())})},f=function(m,E){r(m,function(h,v){h&&h.code!=="ENOENT"?E(h):E(null,h?m:v)})},O=function(m,E,h,v){h&&h.preserveSymlinks===!1?m(E,v):v(null,E)},w=function(m,E,h){m(E,function(v,_){if(v)h(v);else try{var g=JSON.parse(_);h(null,g)}catch{h(null)}})},S=function(m,E,h){for(var v=i(E,h,m),_=0;_<v.length;_++)v[_]=o.join(v[_],m);return v};return Pr=function(m,E,h){var v=h,_=E;if(typeof E=="function"&&(v=_,_={}),typeof m!="string"){var g=new TypeError("Path must be a string.");return process.nextTick(function(){v(g)})}_=t(m,_);var p=_.isFile||c,T=_.isDirectory||y,P=_.readFile||n.readFile,I=_.realpath||f,x=_.readPackage||w;if(_.readFile&&_.readPackage){var k=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){v(k)})}var N=_.packageIterator,$=_.extensions||[".js"],C=_.includeCoreModules!==!1,D=_.basedir||o.dirname(l()),B=_.filename||D;_.paths=_.paths||u();var G=o.resolve(D);O(I,G,_,function(U,j){U?v(U):H(j)});var V;function H(U){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(m))V=o.resolve(U,m),(m==="."||m===".."||m.slice(-1)==="/")&&(V+="/"),/\/$/.test(m)&&V===U?ee(V,_.package,R):b(V,_.package,R);else{if(C&&e(m))return v(null,m);L(m,U,function(j,F,q){if(j)v(j);else{if(F)return O(I,F,_,function(J,re){J?v(J):v(null,re,q)});var Y=new Error("Cannot find module '"+m+"' from '"+B+"'");Y.code="MODULE_NOT_FOUND",v(Y)}})}}function R(U,j,F){U?v(U):j?v(null,j,F):ee(V,function(q,Y,J){if(q)v(q);else if(Y)O(I,Y,_,function(se,Z){se?v(se):v(null,Z,J)});else{var re=new Error("Cannot find module '"+m+"' from '"+B+"'");re.code="MODULE_NOT_FOUND",v(re)}})}function b(U,j,F){var q=j,Y=F;typeof q=="function"&&(Y=q,q=void 0);var J=[""].concat($);re(J,U,q);function re(se,Z,A){if(se.length===0)return Y(null,void 0,A);var X=Z+se[0],Q=A;Q?W(null,Q):z(o.dirname(X),W);function W(K,te,ie){if(Q=te,K)return Y(K);if(ie&&Q&&_.pathFilter){var ae=o.relative(ie,X),ue=ae.slice(0,ae.length-se[0].length),fe=_.pathFilter(Q,Z,ue);if(fe)return re([""].concat($.slice()),o.resolve(ie,fe),Q)}p(X,ne)}function ne(K,te){if(K)return Y(K);if(te)return Y(null,X,Q);re(se.slice(1),Z,Q)}}}function z(U,j){if(U===""||U==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(U)||/[/\\]node_modules[/\\]*$/.test(U))return j(null);O(I,U,_,function(F,q){if(F)return z(o.dirname(U),j);var Y=o.join(q,"package.json");p(Y,function(J,re){if(!re)return z(o.dirname(U),j);x(P,Y,function(se,Z){se&&j(se);var A=Z;A&&_.packageFilter&&(A=_.packageFilter(A,Y)),j(null,A,U)})})})}function ee(U,j,F){var q=F,Y=j;typeof Y=="function"&&(q=Y,Y=_.package),O(I,U,_,function(J,re){if(J)return q(J);var se=o.join(re,"package.json");p(se,function(Z,A){if(Z)return q(Z);if(!A)return b(o.join(U,"index"),Y,q);x(P,se,function(X,Q){if(X)return q(X);var W=Q;if(W&&_.packageFilter&&(W=_.packageFilter(W,se)),W&&W.main){if(typeof W.main!="string"){var ne=new TypeError("package “"+W.name+"” `main` must be a string");return ne.code="INVALID_PACKAGE_MAIN",q(ne)}(W.main==="."||W.main==="./")&&(W.main="index"),b(o.resolve(U,W.main),W,function(K,te,ie){if(K)return q(K);if(te)return q(null,te,ie);if(!ie)return b(o.join(U,"index"),ie,q);var ae=o.resolve(U,ie.main);ee(ae,ie,function(ue,fe,_e){if(ue)return q(ue);if(fe)return q(null,fe,_e);b(o.join(U,"index"),_e,q)})});return}b(o.join(U,"/index"),W,q)})})})}function M(U,j){if(j.length===0)return U(null,void 0);var F=j[0];T(o.dirname(F),q);function q(re,se){if(re)return U(re);if(!se)return M(U,j.slice(1));b(F,_.package,Y)}function Y(re,se,Z){if(re)return U(re);if(se)return U(null,se,Z);ee(F,_.package,J)}function J(re,se,Z){if(re)return U(re);if(se)return U(null,se,Z);M(U,j.slice(1))}}function L(U,j,F){var q=function(){return S(U,j,_)};M(F,N?N(U,j,q,_):q())}},Pr}var br,as;function tl(){return as||(as=1,br=el()),br}var rl=tl();const nl=be(rl);async function il(){if(typeof require=="function")return require;const{createRequire:n}=await import("module");return n(import.meta.url)}async function sl(n){try{const a=await il();let o=null;const l=console.log;console.log=t=>{o=t};const i=a(n);if(console.log=l,typeof i=="string")return i;if(typeof i=="object"){if(typeof i.include_dir=="string")return i.include_dir;if(typeof i.include=="string")return i.include;if(o!==null)return o}}catch{}return n}async function ol(n,a){try{const o=await al(a,n);if(o!==void 0)return o}catch{}return null}function al(n,a){return new Promise(o=>{nl(n,{basedir:a},(l,i)=>{if(l)throw l;return o(i)})})}var Nr,us;function ul(){if(us)return Nr;us=1;function n(a,o=!1,l=/\s/g){let i=!1,t=[],e=[];const r=a.split("");for(const s of r){let u=s.match(l);if(s==='"'){o&&t.push(s),i=!i;continue}!i&&u?t.length>0?(e.push(t.join("")),t.splice(0)):l&&e.push(s):t.push(s)}return t.length>0?e.push(t.join("")):l&&e.push(""),e}return Nr=n,Nr}var cl=ul();const ll=be(cl);function Ft(n){const a=process.env[n];if(typeof a=="string"&&a.length>0)return a}async function hl(n,a){const o=a==="x64"?"Win64":a==="x86"?"":null;if(o===null)return console.error("Failed to find valid VS gen, using native. Good Luck."),"native";const l=await fl(`"${n}" -G`),t=l.includes(`\r
`)?l.split(`\r
`):l.split(`
`);let e=!1,r="";for(const u of t){if(!e&&u.trim()==="Generators"){e=!0;continue}const c=u.split("=");if(!(c.length<=1)&&(c[0]=c[0].replace(/^(\* )/,"").trim(),c[0].match(/Visual\s+Studio\s+\d+\s+\d+(\s+\[arch\])?/))){console.log("Found generator: ",c[0]),r=c[0];break}}return!r.match(/.*\[arch]/)?r+=" -A":r=r.replace("[arch]",o).trim(),r}function fl(n){return new Promise(a=>{Pa.exec(n,(o,l,i)=>{a(l||i)})})}function cs(n,a=process.cwd(),o=!1){return new Promise((l,i)=>{const t=ll(n),e=t[0];t.splice(0,1);const r=Pa.spawn(e,t,{stdio:o?"ignore":"inherit",cwd:a});let s=!1;r.on("error",u=>{s||(i(u),s=!0)}),r.on("exit",(u,c)=>{s||(u===0?l():i(new Error(`Process terminated: ${u??c}`)),s=!0)})})}async function Le(n,a){try{return await he.stat(n,a)}catch{return new he.Stats}}async function Da(n,a){if(!await dl(n))return null;const l=le(n,"node_modules",a);return await pl(l,a==="node-addon-api"?"napi.h":`${a}.h`)?(console.log(`Found package "${a}" at path ${l}!`),l):Da(ml(n),a)}async function dl(n){const a=le(n,"package.json"),o=le(n,"node_modules");return(await Le(a)).isFile()||(await Le(o)).isDirectory()}async function pl(n,a){const o=le(n,a);return(await Le(o)).isFile()}function ml(n){let a=n;const o=a.split(Ja),l=o[o.length-2];return l&&l.charAt(0)==="@"&&(a=le(a,"..")),a=le(a,"..",".."),Qa(a)}async function _l(n,a){if(await he.pathExists(a))return a;const o=await ol(n,a);return typeof o=="string"?sl(o):Da(n,a)}var Lr,ls;function kt(){return ls||(ls=1,Lr=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{}),Lr}var Ir,hs;function ti(){if(hs)return Ir;hs=1;const n="2.0.0",a=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,l=16,i=a-6;return Ir={MAX_LENGTH:a,MAX_SAFE_COMPONENT_LENGTH:l,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:o,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:n,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ir}var ot={exports:{}},fs;function ri(){return fs||(fs=1,function(n,a){const{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:l,MAX_LENGTH:i}=ti(),t=kt();a=n.exports={};const e=a.re=[],r=a.safeRe=[],s=a.src=[],u=a.safeSrc=[],c=a.t={};let y=0;const f="[a-zA-Z0-9-]",O=[["\\s",1],["\\d",i],[f,l]],w=d=>{for(const[m,E]of O)d=d.split(`${m}*`).join(`${m}{0,${E}}`).split(`${m}+`).join(`${m}{1,${E}}`);return d},S=(d,m,E)=>{const h=w(m),v=y++;t(d,v,m),c[d]=v,s[v]=m,u[v]=h,e[v]=new RegExp(m,E?"g":void 0),r[v]=new RegExp(h,E?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),S("MAINVERSION",`(${s[c.NUMERICIDENTIFIER]})\\.(${s[c.NUMERICIDENTIFIER]})\\.(${s[c.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${s[c.NUMERICIDENTIFIERLOOSE]})\\.(${s[c.NUMERICIDENTIFIERLOOSE]})\\.(${s[c.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${s[c.NUMERICIDENTIFIER]}|${s[c.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${s[c.NUMERICIDENTIFIERLOOSE]}|${s[c.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${s[c.PRERELEASEIDENTIFIER]}(?:\\.${s[c.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${s[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[c.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${f}+`),S("BUILD",`(?:\\+(${s[c.BUILDIDENTIFIER]}(?:\\.${s[c.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${s[c.MAINVERSION]}${s[c.PRERELEASE]}?${s[c.BUILD]}?`),S("FULL",`^${s[c.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${s[c.MAINVERSIONLOOSE]}${s[c.PRERELEASELOOSE]}?${s[c.BUILD]}?`),S("LOOSE",`^${s[c.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${s[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${s[c.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${s[c.XRANGEIDENTIFIER]})(?:\\.(${s[c.XRANGEIDENTIFIER]})(?:\\.(${s[c.XRANGEIDENTIFIER]})(?:${s[c.PRERELEASE]})?${s[c.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${s[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[c.XRANGEIDENTIFIERLOOSE]})(?:${s[c.PRERELEASELOOSE]})?${s[c.BUILD]}?)?)?`),S("XRANGE",`^${s[c.GTLT]}\\s*${s[c.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${s[c.GTLT]}\\s*${s[c.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),S("COERCE",`${s[c.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",s[c.COERCEPLAIN]+`(?:${s[c.PRERELEASE]})?(?:${s[c.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",s[c.COERCE],!0),S("COERCERTLFULL",s[c.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${s[c.LONETILDE]}\\s+`,!0),a.tildeTrimReplace="$1~",S("TILDE",`^${s[c.LONETILDE]}${s[c.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${s[c.LONETILDE]}${s[c.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${s[c.LONECARET]}\\s+`,!0),a.caretTrimReplace="$1^",S("CARET",`^${s[c.LONECARET]}${s[c.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${s[c.LONECARET]}${s[c.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${s[c.GTLT]}\\s*(${s[c.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${s[c.GTLT]}\\s*(${s[c.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${s[c.GTLT]}\\s*(${s[c.LOOSEPLAIN]}|${s[c.XRANGEPLAIN]})`,!0),a.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${s[c.XRANGEPLAIN]})\\s+-\\s+(${s[c.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${s[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[c.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(ot,ot.exports)),ot.exports}var Dr,ds;function ni(){if(ds)return Dr;ds=1;const n=Object.freeze({loose:!0}),a=Object.freeze({});return Dr=l=>l?typeof l!="object"?n:l:a,Dr}var Cr,ps;function yl(){if(ps)return Cr;ps=1;const n=/^[0-9]+$/,a=(l,i)=>{const t=n.test(l),e=n.test(i);return t&&e&&(l=+l,i=+i),l===i?0:t&&!e?-1:e&&!t?1:l<i?-1:1};return Cr={compareIdentifiers:a,rcompareIdentifiers:(l,i)=>a(i,l)},Cr}var $r,ms;function ii(){if(ms)return $r;ms=1;const n=kt(),{MAX_LENGTH:a,MAX_SAFE_INTEGER:o}=ti(),{safeRe:l,safeSrc:i,t}=ri(),e=ni(),{compareIdentifiers:r}=yl();class s{constructor(c,y){if(y=e(y),c instanceof s){if(c.loose===!!y.loose&&c.includePrerelease===!!y.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>a)throw new TypeError(`version is longer than ${a} characters`);n("SemVer",c,y),this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease;const f=c.trim().match(y.loose?l[t.LOOSE]:l[t.FULL]);if(!f)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+f[1],this.minor=+f[2],this.patch=+f[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");f[4]?this.prerelease=f[4].split(".").map(O=>{if(/^[0-9]+$/.test(O)){const w=+O;if(w>=0&&w<o)return w}return O}):this.prerelease=[],this.build=f[5]?f[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(n("SemVer.compare",this.version,this.options,c),!(c instanceof s)){if(typeof c=="string"&&c===this.version)return 0;c=new s(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof s||(c=new s(c,this.options)),r(this.major,c.major)||r(this.minor,c.minor)||r(this.patch,c.patch)}comparePre(c){if(c instanceof s||(c=new s(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let y=0;do{const f=this.prerelease[y],O=c.prerelease[y];if(n("prerelease compare",y,f,O),f===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(f===void 0)return-1;if(f===O)continue;return r(f,O)}while(++y)}compareBuild(c){c instanceof s||(c=new s(c,this.options));let y=0;do{const f=this.build[y],O=c.build[y];if(n("build compare",y,f,O),f===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(f===void 0)return-1;if(f===O)continue;return r(f,O)}while(++y)}inc(c,y,f){if(c.startsWith("pre")){if(!y&&f===!1)throw new Error("invalid increment argument: identifier is empty");if(y){const O=new RegExp(`^${this.options.loose?i[t.PRERELEASELOOSE]:i[t.PRERELEASE]}$`),w=`-${y}`.match(O);if(!w||w[1]!==y)throw new Error(`invalid identifier: ${y}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",y,f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",y,f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",y,f),this.inc("pre",y,f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",y,f),this.inc("pre",y,f);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const O=Number(f)?1:0;if(this.prerelease.length===0)this.prerelease=[O];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(y===this.prerelease.join(".")&&f===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(O)}}if(y){let w=[y,O];f===!1&&(w=[y]),r(this.prerelease[0],y)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return $r=s,$r}var xr,_s;function je(){if(_s)return xr;_s=1;const n=ii();return xr=(o,l,i)=>new n(o,i).compare(new n(l,i)),xr}var Fr,ys;function Ca(){if(ys)return Fr;ys=1;const n=je();return Fr=(o,l,i)=>n(o,l,i)>=0,Fr}var El=Ca();const gl=be(El);var kr,Es;function $a(){if(Es)return kr;Es=1;const n=je();return kr=(o,l,i)=>n(o,l,i)<0,kr}var vl=$a();const Sl=be(vl),xa=Ft("NVM_NODEJS_ORG_MIRROR")??"https://nodejs.org/dist",Rl=Ft("NVM_IOJS_ORG_MIRROR")??"https://iojs.org/dist",wl=Ft("ELECTRON_MIRROR")??"https://artifacts.electronjs.org/headers/dist",Ol=process.env[rt.platform()==="win32"?"USERPROFILE":"HOME"];function qe(n){switch(n.runtime){case"node":return(Sl(n.runtimeVersion,"4.0.0")?Al:Tl)(n);case"iojs":return{externalPath:`${Rl}/v${n.runtimeVersion}/`,winLibs:[{dir:n.arch==="x64"?"win-x64":"win-x86",name:`${n.runtime}.lib`}],tarPath:`${n.runtime}-v${n.runtimeVersion}.tar.gz`,headerOnly:!1};case"electron":return{externalPath:`${wl}/v${n.runtimeVersion}/`,winLibs:[{dir:n.arch==="x64"?"x64":"",name:"node.lib"}],tarPath:`node-v${n.runtimeVersion}.tar.gz`,headerOnly:gl(n.runtimeVersion,"4.0.0-alpha")};default:throw new Error(`Unsupported runtime ${n.runtime}`)}}function Al(n){return{externalPath:`${xa}/v${n.runtimeVersion}/`,winLibs:[{dir:n.arch==="x64"?"x64":"",name:`${n.runtime}.lib`}],tarPath:`${n.runtime}-v${n.runtimeVersion}.tar.gz`,headerOnly:!1}}function Tl(n){return{externalPath:`${xa}/v${n.runtimeVersion}/`,winLibs:[{dir:n.arch==="x64"?"win-x64":"win-x86",name:`${n.runtime}.lib`}],tarPath:`${n.runtime}-v${n.runtimeVersion}-headers.tar.gz`,headerOnly:!0}}class Pl{constructor(a,o,l){this.config=a,this.options=o,this.rtd=l}async buildCmakeCommandLine(){let a=`"${this.options.cmakeToUse}" "${this.options.packageDirectory}" --no-warn-unused-cli`;const o=await this.buildDefines();if(a+=` ${o.map(l=>`-D${l[0]}="${l[1]}"`).join(" ")}`,this.options.generatorToUse!=="native"){let l=` -G"${this.options.generatorToUse}"`;l.match(/Visual\s+Studio\s+\d+\s+\d+\s-A/)&&(l=l.replace(/\s-A/,""),l+=` -A ${this.config.arch}`),a+=l}return console.log(a),a}buildGeneratorCommandLine(a){return`"${this.options.cmakeToUse}" --build "${a}" --config "${this.options.buildType}"`}async buildDefines(){const a=qe(this.config),o=[];if(o.push(["CMAKE_BUILD_TYPE",this.options.buildType]),this.config.toolchainFile!==null&&o.push(["CMAKE_TOOLCHAIN_FILE",Ne(this.config.toolchainFile)]),this.config.os==="win32"){const t=this.rtd.winLibs();t.length&&o.push(["CMAKE_JS_LIB",t.join(";")])}else this.config.os==="darwin"&&o.push(["CMAKE_JS_CXX_FLAGS","-undefined dynamic_lookup"]);const l=[];a.headerOnly?l.push(le(this.rtd.internalPath(),"/include/node")):l.push(le(this.rtd.internalPath(),"/src"),le(this.rtd.internalPath(),"/deps/v8/include"),le(this.rtd.internalPath(),"/deps/uv/include")),this.options.nodeAPI?.includes("nan")===!0&&console.warn(`WARNING: specified nodeAPI ${this.options.nodeAPI} seems to be nan - The usage of nan is discouraged due to subtle and hard-to-fix ABI issues! Consider using node-addon-api / N-API instead!`),this.options.nodeAPI===void 0&&console.warn('WARNING: nodeAPI was not specified. The default changed from "nan" to "node-addon-api" in v0.3.0! Please make sure this is intended.');const i=await _l(this.options.packageDirectory,this.options.nodeAPI??"node-addon-api");if(this.options.nodeAPI!==void 0&&i===null&&console.log(`WARNING: nodeAPI was specified, but module "${this.options.nodeAPI}" could not be found!`),i!==null&&l.push(i),o.push(["CMAKE_JS_INC",l.join(";")]),o.push(["NODE_RUNTIME",this.config.runtime],["NODE_ARCH",this.config.arch],["NODE_PLATFORM",this.config.os],["NODE_RUNTIMEVERSION",this.config.runtimeVersion],["NODE_ABI_VERSION",`${this.rtd.abi()}`]),o.push(["CMAKE_JS_DEFINES",this.config.additionalDefines.join(";")]),this.options.globalCMakeOptions&&this.options.globalCMakeOptions.length>0)for(const t of this.options.globalCMakeOptions)o.push([t.name,t.value.replace(/\$ROOT\$/g,Ne(this.options.packageDirectory))]);if(this.config.CMakeOptions&&this.config.CMakeOptions.length>0)for(const t of this.config.CMakeOptions)o.push([t.name,t.value.replace(/\$ROOT\$/g,Ne(this.options.packageDirectory))]);return o}}function bl(n){if(n.length===0)return{type:"all"};if(n[0]==="nativeonly")return{type:"nativeonly"};if(n[0]==="osonly")return{type:"osonly"};if(n[0]==="dev-os-only")return{type:"dev-os-only"};if(n[0]==="named-configs")return n.length<2&&(console.error("'named-configs' needs at least one config name"),process.exit(1)),{type:"named-configs",configsToBuild:n.slice(1)};console.error(`Unknown command line option ${n[0]} - Valid are none/omitted, 'nativeonly', 'osonly', 'dev-os-only' and 'named-configs'`),process.exit(1)}var Mr,gs;function Nl(){if(gs)return Mr;gs=1,Mr=l,l.sync=i;var n=ye;function a(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var s=0;s<r.length;s++){var u=r[s].toLowerCase();if(u&&t.substr(-u.length).toLowerCase()===u)return!0}return!1}function o(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:a(e,r)}function l(t,e,r){n.stat(t,function(s,u){r(s,s?!1:o(u,t,e))})}function i(t,e){return o(n.statSync(t),t,e)}return Mr}var qr,vs;function Ll(){if(vs)return qr;vs=1,qr=a,a.sync=o;var n=ye;function a(t,e,r){n.stat(t,function(s,u){r(s,s?!1:l(u,e))})}function o(t,e){return l(n.statSync(t),e)}function l(t,e){return t.isFile()&&i(t,e)}function i(t,e){var r=t.mode,s=t.uid,u=t.gid,c=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),y=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),f=parseInt("100",8),O=parseInt("010",8),w=parseInt("001",8),S=f|O,d=r&w||r&O&&u===y||r&f&&s===c||r&S&&c===0;return d}return qr}var Br,Ss;function Il(){if(Ss)return Br;Ss=1;var n;process.platform==="win32"||Ie.TESTING_WINDOWS?n=Nl():n=Ll(),Br=a,a.sync=o;function a(l,i,t){if(typeof i=="function"&&(t=i,i={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(e,r){a(l,i||{},function(s,u){s?r(s):e(u)})})}n(l,i||{},function(e,r){e&&(e.code==="EACCES"||i&&i.ignoreErrors)&&(e=null,r=!1),t(e,r)})}function o(l,i){try{return n.sync(l,i||{})}catch(t){if(i&&i.ignoreErrors||t.code==="EACCES")return!1;throw t}}return Br}var Hr,Rs;function Dl(){if(Rs)return Hr;Rs=1;const n=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",a=ce,o=n?";":":",l=Il(),i=s=>Object.assign(new Error(`not found: ${s}`),{code:"ENOENT"}),t=(s,u)=>{const c=u.colon||o,y=s.match(/\//)||n&&s.match(/\\/)?[""]:[...n?[process.cwd()]:[],...(u.path||process.env.PATH||"").split(c)],f=n?u.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",O=n?f.split(c):[""];return n&&s.indexOf(".")!==-1&&O[0]!==""&&O.unshift(""),{pathEnv:y,pathExt:O,pathExtExe:f}},e=(s,u,c)=>{typeof u=="function"&&(c=u,u={}),u||(u={});const{pathEnv:y,pathExt:f,pathExtExe:O}=t(s,u),w=[],S=m=>new Promise((E,h)=>{if(m===y.length)return u.all&&w.length?E(w):h(i(s));const v=y[m],_=/^".*"$/.test(v)?v.slice(1,-1):v,g=a.join(_,s),p=!_&&/^\.[\\\/]/.test(s)?s.slice(0,2)+g:g;E(d(p,m,0))}),d=(m,E,h)=>new Promise((v,_)=>{if(h===f.length)return v(S(E+1));const g=f[h];l(m+g,{pathExt:O},(p,T)=>{if(!p&&T)if(u.all)w.push(m+g);else return v(m+g);return v(d(m,E,h+1))})});return c?S(0).then(m=>c(null,m),c):S(0)},r=(s,u)=>{u=u||{};const{pathEnv:c,pathExt:y,pathExtExe:f}=t(s,u),O=[];for(let w=0;w<c.length;w++){const S=c[w],d=/^".*"$/.test(S)?S.slice(1,-1):S,m=a.join(d,s),E=!d&&/^\.[\\\/]/.test(s)?s.slice(0,2)+m:m;for(let h=0;h<y.length;h++){const v=E+y[h];try{if(l.sync(v,{pathExt:f}))if(u.all)O.push(v);else return v}catch{}}}if(u.all&&O.length)return O;if(u.nothrow)return null;throw i(s)};return Hr=e,e.sync=r,Hr}var Cl=Dl();const $l=be(Cl);function Fa(n){return n.name===void 0&&(n.name=""),n.dev===void 0&&(n.dev=!1),n.os===void 0&&(n.os=process.platform,console.warn(`'os' was missing in the 'configurations'. Defaulting to the current operating system ${n.os}`)),n.arch===void 0&&(n.arch=process.arch,console.warn(`'arch' was missing in the 'configurations'. Defaulting to the current architecture ${n.arch}`)),n.runtime===void 0&&(n.runtime="node",console.warn("`runtime` was missing in the `configurations`. Defaulting to `node`")),n.runtimeVersion===void 0&&(n.runtimeVersion=process.versions.node,console.warn(`'runtimeVersion' was missing in the 'configurations'. Defaulting to the current runtimeVersion ${n.runtimeVersion}`)),n.toolchainFile===void 0&&(n.toolchainFile=null),n.CMakeOptions===void 0&&(n.CMakeOptions=[]),"cmakeOptions"in n&&n.cmakeOptions!==void 0&&console.warn("cmakeOptions was specified which was disabled in the 0.3.0 release. Please rename it to CMakeOptions"),n.addonSubdirectory===void 0&&(n.addonSubdirectory=""),n.additionalDefines=[],n}async function Ur(n){try{return await $l(n)}catch{return null}}async function xl(n,a){if(a.type==="nativeonly"&&(console.log(`--------------------------------------------------
      WARNING: Building only for the current runtime.
      WARNING: DO NOT SHIP THE RESULTING PACKAGE
     --------------------------------------------------`),n.configurations=[Fa({})]),a.type==="osonly"){console.log(`--------------------------------------------------
      WARNING: Building only for the current OS.
      WARNING: DO NOT SHIP THE RESULTING PACKAGE
     --------------------------------------------------`),n.configurations===void 0&&(console.error("No `configurations` entry was found in the package.json"),process.exit(1)),n.configurations=n.configurations.filter(i=>i.os===process.platform),n.configurations.length===0&&(console.error("No configuration left to build!"),process.exit(1));for(const i of n.configurations)i.toolchainFile=null}if(a.type==="dev-os-only"){console.log(`--------------------------------------------------
        WARNING: Building dev-os-only package
        WARNING: DO NOT SHIP THE RESULTING PACKAGE
       --------------------------------------------------`),n.configurations===void 0&&(console.error("No `configurations` entry was found in the package.json"),process.exit(1));const i=n.configurations.find(t=>t.os===process.platform&&t.dev);i===void 0&&(console.error(`No matching entry with \`dev == true\` and \`os == ${process.platform}\` in \`configurations\``),process.exit(1)),n.configurations=[i]}if(a.type==="named-configs"&&(n.configurations===void 0&&(console.error("No `configurations` entry was found in the package.json"),process.exit(1)),n.configurations=n.configurations.filter(i=>i.name!==void 0?a.configsToBuild.includes(i.name):!1),n.configurations.length===0&&(console.error("No configuration left to build!"),process.exit(1))),n.packageDirectory===void 0&&(n.packageDirectory=process.cwd()),n.projectName===void 0&&(n.projectName="addon"),n.targetDirectory===void 0&&(n.targetDirectory="build"),n.stagingDirectory===void 0&&(n.stagingDirectory="staging"),n.cmakeToUse===void 0){const i=await Ur("cmake");i===null&&(console.error("cmake binary not found, try to specify 'cmakeToUse'"),process.exit(1)),n.cmakeToUse=i}const[o,l]=await Promise.all([Ur("ninja"),Ur("make")]);if(n.generatorToUse===void 0)if(console.log("no generator specified in package.json, checking ninja"),o===null)if(console.log("ninja not found, checking make"),l===null)if(console.log("make not found, using native"),process.platform==="win32"){const i=await hl(n.cmakeToUse,process.arch);n.generatorToUse=i,n.generatorBinary="native"}else n.generatorToUse="native",n.generatorBinary="native";else console.log("found make at",l,"(fallback)"),n.generatorToUse="Unix Makefiles",n.generatorBinary=l;else console.log("found ninja at",o),n.generatorToUse="Ninja",n.generatorBinary=o;if(n.generatorBinary===void 0&&(n.generatorToUse==="Ninja"?(o===null&&(console.error("Ninja was specified as generator but no ninja binary could be found. Specify it via 'generatorBinary'"),process.exit(1)),n.generatorBinary=o):n.generatorToUse==="Unix Makefiles"?(l===null&&(console.error("Unix Makefiles was specified as generator but no make binary could be found. Specify it via 'generatorBinary'"),process.exit(1)),n.generatorBinary=l):(console.error(`Unsupported generator ${n.generatorToUse}`),process.exit(1))),n.buildType===void 0&&(n.buildType="Release",console.warn("`buildType` was missing. Considering 'Release'")),n.configurations)for(const i of n.configurations)i.additionalDefines=[];return n}var jr,ws;function Fl(){if(ws)return jr;ws=1;class n{constructor(){this.max=1e3,this.map=new Map}get(o){const l=this.map.get(o);if(l!==void 0)return this.map.delete(o),this.map.set(o,l),l}delete(o){return this.map.delete(o)}set(o,l){if(!this.delete(o)&&l!==void 0){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(o,l)}return this}}return jr=n,jr}var Gr,Os;function kl(){if(Os)return Gr;Os=1;const n=je();return Gr=(o,l,i)=>n(o,l,i)===0,Gr}var Wr,As;function Ml(){if(As)return Wr;As=1;const n=je();return Wr=(o,l,i)=>n(o,l,i)!==0,Wr}var Vr,Ts;function ql(){if(Ts)return Vr;Ts=1;const n=je();return Vr=(o,l,i)=>n(o,l,i)>0,Vr}var zr,Ps;function Bl(){if(Ps)return zr;Ps=1;const n=je();return zr=(o,l,i)=>n(o,l,i)<=0,zr}var Yr,bs;function Hl(){if(bs)return Yr;bs=1;const n=kl(),a=Ml(),o=ql(),l=Ca(),i=$a(),t=Bl();return Yr=(r,s,u,c)=>{switch(s){case"===":return typeof r=="object"&&(r=r.version),typeof u=="object"&&(u=u.version),r===u;case"!==":return typeof r=="object"&&(r=r.version),typeof u=="object"&&(u=u.version),r!==u;case"":case"=":case"==":return n(r,u,c);case"!=":return a(r,u,c);case">":return o(r,u,c);case">=":return l(r,u,c);case"<":return i(r,u,c);case"<=":return t(r,u,c);default:throw new TypeError(`Invalid operator: ${s}`)}},Yr}var Kr,Ns;function Ul(){if(Ns)return Kr;Ns=1;const n=Symbol("SemVer ANY");class a{static get ANY(){return n}constructor(c,y){if(y=o(y),c instanceof a){if(c.loose===!!y.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),e("comparator",c,y),this.options=y,this.loose=!!y.loose,this.parse(c),this.semver===n?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}parse(c){const y=this.options.loose?l[i.COMPARATORLOOSE]:l[i.COMPARATOR],f=c.match(y);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new r(f[2],this.options.loose):this.semver=n}toString(){return this.value}test(c){if(e("Comparator.test",c,this.options.loose),this.semver===n||c===n)return!0;if(typeof c=="string")try{c=new r(c,this.options)}catch{return!1}return t(c,this.operator,this.semver,this.options)}intersects(c,y){if(!(c instanceof a))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new s(c.value,y).test(this.value):c.operator===""?c.value===""?!0:new s(this.value,y).test(c.semver):(y=o(y),y.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||t(this.semver,"<",c.semver,y)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||t(this.semver,">",c.semver,y)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Kr=a;const o=ni(),{safeRe:l,t:i}=ri(),t=Hl(),e=kt(),r=ii(),s=ka();return Kr}var Xr,Ls;function ka(){if(Ls)return Xr;Ls=1;const n=/\s+/g;class a{constructor(C,D){if(D=i(D),C instanceof a)return C.loose===!!D.loose&&C.includePrerelease===!!D.includePrerelease?C:new a(C.raw,D);if(C instanceof t)return this.raw=C.value,this.set=[[C]],this.formatted=void 0,this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=C.trim().replace(n," "),this.set=this.raw.split("||").map(B=>this.parseRange(B.trim())).filter(B=>B.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const B=this.set[0];if(this.set=this.set.filter(G=>!S(G[0])),this.set.length===0)this.set=[B];else if(this.set.length>1){for(const G of this.set)if(G.length===1&&d(G[0])){this.set=[G];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let C=0;C<this.set.length;C++){C>0&&(this.formatted+="||");const D=this.set[C];for(let B=0;B<D.length;B++)B>0&&(this.formatted+=" "),this.formatted+=D[B].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(C){const B=((this.options.includePrerelease&&O)|(this.options.loose&&w))+":"+C,G=l.get(B);if(G)return G;const V=this.options.loose,H=V?s[u.HYPHENRANGELOOSE]:s[u.HYPHENRANGE];C=C.replace(H,k(this.options.includePrerelease)),e("hyphen replace",C),C=C.replace(s[u.COMPARATORTRIM],c),e("comparator trim",C),C=C.replace(s[u.TILDETRIM],y),e("tilde trim",C),C=C.replace(s[u.CARETTRIM],f),e("caret trim",C);let R=C.split(" ").map(M=>E(M,this.options)).join(" ").split(/\s+/).map(M=>x(M,this.options));V&&(R=R.filter(M=>(e("loose invalid filter",M,this.options),!!M.match(s[u.COMPARATORLOOSE])))),e("range list",R);const b=new Map,z=R.map(M=>new t(M,this.options));for(const M of z){if(S(M))return[M];b.set(M.value,M)}b.size>1&&b.has("")&&b.delete("");const ee=[...b.values()];return l.set(B,ee),ee}intersects(C,D){if(!(C instanceof a))throw new TypeError("a Range is required");return this.set.some(B=>m(B,D)&&C.set.some(G=>m(G,D)&&B.every(V=>G.every(H=>V.intersects(H,D)))))}test(C){if(!C)return!1;if(typeof C=="string")try{C=new r(C,this.options)}catch{return!1}for(let D=0;D<this.set.length;D++)if(N(this.set[D],C,this.options))return!0;return!1}}Xr=a;const o=Fl(),l=new o,i=ni(),t=Ul(),e=kt(),r=ii(),{safeRe:s,t:u,comparatorTrimReplace:c,tildeTrimReplace:y,caretTrimReplace:f}=ri(),{FLAG_INCLUDE_PRERELEASE:O,FLAG_LOOSE:w}=ti(),S=$=>$.value==="<0.0.0-0",d=$=>$.value==="",m=($,C)=>{let D=!0;const B=$.slice();let G=B.pop();for(;D&&B.length;)D=B.every(V=>G.intersects(V,C)),G=B.pop();return D},E=($,C)=>(e("comp",$,C),$=g($,C),e("caret",$),$=v($,C),e("tildes",$),$=T($,C),e("xrange",$),$=I($,C),e("stars",$),$),h=$=>!$||$.toLowerCase()==="x"||$==="*",v=($,C)=>$.trim().split(/\s+/).map(D=>_(D,C)).join(" "),_=($,C)=>{const D=C.loose?s[u.TILDELOOSE]:s[u.TILDE];return $.replace(D,(B,G,V,H,R)=>{e("tilde",$,B,G,V,H,R);let b;return h(G)?b="":h(V)?b=`>=${G}.0.0 <${+G+1}.0.0-0`:h(H)?b=`>=${G}.${V}.0 <${G}.${+V+1}.0-0`:R?(e("replaceTilde pr",R),b=`>=${G}.${V}.${H}-${R} <${G}.${+V+1}.0-0`):b=`>=${G}.${V}.${H} <${G}.${+V+1}.0-0`,e("tilde return",b),b})},g=($,C)=>$.trim().split(/\s+/).map(D=>p(D,C)).join(" "),p=($,C)=>{e("caret",$,C);const D=C.loose?s[u.CARETLOOSE]:s[u.CARET],B=C.includePrerelease?"-0":"";return $.replace(D,(G,V,H,R,b)=>{e("caret",$,G,V,H,R,b);let z;return h(V)?z="":h(H)?z=`>=${V}.0.0${B} <${+V+1}.0.0-0`:h(R)?V==="0"?z=`>=${V}.${H}.0${B} <${V}.${+H+1}.0-0`:z=`>=${V}.${H}.0${B} <${+V+1}.0.0-0`:b?(e("replaceCaret pr",b),V==="0"?H==="0"?z=`>=${V}.${H}.${R}-${b} <${V}.${H}.${+R+1}-0`:z=`>=${V}.${H}.${R}-${b} <${V}.${+H+1}.0-0`:z=`>=${V}.${H}.${R}-${b} <${+V+1}.0.0-0`):(e("no pr"),V==="0"?H==="0"?z=`>=${V}.${H}.${R}${B} <${V}.${H}.${+R+1}-0`:z=`>=${V}.${H}.${R}${B} <${V}.${+H+1}.0-0`:z=`>=${V}.${H}.${R} <${+V+1}.0.0-0`),e("caret return",z),z})},T=($,C)=>(e("replaceXRanges",$,C),$.split(/\s+/).map(D=>P(D,C)).join(" ")),P=($,C)=>{$=$.trim();const D=C.loose?s[u.XRANGELOOSE]:s[u.XRANGE];return $.replace(D,(B,G,V,H,R,b)=>{e("xRange",$,B,G,V,H,R,b);const z=h(V),ee=z||h(H),M=ee||h(R),L=M;return G==="="&&L&&(G=""),b=C.includePrerelease?"-0":"",z?G===">"||G==="<"?B="<0.0.0-0":B="*":G&&L?(ee&&(H=0),R=0,G===">"?(G=">=",ee?(V=+V+1,H=0,R=0):(H=+H+1,R=0)):G==="<="&&(G="<",ee?V=+V+1:H=+H+1),G==="<"&&(b="-0"),B=`${G+V}.${H}.${R}${b}`):ee?B=`>=${V}.0.0${b} <${+V+1}.0.0-0`:M&&(B=`>=${V}.${H}.0${b} <${V}.${+H+1}.0-0`),e("xRange return",B),B})},I=($,C)=>(e("replaceStars",$,C),$.trim().replace(s[u.STAR],"")),x=($,C)=>(e("replaceGTE0",$,C),$.trim().replace(s[C.includePrerelease?u.GTE0PRE:u.GTE0],"")),k=$=>(C,D,B,G,V,H,R,b,z,ee,M,L)=>(h(B)?D="":h(G)?D=`>=${B}.0.0${$?"-0":""}`:h(V)?D=`>=${B}.${G}.0${$?"-0":""}`:H?D=`>=${D}`:D=`>=${D}${$?"-0":""}`,h(z)?b="":h(ee)?b=`<${+z+1}.0.0-0`:h(M)?b=`<${z}.${+ee+1}.0-0`:L?b=`<=${z}.${ee}.${M}-${L}`:$?b=`<${z}.${ee}.${+M+1}-0`:b=`<=${b}`,`${D} ${b}`.trim()),N=($,C,D)=>{for(let B=0;B<$.length;B++)if(!$[B].test(C))return!1;if(C.prerelease.length&&!D.includePrerelease){for(let B=0;B<$.length;B++)if(e($[B].semver),$[B].semver!==t.ANY&&$[B].semver.prerelease.length>0){const G=$[B].semver;if(G.major===C.major&&G.minor===C.minor&&G.patch===C.patch)return!0}return!1}return!0};return Xr}var Zr,Is;function jl(){if(Is)return Zr;Is=1;const n=ka();return Zr=(o,l,i)=>{try{l=new n(l,i)}catch{return!1}return l.test(o)},Zr}var Gl=jl();const Wl=be(Gl),Vl=[{match:{arch:["x64","arm64"],runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_COMPRESS_POINTERS"},{match:{runtime:"electron",runtimeVersion:">=9"},addDefines:"V8_31BIT_SMIS_ON_64BIT_ARCH"},{match:{runtime:"electron",runtimeVersion:">=11"},addDefines:"V8_REVERSE_JSARGS"},{match:{runtime:"electron",runtimeVersion:">=16",arch:["x64","arm64"]},addDefines:"V8_COMPRESS_POINTERS_IN_ISOLATE_CAGE"}];function Jr(n,a){if(a===void 0)return!0;let o;return Array.isArray(a)?o=a:o=[a],o.includes(n)}function zl(n,a){const o=Jr(n.arch,a.match.arch),l=Jr(n.os,a.match.os),i=Jr(n.runtime,a.match.runtime);return!o||!l||!i||a.match.runtimeVersion!==void 0&&!(Array.isArray(a.match.runtimeVersion)?a.match.runtimeVersion:[a.match.runtimeVersion]).some(e=>Wl(n.runtimeVersion,e,{includePrerelease:!0}))?!1:(Array.isArray(a.addDefines)?n.additionalDefines.push(...a.addDefines):n.additionalDefines.push(a.addDefines),!0)}function Yl(n){return Vl.reduce((a,o)=>zl(n,o)?a+1:a,0)}var pe={},me={},Ce={},Ds;function Kl(){if(Ds)return Ce;Ds=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.splitWhen=Ce.flatten=void 0;function n(o){return o.reduce((l,i)=>[].concat(l,i),[])}Ce.flatten=n;function a(o,l){const i=[[]];let t=0;for(const e of o)l(e)?(t++,i[t]=[]):i[t].push(e);return i}return Ce.splitWhen=a,Ce}var Ve={},Cs;function Xl(){if(Cs)return Ve;Cs=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.isEnoentCodeError=void 0;function n(a){return a.code==="ENOENT"}return Ve.isEnoentCodeError=n,Ve}var ze={},$s;function Zl(){if($s)return ze;$s=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.createDirentFromStats=void 0;class n{constructor(l,i){this.name=l,this.isBlockDevice=i.isBlockDevice.bind(i),this.isCharacterDevice=i.isCharacterDevice.bind(i),this.isDirectory=i.isDirectory.bind(i),this.isFIFO=i.isFIFO.bind(i),this.isFile=i.isFile.bind(i),this.isSocket=i.isSocket.bind(i),this.isSymbolicLink=i.isSymbolicLink.bind(i)}}function a(o,l){return new n(o,l)}return ze.createDirentFromStats=a,ze}var de={},xs;function Jl(){if(xs)return de;xs=1,Object.defineProperty(de,"__esModule",{value:!0}),de.convertPosixPathToPattern=de.convertWindowsPathToPattern=de.convertPathToPattern=de.escapePosixPath=de.escapeWindowsPath=de.escape=de.removeLeadingDotSegment=de.makeAbsolute=de.unixify=void 0;const n=rt,a=ce,o=n.platform()==="win32",l=2,i=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,t=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,e=/^\\\\([.?])/,r=/\\(?![!()+@[\]{}])/g;function s(S){return S.replace(/\\/g,"/")}de.unixify=s;function u(S,d){return a.resolve(S,d)}de.makeAbsolute=u;function c(S){if(S.charAt(0)==="."){const d=S.charAt(1);if(d==="/"||d==="\\")return S.slice(l)}return S}de.removeLeadingDotSegment=c,de.escape=o?y:f;function y(S){return S.replace(t,"\\$2")}de.escapeWindowsPath=y;function f(S){return S.replace(i,"\\$2")}de.escapePosixPath=f,de.convertPathToPattern=o?O:w;function O(S){return y(S).replace(e,"//$1").replace(r,"/")}de.convertWindowsPathToPattern=O;function w(S){return f(S)}return de.convertPosixPathToPattern=w,de}var oe={};/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Qr,Fs;function Ql(){return Fs||(Fs=1,Qr=function(a){if(typeof a!="string"||a==="")return!1;for(var o;o=/(\\).|([@?!+*]\(.*\))/g.exec(a);){if(o[2])return!0;a=a.slice(o.index+o[0].length)}return!1}),Qr}/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var en,ks;function eh(){if(ks)return en;ks=1;var n=Ql(),a={"{":"}","(":")","[":"]"},o=function(i){if(i[0]==="!")return!0;for(var t=0,e=-2,r=-2,s=-2,u=-2,c=-2;t<i.length;){if(i[t]==="*"||i[t+1]==="?"&&/[\].+)]/.test(i[t])||r!==-1&&i[t]==="["&&i[t+1]!=="]"&&(r<t&&(r=i.indexOf("]",t)),r>t&&(c===-1||c>r||(c=i.indexOf("\\",t),c===-1||c>r)))||s!==-1&&i[t]==="{"&&i[t+1]!=="}"&&(s=i.indexOf("}",t),s>t&&(c=i.indexOf("\\",t),c===-1||c>s))||u!==-1&&i[t]==="("&&i[t+1]==="?"&&/[:!=]/.test(i[t+2])&&i[t+3]!==")"&&(u=i.indexOf(")",t),u>t&&(c=i.indexOf("\\",t),c===-1||c>u))||e!==-1&&i[t]==="("&&i[t+1]!=="|"&&(e<t&&(e=i.indexOf("|",t)),e!==-1&&i[e+1]!==")"&&(u=i.indexOf(")",e),u>e&&(c=i.indexOf("\\",e),c===-1||c>u))))return!0;if(i[t]==="\\"){var y=i[t+1];t+=2;var f=a[y];if(f){var O=i.indexOf(f,t);O!==-1&&(t=O+1)}if(i[t]==="!")return!0}else t++}return!1},l=function(i){if(i[0]==="!")return!0;for(var t=0;t<i.length;){if(/[*?{}()[\]]/.test(i[t]))return!0;if(i[t]==="\\"){var e=i[t+1];t+=2;var r=a[e];if(r){var s=i.indexOf(r,t);s!==-1&&(t=s+1)}if(i[t]==="!")return!0}else t++}return!1};return en=function(t,e){if(typeof t!="string"||t==="")return!1;if(n(t))return!0;var r=o;return e&&e.strict===!1&&(r=l),r(t)},en}var tn,Ms;function th(){if(Ms)return tn;Ms=1;var n=eh(),a=ce.posix.dirname,o=rt.platform()==="win32",l="/",i=/\\/g,t=/[\{\[].*[\}\]]$/,e=/(^|[^\\])([\{\[]|\([^\)]+$)/,r=/\\([\!\*\?\|\[\]\(\)\{\}])/g;return tn=function(u,c){var y=Object.assign({flipBackslashes:!0},c);y.flipBackslashes&&o&&u.indexOf(l)<0&&(u=u.replace(i,l)),t.test(u)&&(u+=l),u+="a";do u=a(u);while(n(u)||e.test(u));return u.replace(r,"$1")},tn}var rn={},qs;function si(){return qs||(qs=1,function(n){n.isInteger=a=>typeof a=="number"?Number.isInteger(a):typeof a=="string"&&a.trim()!==""?Number.isInteger(Number(a)):!1,n.find=(a,o)=>a.nodes.find(l=>l.type===o),n.exceedsLimit=(a,o,l=1,i)=>i===!1||!n.isInteger(a)||!n.isInteger(o)?!1:(Number(o)-Number(a))/Number(l)>=i,n.escapeNode=(a,o=0,l)=>{const i=a.nodes[o];i&&(l&&i.type===l||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)},n.encloseBrace=a=>a.type!=="brace"?!1:a.commas>>0+a.ranges>>0===0?(a.invalid=!0,!0):!1,n.isInvalidBrace=a=>a.type!=="brace"?!1:a.invalid===!0||a.dollar?!0:a.commas>>0+a.ranges>>0===0||a.open!==!0||a.close!==!0?(a.invalid=!0,!0):!1,n.isOpenOrClose=a=>a.type==="open"||a.type==="close"?!0:a.open===!0||a.close===!0,n.reduce=a=>a.reduce((o,l)=>(l.type==="text"&&o.push(l.value),l.type==="range"&&(l.type="text"),o),[]),n.flatten=(...a)=>{const o=[],l=i=>{for(let t=0;t<i.length;t++){const e=i[t];if(Array.isArray(e)){l(e);continue}e!==void 0&&o.push(e)}return o};return l(a),o}}(rn)),rn}var nn,Bs;function oi(){if(Bs)return nn;Bs=1;const n=si();return nn=(a,o={})=>{const l=(i,t={})=>{const e=o.escapeInvalid&&n.isInvalidBrace(t),r=i.invalid===!0&&o.escapeInvalid===!0;let s="";if(i.value)return(e||r)&&n.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(const u of i.nodes)s+=l(u);return s};return l(a)},nn}/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var sn,Hs;function rh(){return Hs||(Hs=1,sn=function(n){return typeof n=="number"?n-n===0:typeof n=="string"&&n.trim()!==""?Number.isFinite?Number.isFinite(+n):isFinite(+n):!1}),sn}/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var on,Us;function nh(){if(Us)return on;Us=1;const n=rh(),a=(d,m,E)=>{if(n(d)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(m===void 0||d===m)return String(d);if(n(m)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let h={relaxZeros:!0,...E};typeof h.strictZeros=="boolean"&&(h.relaxZeros=h.strictZeros===!1);let v=String(h.relaxZeros),_=String(h.shorthand),g=String(h.capture),p=String(h.wrap),T=d+":"+m+"="+v+_+g+p;if(a.cache.hasOwnProperty(T))return a.cache[T].result;let P=Math.min(d,m),I=Math.max(d,m);if(Math.abs(P-I)===1){let C=d+"|"+m;return h.capture?`(${C})`:h.wrap===!1?C:`(?:${C})`}let x=w(d)||w(m),k={min:d,max:m,a:P,b:I},N=[],$=[];if(x&&(k.isPadded=x,k.maxLen=String(k.max).length),P<0){let C=I<0?Math.abs(I):1;$=t(C,Math.abs(P),k,h),P=k.a=0}return I>=0&&(N=t(P,I,k,h)),k.negatives=$,k.positives=N,k.result=o($,N),h.capture===!0?k.result=`(${k.result})`:h.wrap!==!1&&N.length+$.length>1&&(k.result=`(?:${k.result})`),a.cache[T]=k,k.result};function o(d,m,E){let h=e(d,m,"-",!1)||[],v=e(m,d,"",!1)||[],_=e(d,m,"-?",!0)||[];return h.concat(_).concat(v).join("|")}function l(d,m){let E=1,h=1,v=c(d,E),_=new Set([m]);for(;d<=v&&v<=m;)_.add(v),E+=1,v=c(d,E);for(v=y(m+1,h)-1;d<v&&v<=m;)_.add(v),h+=1,v=y(m+1,h)-1;return _=[..._],_.sort(s),_}function i(d,m,E){if(d===m)return{pattern:d,count:[],digits:0};let h=r(d,m),v=h.length,_="",g=0;for(let p=0;p<v;p++){let[T,P]=h[p];T===P?_+=T:T!=="0"||P!=="9"?_+=O(T,P):g++}return g&&(_+=E.shorthand===!0?"\\d":"[0-9]"),{pattern:_,count:[g],digits:v}}function t(d,m,E,h){let v=l(d,m),_=[],g=d,p;for(let T=0;T<v.length;T++){let P=v[T],I=i(String(g),String(P),h),x="";if(!E.isPadded&&p&&p.pattern===I.pattern){p.count.length>1&&p.count.pop(),p.count.push(I.count[0]),p.string=p.pattern+f(p.count),g=P+1;continue}E.isPadded&&(x=S(P,E,h)),I.string=x+I.pattern+f(I.count),_.push(I),g=P+1,p=I}return _}function e(d,m,E,h,v){let _=[];for(let g of d){let{string:p}=g;!h&&!u(m,"string",p)&&_.push(E+p),h&&u(m,"string",p)&&_.push(E+p)}return _}function r(d,m){let E=[];for(let h=0;h<d.length;h++)E.push([d[h],m[h]]);return E}function s(d,m){return d>m?1:m>d?-1:0}function u(d,m,E){return d.some(h=>h[m]===E)}function c(d,m){return Number(String(d).slice(0,-m)+"9".repeat(m))}function y(d,m){return d-d%Math.pow(10,m)}function f(d){let[m=0,E=""]=d;return E||m>1?`{${m+(E?","+E:"")}}`:""}function O(d,m,E){return`[${d}${m-d===1?"":"-"}${m}]`}function w(d){return/^-?(0+)\d/.test(d)}function S(d,m,E){if(!m.isPadded)return d;let h=Math.abs(m.maxLen-String(d).length),v=E.relaxZeros!==!1;switch(h){case 0:return"";case 1:return v?"0?":"0";case 2:return v?"0{0,2}":"00";default:return v?`0{0,${h}}`:`0{${h}}`}}return a.cache={},a.clearCache=()=>a.cache={},on=a,on}/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var an,js;function Ma(){if(js)return an;js=1;const n=$t,a=nh(),o=h=>h!==null&&typeof h=="object"&&!Array.isArray(h),l=h=>v=>h===!0?Number(v):String(v),i=h=>typeof h=="number"||typeof h=="string"&&h!=="",t=h=>Number.isInteger(+h),e=h=>{let v=`${h}`,_=-1;if(v[0]==="-"&&(v=v.slice(1)),v==="0")return!1;for(;v[++_]==="0";);return _>0},r=(h,v,_)=>typeof h=="string"||typeof v=="string"?!0:_.stringify===!0,s=(h,v,_)=>{if(v>0){let g=h[0]==="-"?"-":"";g&&(h=h.slice(1)),h=g+h.padStart(g?v-1:v,"0")}return _===!1?String(h):h},u=(h,v)=>{let _=h[0]==="-"?"-":"";for(_&&(h=h.slice(1),v--);h.length<v;)h="0"+h;return _?"-"+h:h},c=(h,v,_)=>{h.negatives.sort((I,x)=>I<x?-1:I>x?1:0),h.positives.sort((I,x)=>I<x?-1:I>x?1:0);let g=v.capture?"":"?:",p="",T="",P;return h.positives.length&&(p=h.positives.map(I=>u(String(I),_)).join("|")),h.negatives.length&&(T=`-(${g}${h.negatives.map(I=>u(String(I),_)).join("|")})`),p&&T?P=`${p}|${T}`:P=p||T,v.wrap?`(${g}${P})`:P},y=(h,v,_,g)=>{if(_)return a(h,v,{wrap:!1,...g});let p=String.fromCharCode(h);if(h===v)return p;let T=String.fromCharCode(v);return`[${p}-${T}]`},f=(h,v,_)=>{if(Array.isArray(h)){let g=_.wrap===!0,p=_.capture?"":"?:";return g?`(${p}${h.join("|")})`:h.join("|")}return a(h,v,_)},O=(...h)=>new RangeError("Invalid range arguments: "+n.inspect(...h)),w=(h,v,_)=>{if(_.strictRanges===!0)throw O([h,v]);return[]},S=(h,v)=>{if(v.strictRanges===!0)throw new TypeError(`Expected step "${h}" to be a number`);return[]},d=(h,v,_=1,g={})=>{let p=Number(h),T=Number(v);if(!Number.isInteger(p)||!Number.isInteger(T)){if(g.strictRanges===!0)throw O([h,v]);return[]}p===0&&(p=0),T===0&&(T=0);let P=p>T,I=String(h),x=String(v),k=String(_);_=Math.max(Math.abs(_),1);let N=e(I)||e(x)||e(k),$=N?Math.max(I.length,x.length,k.length):0,C=N===!1&&r(h,v,g)===!1,D=g.transform||l(C);if(g.toRegex&&_===1)return y(u(h,$),u(v,$),!0,g);let B={negatives:[],positives:[]},G=R=>B[R<0?"negatives":"positives"].push(Math.abs(R)),V=[],H=0;for(;P?p>=T:p<=T;)g.toRegex===!0&&_>1?G(p):V.push(s(D(p,H),$,C)),p=P?p-_:p+_,H++;return g.toRegex===!0?_>1?c(B,g,$):f(V,null,{wrap:!1,...g}):V},m=(h,v,_=1,g={})=>{if(!t(h)&&h.length>1||!t(v)&&v.length>1)return w(h,v,g);let p=g.transform||(C=>String.fromCharCode(C)),T=`${h}`.charCodeAt(0),P=`${v}`.charCodeAt(0),I=T>P,x=Math.min(T,P),k=Math.max(T,P);if(g.toRegex&&_===1)return y(x,k,!1,g);let N=[],$=0;for(;I?T>=P:T<=P;)N.push(p(T,$)),T=I?T-_:T+_,$++;return g.toRegex===!0?f(N,null,{wrap:!1,options:g}):N},E=(h,v,_,g={})=>{if(v==null&&i(h))return[h];if(!i(h)||!i(v))return w(h,v,g);if(typeof _=="function")return E(h,v,1,{transform:_});if(o(_))return E(h,v,0,_);let p={...g};return p.capture===!0&&(p.wrap=!0),_=_||p.step||1,t(_)?t(h)&&t(v)?d(h,v,_,p):m(h,v,Math.max(Math.abs(_),1),p):_!=null&&!o(_)?S(_,p):E(h,v,1,_)};return an=E,an}var un,Gs;function ih(){if(Gs)return un;Gs=1;const n=Ma(),a=si();return un=(l,i={})=>{const t=(e,r={})=>{const s=a.isInvalidBrace(r),u=e.invalid===!0&&i.escapeInvalid===!0,c=s===!0||u===!0,y=i.escapeInvalid===!0?"\\":"";let f="";if(e.isOpen===!0)return y+e.value;if(e.isClose===!0)return console.log("node.isClose",y,e.value),y+e.value;if(e.type==="open")return c?y+e.value:"(";if(e.type==="close")return c?y+e.value:")";if(e.type==="comma")return e.prev.type==="comma"?"":c?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){const O=a.reduce(e.nodes),w=n(...O,{...i,wrap:!1,toRegex:!0,strictZeros:!0});if(w.length!==0)return O.length>1&&w.length>1?`(${w})`:w}if(e.nodes)for(const O of e.nodes)f+=t(O,e);return f};return t(l)},un}var cn,Ws;function sh(){if(Ws)return cn;Ws=1;const n=Ma(),a=oi(),o=si(),l=(t="",e="",r=!1)=>{const s=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?o.flatten(e).map(u=>`{${u}}`):e;for(const u of t)if(Array.isArray(u))for(const c of u)s.push(l(c,e,r));else for(let c of e)r===!0&&typeof c=="string"&&(c=`{${c}}`),s.push(Array.isArray(c)?l(u,c,r):u+c);return o.flatten(s)};return cn=(t,e={})=>{const r=e.rangeLimit===void 0?1e3:e.rangeLimit,s=(u,c={})=>{u.queue=[];let y=c,f=c.queue;for(;y.type!=="brace"&&y.type!=="root"&&y.parent;)y=y.parent,f=y.queue;if(u.invalid||u.dollar){f.push(l(f.pop(),a(u,e)));return}if(u.type==="brace"&&u.invalid!==!0&&u.nodes.length===2){f.push(l(f.pop(),["{}"]));return}if(u.nodes&&u.ranges>0){const d=o.reduce(u.nodes);if(o.exceedsLimit(...d,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let m=n(...d,e);m.length===0&&(m=a(u,e)),f.push(l(f.pop(),m)),u.nodes=[];return}const O=o.encloseBrace(u);let w=u.queue,S=u;for(;S.type!=="brace"&&S.type!=="root"&&S.parent;)S=S.parent,w=S.queue;for(let d=0;d<u.nodes.length;d++){const m=u.nodes[d];if(m.type==="comma"&&u.type==="brace"){d===1&&w.push(""),w.push("");continue}if(m.type==="close"){f.push(l(f.pop(),w,O));continue}if(m.value&&m.type!=="open"){w.push(l(w.pop(),m.value));continue}m.nodes&&s(m,u)}return w};return o.flatten(s(t))},cn}var ln,Vs;function oh(){return Vs||(Vs=1,ln={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}),ln}var hn,zs;function ah(){if(zs)return hn;zs=1;const n=oi(),{MAX_LENGTH:a,CHAR_BACKSLASH:o,CHAR_BACKTICK:l,CHAR_COMMA:i,CHAR_DOT:t,CHAR_LEFT_PARENTHESES:e,CHAR_RIGHT_PARENTHESES:r,CHAR_LEFT_CURLY_BRACE:s,CHAR_RIGHT_CURLY_BRACE:u,CHAR_LEFT_SQUARE_BRACKET:c,CHAR_RIGHT_SQUARE_BRACKET:y,CHAR_DOUBLE_QUOTE:f,CHAR_SINGLE_QUOTE:O,CHAR_NO_BREAK_SPACE:w,CHAR_ZERO_WIDTH_NOBREAK_SPACE:S}=oh();return hn=(m,E={})=>{if(typeof m!="string")throw new TypeError("Expected a string");const h=E||{},v=typeof h.maxLength=="number"?Math.min(a,h.maxLength):a;if(m.length>v)throw new SyntaxError(`Input length (${m.length}), exceeds max characters (${v})`);const _={type:"root",input:m,nodes:[]},g=[_];let p=_,T=_,P=0;const I=m.length;let x=0,k=0,N;const $=()=>m[x++],C=D=>{if(D.type==="text"&&T.type==="dot"&&(T.type="text"),T&&T.type==="text"&&D.type==="text"){T.value+=D.value;return}return p.nodes.push(D),D.parent=p,D.prev=T,T=D,D};for(C({type:"bos"});x<I;)if(p=g[g.length-1],N=$(),!(N===S||N===w)){if(N===o){C({type:"text",value:(E.keepEscaping?N:"")+$()});continue}if(N===y){C({type:"text",value:"\\"+N});continue}if(N===c){P++;let D;for(;x<I&&(D=$());){if(N+=D,D===c){P++;continue}if(D===o){N+=$();continue}if(D===y&&(P--,P===0))break}C({type:"text",value:N});continue}if(N===e){p=C({type:"paren",nodes:[]}),g.push(p),C({type:"text",value:N});continue}if(N===r){if(p.type!=="paren"){C({type:"text",value:N});continue}p=g.pop(),C({type:"text",value:N}),p=g[g.length-1];continue}if(N===f||N===O||N===l){const D=N;let B;for(E.keepQuotes!==!0&&(N="");x<I&&(B=$());){if(B===o){N+=B+$();continue}if(B===D){E.keepQuotes===!0&&(N+=B);break}N+=B}C({type:"text",value:N});continue}if(N===s){k++;const B={type:"brace",open:!0,close:!1,dollar:T.value&&T.value.slice(-1)==="$"||p.dollar===!0,depth:k,commas:0,ranges:0,nodes:[]};p=C(B),g.push(p),C({type:"open",value:N});continue}if(N===u){if(p.type!=="brace"){C({type:"text",value:N});continue}const D="close";p=g.pop(),p.close=!0,C({type:D,value:N}),k--,p=g[g.length-1];continue}if(N===i&&k>0){if(p.ranges>0){p.ranges=0;const D=p.nodes.shift();p.nodes=[D,{type:"text",value:n(p)}]}C({type:"comma",value:N}),p.commas++;continue}if(N===t&&k>0&&p.commas===0){const D=p.nodes;if(k===0||D.length===0){C({type:"text",value:N});continue}if(T.type==="dot"){if(p.range=[],T.value+=N,T.type="range",p.nodes.length!==3&&p.nodes.length!==5){p.invalid=!0,p.ranges=0,T.type="text";continue}p.ranges++,p.args=[];continue}if(T.type==="range"){D.pop();const B=D[D.length-1];B.value+=T.value+N,T=B,p.ranges--;continue}C({type:"dot",value:N});continue}C({type:"text",value:N})}do if(p=g.pop(),p.type!=="root"){p.nodes.forEach(G=>{G.nodes||(G.type==="open"&&(G.isOpen=!0),G.type==="close"&&(G.isClose=!0),G.nodes||(G.type="text"),G.invalid=!0)});const D=g[g.length-1],B=D.nodes.indexOf(p);D.nodes.splice(B,1,...p.nodes)}while(g.length>0);return C({type:"eos"}),_},hn}var fn,Ys;function uh(){if(Ys)return fn;Ys=1;const n=oi(),a=ih(),o=sh(),l=ah(),i=(t,e={})=>{let r=[];if(Array.isArray(t))for(const s of t){const u=i.create(s,e);Array.isArray(u)?r.push(...u):r.push(u)}else r=[].concat(i.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};return i.parse=(t,e={})=>l(t,e),i.stringify=(t,e={})=>n(typeof t=="string"?i.parse(t,e):t,e),i.compile=(t,e={})=>(typeof t=="string"&&(t=i.parse(t,e)),a(t,e)),i.expand=(t,e={})=>{typeof t=="string"&&(t=i.parse(t,e));let r=o(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r},i.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?i.compile(t,e):i.expand(t,e),fn=i,fn}var dn={},pn,Ks;function Mt(){if(Ks)return pn;Ks=1;const n=ce,a="\\\\/",o=`[^${a}]`,l="\\.",i="\\+",t="\\?",e="\\/",r="(?=.)",s="[^/]",u=`(?:${e}|$)`,c=`(?:^|${e})`,y=`${l}{1,2}${u}`,f=`(?!${l})`,O=`(?!${c}${y})`,w=`(?!${l}{0,1}${u})`,S=`(?!${y})`,d=`[^.${e}]`,m=`${s}*?`,E={DOT_LITERAL:l,PLUS_LITERAL:i,QMARK_LITERAL:t,SLASH_LITERAL:e,ONE_CHAR:r,QMARK:s,END_ANCHOR:u,DOTS_SLASH:y,NO_DOT:f,NO_DOTS:O,NO_DOT_SLASH:w,NO_DOTS_SLASH:S,QMARK_NO_DOT:d,STAR:m,START_ANCHOR:c},h={...E,SLASH_LITERAL:`[${a}]`,QMARK:o,STAR:`${o}*?`,DOTS_SLASH:`${l}{1,2}(?:[${a}]|$)`,NO_DOT:`(?!${l})`,NO_DOTS:`(?!(?:^|[${a}])${l}{1,2}(?:[${a}]|$))`,NO_DOT_SLASH:`(?!${l}{0,1}(?:[${a}]|$))`,NO_DOTS_SLASH:`(?!${l}{1,2}(?:[${a}]|$))`,QMARK_NO_DOT:`[^.${a}]`,START_ANCHOR:`(?:^|[${a}])`,END_ANCHOR:`(?:[${a}]|$)`},v={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};return pn={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:v,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars(_){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${_.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(_){return _===!0?h:E}},pn}var Xs;function qt(){return Xs||(Xs=1,function(n){const a=ce,o=process.platform==="win32",{REGEX_BACKSLASH:l,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:t,REGEX_SPECIAL_CHARS_GLOBAL:e}=Mt();n.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n.hasRegexChars=r=>t.test(r),n.isRegexChar=r=>r.length===1&&n.hasRegexChars(r),n.escapeRegex=r=>r.replace(e,"\\$1"),n.toPosixSlashes=r=>r.replace(l,"/"),n.removeBackslashes=r=>r.replace(i,s=>s==="\\"?"":s),n.supportsLookbehinds=()=>{const r=process.version.slice(1).split(".").map(Number);return r.length===3&&r[0]>=9||r[0]===8&&r[1]>=10},n.isWindows=r=>r&&typeof r.windows=="boolean"?r.windows:o===!0||a.sep==="\\",n.escapeLast=(r,s,u)=>{const c=r.lastIndexOf(s,u);return c===-1?r:r[c-1]==="\\"?n.escapeLast(r,s,c-1):`${r.slice(0,c)}\\${r.slice(c)}`},n.removePrefix=(r,s={})=>{let u=r;return u.startsWith("./")&&(u=u.slice(2),s.prefix="./"),u},n.wrapOutput=(r,s={},u={})=>{const c=u.contains?"":"^",y=u.contains?"":"$";let f=`${c}(?:${r})${y}`;return s.negated===!0&&(f=`(?:^(?!${f}).*$)`),f}}(dn)),dn}var mn,Zs;function ch(){if(Zs)return mn;Zs=1;const n=qt(),{CHAR_ASTERISK:a,CHAR_AT:o,CHAR_BACKWARD_SLASH:l,CHAR_COMMA:i,CHAR_DOT:t,CHAR_EXCLAMATION_MARK:e,CHAR_FORWARD_SLASH:r,CHAR_LEFT_CURLY_BRACE:s,CHAR_LEFT_PARENTHESES:u,CHAR_LEFT_SQUARE_BRACKET:c,CHAR_PLUS:y,CHAR_QUESTION_MARK:f,CHAR_RIGHT_CURLY_BRACE:O,CHAR_RIGHT_PARENTHESES:w,CHAR_RIGHT_SQUARE_BRACKET:S}=Mt(),d=h=>h===r||h===l,m=h=>{h.isPrefix!==!0&&(h.depth=h.isGlobstar?1/0:1)};return mn=(h,v)=>{const _=v||{},g=h.length-1,p=_.parts===!0||_.scanToEnd===!0,T=[],P=[],I=[];let x=h,k=-1,N=0,$=0,C=!1,D=!1,B=!1,G=!1,V=!1,H=!1,R=!1,b=!1,z=!1,ee=!1,M=0,L,U,j={value:"",depth:0,isGlob:!1};const F=()=>k>=g,q=()=>x.charCodeAt(k+1),Y=()=>(L=U,x.charCodeAt(++k));for(;k<g;){U=Y();let A;if(U===l){R=j.backslashes=!0,U=Y(),U===s&&(H=!0);continue}if(H===!0||U===s){for(M++;F()!==!0&&(U=Y());){if(U===l){R=j.backslashes=!0,Y();continue}if(U===s){M++;continue}if(H!==!0&&U===t&&(U=Y())===t){if(C=j.isBrace=!0,B=j.isGlob=!0,ee=!0,p===!0)continue;break}if(H!==!0&&U===i){if(C=j.isBrace=!0,B=j.isGlob=!0,ee=!0,p===!0)continue;break}if(U===O&&(M--,M===0)){H=!1,C=j.isBrace=!0,ee=!0;break}}if(p===!0)continue;break}if(U===r){if(T.push(k),P.push(j),j={value:"",depth:0,isGlob:!1},ee===!0)continue;if(L===t&&k===N+1){N+=2;continue}$=k+1;continue}if(_.noext!==!0&&(U===y||U===o||U===a||U===f||U===e)===!0&&q()===u){if(B=j.isGlob=!0,G=j.isExtglob=!0,ee=!0,U===e&&k===N&&(z=!0),p===!0){for(;F()!==!0&&(U=Y());){if(U===l){R=j.backslashes=!0,U=Y();continue}if(U===w){B=j.isGlob=!0,ee=!0;break}}continue}break}if(U===a){if(L===a&&(V=j.isGlobstar=!0),B=j.isGlob=!0,ee=!0,p===!0)continue;break}if(U===f){if(B=j.isGlob=!0,ee=!0,p===!0)continue;break}if(U===c){for(;F()!==!0&&(A=Y());){if(A===l){R=j.backslashes=!0,Y();continue}if(A===S){D=j.isBracket=!0,B=j.isGlob=!0,ee=!0;break}}if(p===!0)continue;break}if(_.nonegate!==!0&&U===e&&k===N){b=j.negated=!0,N++;continue}if(_.noparen!==!0&&U===u){if(B=j.isGlob=!0,p===!0){for(;F()!==!0&&(U=Y());){if(U===u){R=j.backslashes=!0,U=Y();continue}if(U===w){ee=!0;break}}continue}break}if(B===!0){if(ee=!0,p===!0)continue;break}}_.noext===!0&&(G=!1,B=!1);let J=x,re="",se="";N>0&&(re=x.slice(0,N),x=x.slice(N),$-=N),J&&B===!0&&$>0?(J=x.slice(0,$),se=x.slice($)):B===!0?(J="",se=x):J=x,J&&J!==""&&J!=="/"&&J!==x&&d(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1)),_.unescape===!0&&(se&&(se=n.removeBackslashes(se)),J&&R===!0&&(J=n.removeBackslashes(J)));const Z={prefix:re,input:h,start:N,base:J,glob:se,isBrace:C,isBracket:D,isGlob:B,isExtglob:G,isGlobstar:V,negated:b,negatedExtglob:z};if(_.tokens===!0&&(Z.maxDepth=0,d(U)||P.push(j),Z.tokens=P),_.parts===!0||_.tokens===!0){let A;for(let X=0;X<T.length;X++){const Q=A?A+1:N,W=T[X],ne=h.slice(Q,W);_.tokens&&(X===0&&N!==0?(P[X].isPrefix=!0,P[X].value=re):P[X].value=ne,m(P[X]),Z.maxDepth+=P[X].depth),(X!==0||ne!=="")&&I.push(ne),A=W}if(A&&A+1<h.length){const X=h.slice(A+1);I.push(X),_.tokens&&(P[P.length-1].value=X,m(P[P.length-1]),Z.maxDepth+=P[P.length-1].depth)}Z.slashes=T,Z.parts=I}return Z},mn}var _n,Js;function lh(){if(Js)return _n;Js=1;const n=Mt(),a=qt(),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:l,REGEX_NON_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_BACKREF:t,REPLACEMENTS:e}=n,r=(c,y)=>{if(typeof y.expandRange=="function")return y.expandRange(...c,y);c.sort();const f=`[${c.join("-")}]`;try{new RegExp(f)}catch{return c.map(w=>a.escapeRegex(w)).join("..")}return f},s=(c,y)=>`Missing ${c}: "${y}" - use "\\\\${y}" to match literal characters`,u=(c,y)=>{if(typeof c!="string")throw new TypeError("Expected a string");c=e[c]||c;const f={...y},O=typeof f.maxLength=="number"?Math.min(o,f.maxLength):o;let w=c.length;if(w>O)throw new SyntaxError(`Input length: ${w}, exceeds maximum allowed length: ${O}`);const S={type:"bos",value:"",output:f.prepend||""},d=[S],m=f.capture?"":"?:",E=a.isWindows(y),h=n.globChars(E),v=n.extglobChars(h),{DOT_LITERAL:_,PLUS_LITERAL:g,SLASH_LITERAL:p,ONE_CHAR:T,DOTS_SLASH:P,NO_DOT:I,NO_DOT_SLASH:x,NO_DOTS_SLASH:k,QMARK:N,QMARK_NO_DOT:$,STAR:C,START_ANCHOR:D}=h,B=W=>`(${m}(?:(?!${D}${W.dot?P:_}).)*?)`,G=f.dot?"":I,V=f.dot?N:$;let H=f.bash===!0?B(f):C;f.capture&&(H=`(${H})`),typeof f.noext=="boolean"&&(f.noextglob=f.noext);const R={input:c,index:-1,start:0,dot:f.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:d};c=a.removePrefix(c,R),w=c.length;const b=[],z=[],ee=[];let M=S,L;const U=()=>R.index===w-1,j=R.peek=(W=1)=>c[R.index+W],F=R.advance=()=>c[++R.index]||"",q=()=>c.slice(R.index+1),Y=(W="",ne=0)=>{R.consumed+=W,R.index+=ne},J=W=>{R.output+=W.output!=null?W.output:W.value,Y(W.value)},re=()=>{let W=1;for(;j()==="!"&&(j(2)!=="("||j(3)==="?");)F(),R.start++,W++;return W%2===0?!1:(R.negated=!0,R.start++,!0)},se=W=>{R[W]++,ee.push(W)},Z=W=>{R[W]--,ee.pop()},A=W=>{if(M.type==="globstar"){const ne=R.braces>0&&(W.type==="comma"||W.type==="brace"),K=W.extglob===!0||b.length&&(W.type==="pipe"||W.type==="paren");W.type!=="slash"&&W.type!=="paren"&&!ne&&!K&&(R.output=R.output.slice(0,-M.output.length),M.type="star",M.value="*",M.output=H,R.output+=M.output)}if(b.length&&W.type!=="paren"&&(b[b.length-1].inner+=W.value),(W.value||W.output)&&J(W),M&&M.type==="text"&&W.type==="text"){M.value+=W.value,M.output=(M.output||"")+W.value;return}W.prev=M,d.push(W),M=W},X=(W,ne)=>{const K={...v[ne],conditions:1,inner:""};K.prev=M,K.parens=R.parens,K.output=R.output;const te=(f.capture?"(":"")+K.open;se("parens"),A({type:W,value:ne,output:R.output?"":T}),A({type:"paren",extglob:!0,value:F(),output:te}),b.push(K)},Q=W=>{let ne=W.close+(f.capture?")":""),K;if(W.type==="negate"){let te=H;if(W.inner&&W.inner.length>1&&W.inner.includes("/")&&(te=B(f)),(te!==H||U()||/^\)+$/.test(q()))&&(ne=W.close=`)$))${te}`),W.inner.includes("*")&&(K=q())&&/^\.[^\\/.]+$/.test(K)){const ie=u(K,{...y,fastpaths:!1}).output;ne=W.close=`)${ie})${te})`}W.prev.type==="bos"&&(R.negatedExtglob=!0)}A({type:"paren",extglob:!0,value:L,output:ne}),Z("parens")};if(f.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(c)){let W=!1,ne=c.replace(t,(K,te,ie,ae,ue,fe)=>ae==="\\"?(W=!0,K):ae==="?"?te?te+ae+(ue?N.repeat(ue.length):""):fe===0?V+(ue?N.repeat(ue.length):""):N.repeat(ie.length):ae==="."?_.repeat(ie.length):ae==="*"?te?te+ae+(ue?H:""):H:te?K:`\\${K}`);return W===!0&&(f.unescape===!0?ne=ne.replace(/\\/g,""):ne=ne.replace(/\\+/g,K=>K.length%2===0?"\\\\":K?"\\":"")),ne===c&&f.contains===!0?(R.output=c,R):(R.output=a.wrapOutput(ne,R,y),R)}for(;!U();){if(L=F(),L==="\0")continue;if(L==="\\"){const K=j();if(K==="/"&&f.bash!==!0||K==="."||K===";")continue;if(!K){L+="\\",A({type:"text",value:L});continue}const te=/^\\+/.exec(q());let ie=0;if(te&&te[0].length>2&&(ie=te[0].length,R.index+=ie,ie%2!==0&&(L+="\\")),f.unescape===!0?L=F():L+=F(),R.brackets===0){A({type:"text",value:L});continue}}if(R.brackets>0&&(L!=="]"||M.value==="["||M.value==="[^")){if(f.posix!==!1&&L===":"){const K=M.value.slice(1);if(K.includes("[")&&(M.posix=!0,K.includes(":"))){const te=M.value.lastIndexOf("["),ie=M.value.slice(0,te),ae=M.value.slice(te+2),ue=l[ae];if(ue){M.value=ie+ue,R.backtrack=!0,F(),!S.output&&d.indexOf(M)===1&&(S.output=T);continue}}}(L==="["&&j()!==":"||L==="-"&&j()==="]")&&(L=`\\${L}`),L==="]"&&(M.value==="["||M.value==="[^")&&(L=`\\${L}`),f.posix===!0&&L==="!"&&M.value==="["&&(L="^"),M.value+=L,J({value:L});continue}if(R.quotes===1&&L!=='"'){L=a.escapeRegex(L),M.value+=L,J({value:L});continue}if(L==='"'){R.quotes=R.quotes===1?0:1,f.keepQuotes===!0&&A({type:"text",value:L});continue}if(L==="("){se("parens"),A({type:"paren",value:L});continue}if(L===")"){if(R.parens===0&&f.strictBrackets===!0)throw new SyntaxError(s("opening","("));const K=b[b.length-1];if(K&&R.parens===K.parens+1){Q(b.pop());continue}A({type:"paren",value:L,output:R.parens?")":"\\)"}),Z("parens");continue}if(L==="["){if(f.nobracket===!0||!q().includes("]")){if(f.nobracket!==!0&&f.strictBrackets===!0)throw new SyntaxError(s("closing","]"));L=`\\${L}`}else se("brackets");A({type:"bracket",value:L});continue}if(L==="]"){if(f.nobracket===!0||M&&M.type==="bracket"&&M.value.length===1){A({type:"text",value:L,output:`\\${L}`});continue}if(R.brackets===0){if(f.strictBrackets===!0)throw new SyntaxError(s("opening","["));A({type:"text",value:L,output:`\\${L}`});continue}Z("brackets");const K=M.value.slice(1);if(M.posix!==!0&&K[0]==="^"&&!K.includes("/")&&(L=`/${L}`),M.value+=L,J({value:L}),f.literalBrackets===!1||a.hasRegexChars(K))continue;const te=a.escapeRegex(M.value);if(R.output=R.output.slice(0,-M.value.length),f.literalBrackets===!0){R.output+=te,M.value=te;continue}M.value=`(${m}${te}|${M.value})`,R.output+=M.value;continue}if(L==="{"&&f.nobrace!==!0){se("braces");const K={type:"brace",value:L,output:"(",outputIndex:R.output.length,tokensIndex:R.tokens.length};z.push(K),A(K);continue}if(L==="}"){const K=z[z.length-1];if(f.nobrace===!0||!K){A({type:"text",value:L,output:L});continue}let te=")";if(K.dots===!0){const ie=d.slice(),ae=[];for(let ue=ie.length-1;ue>=0&&(d.pop(),ie[ue].type!=="brace");ue--)ie[ue].type!=="dots"&&ae.unshift(ie[ue].value);te=r(ae,f),R.backtrack=!0}if(K.comma!==!0&&K.dots!==!0){const ie=R.output.slice(0,K.outputIndex),ae=R.tokens.slice(K.tokensIndex);K.value=K.output="\\{",L=te="\\}",R.output=ie;for(const ue of ae)R.output+=ue.output||ue.value}A({type:"brace",value:L,output:te}),Z("braces"),z.pop();continue}if(L==="|"){b.length>0&&b[b.length-1].conditions++,A({type:"text",value:L});continue}if(L===","){let K=L;const te=z[z.length-1];te&&ee[ee.length-1]==="braces"&&(te.comma=!0,K="|"),A({type:"comma",value:L,output:K});continue}if(L==="/"){if(M.type==="dot"&&R.index===R.start+1){R.start=R.index+1,R.consumed="",R.output="",d.pop(),M=S;continue}A({type:"slash",value:L,output:p});continue}if(L==="."){if(R.braces>0&&M.type==="dot"){M.value==="."&&(M.output=_);const K=z[z.length-1];M.type="dots",M.output+=L,M.value+=L,K.dots=!0;continue}if(R.braces+R.parens===0&&M.type!=="bos"&&M.type!=="slash"){A({type:"text",value:L,output:_});continue}A({type:"dot",value:L,output:_});continue}if(L==="?"){if(!(M&&M.value==="(")&&f.noextglob!==!0&&j()==="("&&j(2)!=="?"){X("qmark",L);continue}if(M&&M.type==="paren"){const te=j();let ie=L;if(te==="<"&&!a.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(M.value==="("&&!/[!=<:]/.test(te)||te==="<"&&!/<([!=]|\w+>)/.test(q()))&&(ie=`\\${L}`),A({type:"text",value:L,output:ie});continue}if(f.dot!==!0&&(M.type==="slash"||M.type==="bos")){A({type:"qmark",value:L,output:$});continue}A({type:"qmark",value:L,output:N});continue}if(L==="!"){if(f.noextglob!==!0&&j()==="("&&(j(2)!=="?"||!/[!=<:]/.test(j(3)))){X("negate",L);continue}if(f.nonegate!==!0&&R.index===0){re();continue}}if(L==="+"){if(f.noextglob!==!0&&j()==="("&&j(2)!=="?"){X("plus",L);continue}if(M&&M.value==="("||f.regex===!1){A({type:"plus",value:L,output:g});continue}if(M&&(M.type==="bracket"||M.type==="paren"||M.type==="brace")||R.parens>0){A({type:"plus",value:L});continue}A({type:"plus",value:g});continue}if(L==="@"){if(f.noextglob!==!0&&j()==="("&&j(2)!=="?"){A({type:"at",extglob:!0,value:L,output:""});continue}A({type:"text",value:L});continue}if(L!=="*"){(L==="$"||L==="^")&&(L=`\\${L}`);const K=i.exec(q());K&&(L+=K[0],R.index+=K[0].length),A({type:"text",value:L});continue}if(M&&(M.type==="globstar"||M.star===!0)){M.type="star",M.star=!0,M.value+=L,M.output=H,R.backtrack=!0,R.globstar=!0,Y(L);continue}let W=q();if(f.noextglob!==!0&&/^\([^?]/.test(W)){X("star",L);continue}if(M.type==="star"){if(f.noglobstar===!0){Y(L);continue}const K=M.prev,te=K.prev,ie=K.type==="slash"||K.type==="bos",ae=te&&(te.type==="star"||te.type==="globstar");if(f.bash===!0&&(!ie||W[0]&&W[0]!=="/")){A({type:"star",value:L,output:""});continue}const ue=R.braces>0&&(K.type==="comma"||K.type==="brace"),fe=b.length&&(K.type==="pipe"||K.type==="paren");if(!ie&&K.type!=="paren"&&!ue&&!fe){A({type:"star",value:L,output:""});continue}for(;W.slice(0,3)==="/**";){const _e=c[R.index+4];if(_e&&_e!=="/")break;W=W.slice(3),Y("/**",3)}if(K.type==="bos"&&U()){M.type="globstar",M.value+=L,M.output=B(f),R.output=M.output,R.globstar=!0,Y(L);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&!ae&&U()){R.output=R.output.slice(0,-(K.output+M.output).length),K.output=`(?:${K.output}`,M.type="globstar",M.output=B(f)+(f.strictSlashes?")":"|$)"),M.value+=L,R.globstar=!0,R.output+=K.output+M.output,Y(L);continue}if(K.type==="slash"&&K.prev.type!=="bos"&&W[0]==="/"){const _e=W[1]!==void 0?"|$":"";R.output=R.output.slice(0,-(K.output+M.output).length),K.output=`(?:${K.output}`,M.type="globstar",M.output=`${B(f)}${p}|${p}${_e})`,M.value+=L,R.output+=K.output+M.output,R.globstar=!0,Y(L+F()),A({type:"slash",value:"/",output:""});continue}if(K.type==="bos"&&W[0]==="/"){M.type="globstar",M.value+=L,M.output=`(?:^|${p}|${B(f)}${p})`,R.output=M.output,R.globstar=!0,Y(L+F()),A({type:"slash",value:"/",output:""});continue}R.output=R.output.slice(0,-M.output.length),M.type="globstar",M.output=B(f),M.value+=L,R.output+=M.output,R.globstar=!0,Y(L);continue}const ne={type:"star",value:L,output:H};if(f.bash===!0){ne.output=".*?",(M.type==="bos"||M.type==="slash")&&(ne.output=G+ne.output),A(ne);continue}if(M&&(M.type==="bracket"||M.type==="paren")&&f.regex===!0){ne.output=L,A(ne);continue}(R.index===R.start||M.type==="slash"||M.type==="dot")&&(M.type==="dot"?(R.output+=x,M.output+=x):f.dot===!0?(R.output+=k,M.output+=k):(R.output+=G,M.output+=G),j()!=="*"&&(R.output+=T,M.output+=T)),A(ne)}for(;R.brackets>0;){if(f.strictBrackets===!0)throw new SyntaxError(s("closing","]"));R.output=a.escapeLast(R.output,"["),Z("brackets")}for(;R.parens>0;){if(f.strictBrackets===!0)throw new SyntaxError(s("closing",")"));R.output=a.escapeLast(R.output,"("),Z("parens")}for(;R.braces>0;){if(f.strictBrackets===!0)throw new SyntaxError(s("closing","}"));R.output=a.escapeLast(R.output,"{"),Z("braces")}if(f.strictSlashes!==!0&&(M.type==="star"||M.type==="bracket")&&A({type:"maybe_slash",value:"",output:`${p}?`}),R.backtrack===!0){R.output="";for(const W of R.tokens)R.output+=W.output!=null?W.output:W.value,W.suffix&&(R.output+=W.suffix)}return R};return u.fastpaths=(c,y)=>{const f={...y},O=typeof f.maxLength=="number"?Math.min(o,f.maxLength):o,w=c.length;if(w>O)throw new SyntaxError(`Input length: ${w}, exceeds maximum allowed length: ${O}`);c=e[c]||c;const S=a.isWindows(y),{DOT_LITERAL:d,SLASH_LITERAL:m,ONE_CHAR:E,DOTS_SLASH:h,NO_DOT:v,NO_DOTS:_,NO_DOTS_SLASH:g,STAR:p,START_ANCHOR:T}=n.globChars(S),P=f.dot?_:v,I=f.dot?g:v,x=f.capture?"":"?:",k={negated:!1,prefix:""};let N=f.bash===!0?".*?":p;f.capture&&(N=`(${N})`);const $=G=>G.noglobstar===!0?N:`(${x}(?:(?!${T}${G.dot?h:d}).)*?)`,C=G=>{switch(G){case"*":return`${P}${E}${N}`;case".*":return`${d}${E}${N}`;case"*.*":return`${P}${N}${d}${E}${N}`;case"*/*":return`${P}${N}${m}${E}${I}${N}`;case"**":return P+$(f);case"**/*":return`(?:${P}${$(f)}${m})?${I}${E}${N}`;case"**/*.*":return`(?:${P}${$(f)}${m})?${I}${N}${d}${E}${N}`;case"**/.*":return`(?:${P}${$(f)}${m})?${d}${E}${N}`;default:{const V=/^(.*?)\.(\w+)$/.exec(G);if(!V)return;const H=C(V[1]);return H?H+d+V[2]:void 0}}},D=a.removePrefix(c,k);let B=C(D);return B&&f.strictSlashes!==!0&&(B+=`${m}?`),B},_n=u,_n}var yn,Qs;function hh(){if(Qs)return yn;Qs=1;const n=ce,a=ch(),o=lh(),l=qt(),i=Mt(),t=r=>r&&typeof r=="object"&&!Array.isArray(r),e=(r,s,u=!1)=>{if(Array.isArray(r)){const m=r.map(h=>e(h,s,u));return h=>{for(const v of m){const _=v(h);if(_)return _}return!1}}const c=t(r)&&r.tokens&&r.input;if(r===""||typeof r!="string"&&!c)throw new TypeError("Expected pattern to be a non-empty string");const y=s||{},f=l.isWindows(s),O=c?e.compileRe(r,s):e.makeRe(r,s,!1,!0),w=O.state;delete O.state;let S=()=>!1;if(y.ignore){const m={...s,ignore:null,onMatch:null,onResult:null};S=e(y.ignore,m,u)}const d=(m,E=!1)=>{const{isMatch:h,match:v,output:_}=e.test(m,O,s,{glob:r,posix:f}),g={glob:r,state:w,regex:O,posix:f,input:m,output:_,match:v,isMatch:h};return typeof y.onResult=="function"&&y.onResult(g),h===!1?(g.isMatch=!1,E?g:!1):S(m)?(typeof y.onIgnore=="function"&&y.onIgnore(g),g.isMatch=!1,E?g:!1):(typeof y.onMatch=="function"&&y.onMatch(g),E?g:!0)};return u&&(d.state=w),d};return e.test=(r,s,u,{glob:c,posix:y}={})=>{if(typeof r!="string")throw new TypeError("Expected input to be a string");if(r==="")return{isMatch:!1,output:""};const f=u||{},O=f.format||(y?l.toPosixSlashes:null);let w=r===c,S=w&&O?O(r):r;return w===!1&&(S=O?O(r):r,w=S===c),(w===!1||f.capture===!0)&&(f.matchBase===!0||f.basename===!0?w=e.matchBase(r,s,u,y):w=s.exec(S)),{isMatch:!!w,match:w,output:S}},e.matchBase=(r,s,u,c=l.isWindows(u))=>(s instanceof RegExp?s:e.makeRe(s,u)).test(n.basename(r)),e.isMatch=(r,s,u)=>e(s,u)(r),e.parse=(r,s)=>Array.isArray(r)?r.map(u=>e.parse(u,s)):o(r,{...s,fastpaths:!1}),e.scan=(r,s)=>a(r,s),e.compileRe=(r,s,u=!1,c=!1)=>{if(u===!0)return r.output;const y=s||{},f=y.contains?"":"^",O=y.contains?"":"$";let w=`${f}(?:${r.output})${O}`;r&&r.negated===!0&&(w=`^(?!${w}).*$`);const S=e.toRegex(w,s);return c===!0&&(S.state=r),S},e.makeRe=(r,s={},u=!1,c=!1)=>{if(!r||typeof r!="string")throw new TypeError("Expected a non-empty string");let y={negated:!1,fastpaths:!0};return s.fastpaths!==!1&&(r[0]==="."||r[0]==="*")&&(y.output=o.fastpaths(r,s)),y.output||(y=o(r,s)),e.compileRe(y,s,u,c)},e.toRegex=(r,s)=>{try{const u=s||{};return new RegExp(r,u.flags||(u.nocase?"i":""))}catch(u){if(s&&s.debug===!0)throw u;return/$^/}},e.constants=i,yn=e,yn}var En,eo;function fh(){return eo||(eo=1,En=hh()),En}var gn,to;function dh(){if(to)return gn;to=1;const n=$t,a=uh(),o=fh(),l=qt(),i=r=>r===""||r==="./",t=r=>{const s=r.indexOf("{");return s>-1&&r.indexOf("}",s)>-1},e=(r,s,u)=>{s=[].concat(s),r=[].concat(r);let c=new Set,y=new Set,f=new Set,O=0,w=m=>{f.add(m.output),u&&u.onResult&&u.onResult(m)};for(let m=0;m<s.length;m++){let E=o(String(s[m]),{...u,onResult:w},!0),h=E.state.negated||E.state.negatedExtglob;h&&O++;for(let v of r){let _=E(v,!0);(h?!_.isMatch:_.isMatch)&&(h?c.add(_.output):(c.delete(_.output),y.add(_.output)))}}let d=(O===s.length?[...f]:[...y]).filter(m=>!c.has(m));if(u&&d.length===0){if(u.failglob===!0)throw new Error(`No matches found for "${s.join(", ")}"`);if(u.nonull===!0||u.nullglob===!0)return u.unescape?s.map(m=>m.replace(/\\/g,"")):s}return d};return e.match=e,e.matcher=(r,s)=>o(r,s),e.isMatch=(r,s,u)=>o(s,u)(r),e.any=e.isMatch,e.not=(r,s,u={})=>{s=[].concat(s).map(String);let c=new Set,y=[],f=w=>{u.onResult&&u.onResult(w),y.push(w.output)},O=new Set(e(r,s,{...u,onResult:f}));for(let w of y)O.has(w)||c.add(w);return[...c]},e.contains=(r,s,u)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${n.inspect(r)}"`);if(Array.isArray(s))return s.some(c=>e.contains(r,c,u));if(typeof s=="string"){if(i(r)||i(s))return!1;if(r.includes(s)||r.startsWith("./")&&r.slice(2).includes(s))return!0}return e.isMatch(r,s,{...u,contains:!0})},e.matchKeys=(r,s,u)=>{if(!l.isObject(r))throw new TypeError("Expected the first argument to be an object");let c=e(Object.keys(r),s,u),y={};for(let f of c)y[f]=r[f];return y},e.some=(r,s,u)=>{let c=[].concat(r);for(let y of[].concat(s)){let f=o(String(y),u);if(c.some(O=>f(O)))return!0}return!1},e.every=(r,s,u)=>{let c=[].concat(r);for(let y of[].concat(s)){let f=o(String(y),u);if(!c.every(O=>f(O)))return!1}return!0},e.all=(r,s,u)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${n.inspect(r)}"`);return[].concat(s).every(c=>o(c,u)(r))},e.capture=(r,s,u)=>{let c=l.isWindows(u),f=o.makeRe(String(r),{...u,capture:!0}).exec(c?l.toPosixSlashes(s):s);if(f)return f.slice(1).map(O=>O===void 0?"":O)},e.makeRe=(...r)=>o.makeRe(...r),e.scan=(...r)=>o.scan(...r),e.parse=(r,s)=>{let u=[];for(let c of[].concat(r||[]))for(let y of a(String(c),s))u.push(o.parse(y,s));return u},e.braces=(r,s)=>{if(typeof r!="string")throw new TypeError("Expected a string");return s&&s.nobrace===!0||!t(r)?[r]:a(r,s)},e.braceExpand=(r,s)=>{if(typeof r!="string")throw new TypeError("Expected a string");return e.braces(r,{...s,expand:!0})},e.hasBraces=t,gn=e,gn}var ro;function ph(){if(ro)return oe;ro=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.isAbsolute=oe.partitionAbsoluteAndRelative=oe.removeDuplicateSlashes=oe.matchAny=oe.convertPatternsToRe=oe.makeRe=oe.getPatternParts=oe.expandBraceExpansion=oe.expandPatternsWithBraceExpansion=oe.isAffectDepthOfReadingPattern=oe.endsWithSlashGlobStar=oe.hasGlobStar=oe.getBaseDirectory=oe.isPatternRelatedToParentDirectory=oe.getPatternsOutsideCurrentDirectory=oe.getPatternsInsideCurrentDirectory=oe.getPositivePatterns=oe.getNegativePatterns=oe.isPositivePattern=oe.isNegativePattern=oe.convertToNegativePattern=oe.convertToPositivePattern=oe.isDynamicPattern=oe.isStaticPattern=void 0;const n=ce,a=th(),o=dh(),l="**",i="\\",t=/[*?]|^!/,e=/\[[^[]*]/,r=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,s=/[!*+?@]\([^(]*\)/,u=/,|\.\./,c=/(?!^)\/{2,}/g;function y(H,R={}){return!f(H,R)}oe.isStaticPattern=y;function f(H,R={}){return H===""?!1:!!(R.caseSensitiveMatch===!1||H.includes(i)||t.test(H)||e.test(H)||r.test(H)||R.extglob!==!1&&s.test(H)||R.braceExpansion!==!1&&O(H))}oe.isDynamicPattern=f;function O(H){const R=H.indexOf("{");if(R===-1)return!1;const b=H.indexOf("}",R+1);if(b===-1)return!1;const z=H.slice(R,b);return u.test(z)}function w(H){return d(H)?H.slice(1):H}oe.convertToPositivePattern=w;function S(H){return"!"+H}oe.convertToNegativePattern=S;function d(H){return H.startsWith("!")&&H[1]!=="("}oe.isNegativePattern=d;function m(H){return!d(H)}oe.isPositivePattern=m;function E(H){return H.filter(d)}oe.getNegativePatterns=E;function h(H){return H.filter(m)}oe.getPositivePatterns=h;function v(H){return H.filter(R=>!g(R))}oe.getPatternsInsideCurrentDirectory=v;function _(H){return H.filter(g)}oe.getPatternsOutsideCurrentDirectory=_;function g(H){return H.startsWith("..")||H.startsWith("./..")}oe.isPatternRelatedToParentDirectory=g;function p(H){return a(H,{flipBackslashes:!1})}oe.getBaseDirectory=p;function T(H){return H.includes(l)}oe.hasGlobStar=T;function P(H){return H.endsWith("/"+l)}oe.endsWithSlashGlobStar=P;function I(H){const R=n.basename(H);return P(H)||y(R)}oe.isAffectDepthOfReadingPattern=I;function x(H){return H.reduce((R,b)=>R.concat(k(b)),[])}oe.expandPatternsWithBraceExpansion=x;function k(H){const R=o.braces(H,{expand:!0,nodupes:!0,keepEscaping:!0});return R.sort((b,z)=>b.length-z.length),R.filter(b=>b!=="")}oe.expandBraceExpansion=k;function N(H,R){let{parts:b}=o.scan(H,Object.assign(Object.assign({},R),{parts:!0}));return b.length===0&&(b=[H]),b[0].startsWith("/")&&(b[0]=b[0].slice(1),b.unshift("")),b}oe.getPatternParts=N;function $(H,R){return o.makeRe(H,R)}oe.makeRe=$;function C(H,R){return H.map(b=>$(b,R))}oe.convertPatternsToRe=C;function D(H,R){return R.some(b=>b.test(H))}oe.matchAny=D;function B(H){return H.replace(c,"/")}oe.removeDuplicateSlashes=B;function G(H){const R=[],b=[];for(const z of H)V(z)?R.push(z):b.push(z);return[R,b]}oe.partitionAbsoluteAndRelative=G;function V(H){return n.isAbsolute(H)}return oe.isAbsolute=V,oe}var Ye={},vn,no;function mh(){if(no)return vn;no=1;const a=xe.PassThrough,o=Array.prototype.slice;vn=l;function l(){const t=[],e=o.call(arguments);let r=!1,s=e[e.length-1];s&&!Array.isArray(s)&&s.pipe==null?e.pop():s={};const u=s.end!==!1,c=s.pipeError===!0;s.objectMode==null&&(s.objectMode=!0),s.highWaterMark==null&&(s.highWaterMark=64*1024);const y=a(s);function f(){for(let S=0,d=arguments.length;S<d;S++)t.push(i(arguments[S],s));return O(),this}function O(){if(r)return;r=!0;let S=t.shift();if(!S){process.nextTick(w);return}Array.isArray(S)||(S=[S]);let d=S.length+1;function m(){--d>0||(r=!1,O())}function E(h){function v(){h.removeListener("merge2UnpipeEnd",v),h.removeListener("end",v),c&&h.removeListener("error",_),m()}function _(g){y.emit("error",g)}if(h._readableState.endEmitted)return m();h.on("merge2UnpipeEnd",v),h.on("end",v),c&&h.on("error",_),h.pipe(y,{end:!1}),h.resume()}for(let h=0;h<S.length;h++)E(S[h]);m()}function w(){r=!1,y.emit("queueDrain"),u&&y.end()}return y.setMaxListeners(0),y.add=f,y.on("unpipe",function(S){S.emit("merge2UnpipeEnd")}),e.length&&f.apply(null,e),y}function i(t,e){if(Array.isArray(t))for(let r=0,s=t.length;r<s;r++)t[r]=i(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(a(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}return vn}var io;function _h(){if(io)return Ye;io=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.merge=void 0;const n=mh();function a(l){const i=n(l);return l.forEach(t=>{t.once("error",e=>i.emit("error",e))}),i.once("close",()=>o(l)),i.once("end",()=>o(l)),i}Ye.merge=a;function o(l){l.forEach(i=>i.emit("close"))}return Ye}var $e={},so;function yh(){if(so)return $e;so=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.isEmpty=$e.isString=void 0;function n(o){return typeof o=="string"}$e.isString=n;function a(o){return o===""}return $e.isEmpty=a,$e}var oo;function De(){if(oo)return me;oo=1,Object.defineProperty(me,"__esModule",{value:!0}),me.string=me.stream=me.pattern=me.path=me.fs=me.errno=me.array=void 0;const n=Kl();me.array=n;const a=Xl();me.errno=a;const o=Zl();me.fs=o;const l=Jl();me.path=l;const i=ph();me.pattern=i;const t=_h();me.stream=t;const e=yh();return me.string=e,me}var ao;function Eh(){if(ao)return pe;ao=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.convertPatternGroupToTask=pe.convertPatternGroupsToTasks=pe.groupPatternsByBaseDirectory=pe.getNegativePatternsAsPositive=pe.getPositivePatterns=pe.convertPatternsToTasks=pe.generate=void 0;const n=De();function a(u,c){const y=o(u,c),f=o(c.ignore,c),O=i(y),w=t(y,f),S=O.filter(h=>n.pattern.isStaticPattern(h,c)),d=O.filter(h=>n.pattern.isDynamicPattern(h,c)),m=l(S,w,!1),E=l(d,w,!0);return m.concat(E)}pe.generate=a;function o(u,c){let y=u;return c.braceExpansion&&(y=n.pattern.expandPatternsWithBraceExpansion(y)),c.baseNameMatch&&(y=y.map(f=>f.includes("/")?f:`**/${f}`)),y.map(f=>n.pattern.removeDuplicateSlashes(f))}function l(u,c,y){const f=[],O=n.pattern.getPatternsOutsideCurrentDirectory(u),w=n.pattern.getPatternsInsideCurrentDirectory(u),S=e(O),d=e(w);return f.push(...r(S,c,y)),"."in d?f.push(s(".",w,c,y)):f.push(...r(d,c,y)),f}pe.convertPatternsToTasks=l;function i(u){return n.pattern.getPositivePatterns(u)}pe.getPositivePatterns=i;function t(u,c){return n.pattern.getNegativePatterns(u).concat(c).map(n.pattern.convertToPositivePattern)}pe.getNegativePatternsAsPositive=t;function e(u){const c={};return u.reduce((y,f)=>{const O=n.pattern.getBaseDirectory(f);return O in y?y[O].push(f):y[O]=[f],y},c)}pe.groupPatternsByBaseDirectory=e;function r(u,c,y){return Object.keys(u).map(f=>s(f,u[f],c,y))}pe.convertPatternGroupsToTasks=r;function s(u,c,y,f){return{dynamic:f,positive:c,negative:y,base:u,patterns:[].concat(c,y.map(n.pattern.convertToNegativePattern))}}return pe.convertPatternGroupToTask=s,pe}var at={},ut={},Se={},ct={},lt={},Oe={},Ae={},Te={},Ke={},uo;function gh(){if(uo)return Ke;uo=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.read=void 0;function n(l,i,t){i.fs.lstat(l,(e,r)=>{if(e!==null){a(t,e);return}if(!r.isSymbolicLink()||!i.followSymbolicLink){o(t,r);return}i.fs.stat(l,(s,u)=>{if(s!==null){if(i.throwErrorOnBrokenSymbolicLink){a(t,s);return}o(t,r);return}i.markSymbolicLink&&(u.isSymbolicLink=()=>!0),o(t,u)})})}Ke.read=n;function a(l,i){l(i)}function o(l,i){l(null,i)}return Ke}var Xe={},co;function vh(){if(co)return Xe;co=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.read=void 0;function n(a,o){const l=o.fs.lstatSync(a);if(!l.isSymbolicLink()||!o.followSymbolicLink)return l;try{const i=o.fs.statSync(a);return o.markSymbolicLink&&(i.isSymbolicLink=()=>!0),i}catch(i){if(!o.throwErrorOnBrokenSymbolicLink)return l;throw i}}return Xe.read=n,Xe}var ht={},Sn={},lo;function Sh(){return lo||(lo=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const a=ye;n.FILE_SYSTEM_ADAPTER={lstat:a.lstat,stat:a.stat,lstatSync:a.lstatSync,statSync:a.statSync};function o(l){return l===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),l)}n.createFileSystemAdapter=o}(Sn)),Sn}var ho;function Rh(){if(ho)return ht;ho=1,Object.defineProperty(ht,"__esModule",{value:!0});const n=Sh();class a{constructor(l={}){this._options=l,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=n.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(l,i){return l??i}}return ht.default=a,ht}var fo;function Ge(){if(fo)return Te;fo=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.statSync=Te.stat=Te.Settings=void 0;const n=gh(),a=vh(),o=Rh();Te.Settings=o.default;function l(e,r,s){if(typeof r=="function"){n.read(e,t(),r);return}n.read(e,t(r),s)}Te.stat=l;function i(e,r){const s=t(r);return a.read(e,s)}Te.statSync=i;function t(e={}){return e instanceof o.default?e:new o.default(e)}return Te}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Rn,po;function wh(){if(po)return Rn;po=1;let n;return Rn=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Ie):a=>(n||(n=Promise.resolve())).then(a).catch(o=>setTimeout(()=>{throw o},0)),Rn}/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var wn,mo;function Oh(){if(mo)return wn;mo=1,wn=a;const n=wh();function a(o,l){let i,t,e,r=!0;Array.isArray(o)?(i=[],t=o.length):(e=Object.keys(o),i={},t=e.length);function s(c){function y(){l&&l(c,i),l=null}r?n(y):y()}function u(c,y,f){i[c]=f,(--t===0||y)&&s(y)}t?e?e.forEach(function(c){o[c](function(y,f){u(c,y,f)})}):o.forEach(function(c,y){c(function(f,O){u(y,f,O)})}):s(null),r=!1}return wn}var Ze={},_o;function qa(){if(_o)return Ze;_o=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const n=process.versions.node.split(".");if(n[0]===void 0||n[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const a=Number.parseInt(n[0],10),o=Number.parseInt(n[1],10),l=10,i=10,t=a>l,e=a===l&&o>=i;return Ze.IS_SUPPORT_READDIR_WITH_FILE_TYPES=t||e,Ze}var Je={},Qe={},yo;function Ah(){if(yo)return Qe;yo=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.createDirentFromStats=void 0;class n{constructor(l,i){this.name=l,this.isBlockDevice=i.isBlockDevice.bind(i),this.isCharacterDevice=i.isCharacterDevice.bind(i),this.isDirectory=i.isDirectory.bind(i),this.isFIFO=i.isFIFO.bind(i),this.isFile=i.isFile.bind(i),this.isSocket=i.isSocket.bind(i),this.isSymbolicLink=i.isSymbolicLink.bind(i)}}function a(o,l){return new n(o,l)}return Qe.createDirentFromStats=a,Qe}var Eo;function Ba(){if(Eo)return Je;Eo=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.fs=void 0;const n=Ah();return Je.fs=n,Je}var et={},go;function Ha(){if(go)return et;go=1,Object.defineProperty(et,"__esModule",{value:!0}),et.joinPathSegments=void 0;function n(a,o,l){return a.endsWith(l)?a+o:a+l+o}return et.joinPathSegments=n,et}var vo;function Th(){if(vo)return Ae;vo=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.readdir=Ae.readdirWithFileTypes=Ae.read=void 0;const n=Ge(),a=Oh(),o=qa(),l=Ba(),i=Ha();function t(y,f,O){if(!f.stats&&o.IS_SUPPORT_READDIR_WITH_FILE_TYPES){e(y,f,O);return}s(y,f,O)}Ae.read=t;function e(y,f,O){f.fs.readdir(y,{withFileTypes:!0},(w,S)=>{if(w!==null){u(O,w);return}const d=S.map(E=>({dirent:E,name:E.name,path:i.joinPathSegments(y,E.name,f.pathSegmentSeparator)}));if(!f.followSymbolicLinks){c(O,d);return}const m=d.map(E=>r(E,f));a(m,(E,h)=>{if(E!==null){u(O,E);return}c(O,h)})})}Ae.readdirWithFileTypes=e;function r(y,f){return O=>{if(!y.dirent.isSymbolicLink()){O(null,y);return}f.fs.stat(y.path,(w,S)=>{if(w!==null){if(f.throwErrorOnBrokenSymbolicLink){O(w);return}O(null,y);return}y.dirent=l.fs.createDirentFromStats(y.name,S),O(null,y)})}}function s(y,f,O){f.fs.readdir(y,(w,S)=>{if(w!==null){u(O,w);return}const d=S.map(m=>{const E=i.joinPathSegments(y,m,f.pathSegmentSeparator);return h=>{n.stat(E,f.fsStatSettings,(v,_)=>{if(v!==null){h(v);return}const g={name:m,path:E,dirent:l.fs.createDirentFromStats(m,_)};f.stats&&(g.stats=_),h(null,g)})}});a(d,(m,E)=>{if(m!==null){u(O,m);return}c(O,E)})})}Ae.readdir=s;function u(y,f){y(f)}function c(y,f){y(null,f)}return Ae}var Pe={},So;function Ph(){if(So)return Pe;So=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.readdir=Pe.readdirWithFileTypes=Pe.read=void 0;const n=Ge(),a=qa(),o=Ba(),l=Ha();function i(r,s){return!s.stats&&a.IS_SUPPORT_READDIR_WITH_FILE_TYPES?t(r,s):e(r,s)}Pe.read=i;function t(r,s){return s.fs.readdirSync(r,{withFileTypes:!0}).map(c=>{const y={dirent:c,name:c.name,path:l.joinPathSegments(r,c.name,s.pathSegmentSeparator)};if(y.dirent.isSymbolicLink()&&s.followSymbolicLinks)try{const f=s.fs.statSync(y.path);y.dirent=o.fs.createDirentFromStats(y.name,f)}catch(f){if(s.throwErrorOnBrokenSymbolicLink)throw f}return y})}Pe.readdirWithFileTypes=t;function e(r,s){return s.fs.readdirSync(r).map(c=>{const y=l.joinPathSegments(r,c,s.pathSegmentSeparator),f=n.statSync(y,s.fsStatSettings),O={name:c,path:y,dirent:o.fs.createDirentFromStats(c,f)};return s.stats&&(O.stats=f),O})}return Pe.readdir=e,Pe}var ft={},On={},Ro;function bh(){return Ro||(Ro=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFileSystemAdapter=n.FILE_SYSTEM_ADAPTER=void 0;const a=ye;n.FILE_SYSTEM_ADAPTER={lstat:a.lstat,stat:a.stat,lstatSync:a.lstatSync,statSync:a.statSync,readdir:a.readdir,readdirSync:a.readdirSync};function o(l){return l===void 0?n.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},n.FILE_SYSTEM_ADAPTER),l)}n.createFileSystemAdapter=o}(On)),On}var wo;function Nh(){if(wo)return ft;wo=1,Object.defineProperty(ft,"__esModule",{value:!0});const n=ce,a=Ge(),o=bh();class l{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=o.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new a.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return t??e}}return ft.default=l,ft}var Oo;function ai(){if(Oo)return Oe;Oo=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Settings=Oe.scandirSync=Oe.scandir=void 0;const n=Th(),a=Ph(),o=Nh();Oe.Settings=o.default;function l(e,r,s){if(typeof r=="function"){n.read(e,t(),r);return}n.read(e,t(r),s)}Oe.scandir=l;function i(e,r){const s=t(r);return a.read(e,s)}Oe.scandirSync=i;function t(e={}){return e instanceof o.default?e:new o.default(e)}return Oe}var dt={exports:{}},An,Ao;function Lh(){if(Ao)return An;Ao=1;function n(a){var o=new a,l=o;function i(){var e=o;return e.next?o=e.next:(o=new a,l=o),e.next=null,e}function t(e){l.next=e,l=e}return{get:i,release:t}}return An=n,An}var To;function Ih(){if(To)return dt.exports;To=1;var n=Lh();function a(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var s=n(l),u=null,c=null,y=0,f=null,O={push:v,drain:o,saturated:o,pause:S,paused:!1,get concurrency(){return r},set concurrency(I){if(!(I>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=I,!O.paused)for(;u&&y<r;)y++,g()},running:w,resume:E,idle:h,length:d,getQueue:m,unshift:_,empty:o,kill:p,killAndDrain:T,error:P};return O;function w(){return y}function S(){O.paused=!0}function d(){for(var I=u,x=0;I;)I=I.next,x++;return x}function m(){for(var I=u,x=[];I;)x.push(I.value),I=I.next;return x}function E(){if(O.paused){if(O.paused=!1,u===null){y++,g();return}for(;u&&y<r;)y++,g()}}function h(){return y===0&&O.length()===0}function v(I,x){var k=s.get();k.context=t,k.release=g,k.value=I,k.callback=x||o,k.errorHandler=f,y>=r||O.paused?c?(c.next=k,c=k):(u=k,c=k,O.saturated()):(y++,e.call(t,k.value,k.worked))}function _(I,x){var k=s.get();k.context=t,k.release=g,k.value=I,k.callback=x||o,k.errorHandler=f,y>=r||O.paused?u?(k.next=u,u=k):(u=k,c=k,O.saturated()):(y++,e.call(t,k.value,k.worked))}function g(I){I&&s.release(I);var x=u;x&&y<=r?O.paused?y--:(c===u&&(c=null),u=x.next,x.next=null,e.call(t,x.value,x.worked),c===null&&O.empty()):--y===0&&O.drain()}function p(){u=null,c=null,O.drain=o}function T(){u=null,c=null,O.drain(),O.drain=o}function P(I){f=I}}function o(){}function l(){this.value=null,this.callback=o,this.next=null,this.release=o,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,s){var u=t.callback,c=t.errorHandler,y=t.value;t.value=null,t.callback=o,t.errorHandler&&c(r,y),u.call(t.context,r,s),t.release(t)}}function i(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function s(S,d){e.call(this,S).then(function(m){d(null,m)},d)}var u=a(t,s,r),c=u.push,y=u.unshift;return u.push=f,u.unshift=O,u.drained=w,u;function f(S){var d=new Promise(function(m,E){c(S,function(h,v){if(h){E(h);return}m(v)})});return d.catch(o),d}function O(S){var d=new Promise(function(m,E){y(S,function(h,v){if(h){E(h);return}m(v)})});return d.catch(o),d}function w(){var S=new Promise(function(d){process.nextTick(function(){if(u.idle())d();else{var m=u.drain;u.drain=function(){typeof m=="function"&&m(),d(),u.drain=m}}})});return S}}return dt.exports=a,dt.exports.promise=i,dt.exports}var Re={},Po;function ui(){if(Po)return Re;Po=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.joinPathSegments=Re.replacePathSegmentSeparator=Re.isAppliedFilter=Re.isFatalError=void 0;function n(i,t){return i.errorFilter===null?!0:!i.errorFilter(t)}Re.isFatalError=n;function a(i,t){return i===null||i(t)}Re.isAppliedFilter=a;function o(i,t){return i.split(/[/\\]/).join(t)}Re.replacePathSegmentSeparator=o;function l(i,t,e){return i===""?t:i.endsWith(e)?i+t:i+e+t}return Re.joinPathSegments=l,Re}var pt={},bo;function Ua(){if(bo)return pt;bo=1,Object.defineProperty(pt,"__esModule",{value:!0});const n=ui();class a{constructor(l,i){this._root=l,this._settings=i,this._root=n.replacePathSegmentSeparator(l,i.pathSegmentSeparator)}}return pt.default=a,pt}var No;function ja(){if(No)return lt;No=1,Object.defineProperty(lt,"__esModule",{value:!0});const n=Be,a=ai(),o=Ih(),l=ui(),i=Ua();class t extends i.default{constructor(r,s){super(r,s),this._settings=s,this._scandir=a.scandir,this._emitter=new n.EventEmitter,this._queue=o(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(r){this._emitter.on("entry",r)}onError(r){this._emitter.once("error",r)}onEnd(r){this._emitter.once("end",r)}_pushToQueue(r,s){const u={directory:r,base:s};this._queue.push(u,c=>{c!==null&&this._handleError(c)})}_worker(r,s){this._scandir(r.directory,this._settings.fsScandirSettings,(u,c)=>{if(u!==null){s(u,void 0);return}for(const y of c)this._handleEntry(y,r.base);s(null,void 0)})}_handleError(r){this._isDestroyed||!l.isFatalError(this._settings,r)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",r))}_handleEntry(r,s){if(this._isDestroyed||this._isFatalError)return;const u=r.path;s!==void 0&&(r.path=l.joinPathSegments(s,r.name,this._settings.pathSegmentSeparator)),l.isAppliedFilter(this._settings.entryFilter,r)&&this._emitEntry(r),r.dirent.isDirectory()&&l.isAppliedFilter(this._settings.deepFilter,r)&&this._pushToQueue(u,s===void 0?void 0:r.path)}_emitEntry(r){this._emitter.emit("entry",r)}}return lt.default=t,lt}var Lo;function Dh(){if(Lo)return ct;Lo=1,Object.defineProperty(ct,"__esModule",{value:!0});const n=ja();class a{constructor(t,e){this._root=t,this._settings=e,this._reader=new n.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(e=>{o(t,e)}),this._reader.onEntry(e=>{this._storage.push(e)}),this._reader.onEnd(()=>{l(t,this._storage)}),this._reader.read()}}ct.default=a;function o(i,t){i(t)}function l(i,t){i(null,t)}return ct}var mt={},Io;function Ch(){if(Io)return mt;Io=1,Object.defineProperty(mt,"__esModule",{value:!0});const n=xe,a=ja();class o{constructor(i,t){this._root=i,this._settings=t,this._reader=new a.default(this._root,this._settings),this._stream=new n.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(i=>{this._stream.emit("error",i)}),this._reader.onEntry(i=>{this._stream.push(i)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}return mt.default=o,mt}var _t={},yt={},Do;function $h(){if(Do)return yt;Do=1,Object.defineProperty(yt,"__esModule",{value:!0});const n=ai(),a=ui(),o=Ua();class l extends o.default{constructor(){super(...arguments),this._scandir=n.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const r=this._scandir(t,this._settings.fsScandirSettings);for(const s of r)this._handleEntry(s,e)}catch(r){this._handleError(r)}}_handleError(t){if(a.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const r=t.path;e!==void 0&&(t.path=a.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),a.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&a.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,e===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}}return yt.default=l,yt}var Co;function xh(){if(Co)return _t;Co=1,Object.defineProperty(_t,"__esModule",{value:!0});const n=$h();class a{constructor(l,i){this._root=l,this._settings=i,this._reader=new n.default(this._root,this._settings)}read(){return this._reader.read()}}return _t.default=a,_t}var Et={},$o;function Fh(){if($o)return Et;$o=1,Object.defineProperty(Et,"__esModule",{value:!0});const n=ce,a=ai();class o{constructor(i={}){this._options=i,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.fsScandirSettings=new a.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(i,t){return i??t}}return Et.default=o,Et}var xo;function ci(){if(xo)return Se;xo=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.Settings=Se.walkStream=Se.walkSync=Se.walk=void 0;const n=Dh(),a=Ch(),o=xh(),l=Fh();Se.Settings=l.default;function i(s,u,c){if(typeof u=="function"){new n.default(s,r()).read(u);return}new n.default(s,r(u)).read(c)}Se.walk=i;function t(s,u){const c=r(u);return new o.default(s,c).read()}Se.walkSync=t;function e(s,u){const c=r(u);return new a.default(s,c).read()}Se.walkStream=e;function r(s={}){return s instanceof l.default?s:new l.default(s)}return Se}var gt={},Fo;function li(){if(Fo)return gt;Fo=1,Object.defineProperty(gt,"__esModule",{value:!0});const n=ce,a=Ge(),o=De();class l{constructor(t){this._settings=t,this._fsStatSettings=new a.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return n.resolve(this._settings.cwd,t)}_makeEntry(t,e){const r={name:e,path:e,dirent:o.fs.createDirentFromStats(e,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!o.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}}return gt.default=l,gt}var vt={},ko;function Ga(){if(ko)return vt;ko=1,Object.defineProperty(vt,"__esModule",{value:!0});const n=xe,a=Ge(),o=ci(),l=li();class i extends l.default{constructor(){super(...arguments),this._walkStream=o.walkStream,this._stat=a.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){const s=e.map(this._getFullEntryPath,this),u=new n.PassThrough({objectMode:!0});u._write=(c,y,f)=>this._getEntry(s[c],e[c],r).then(O=>{O!==null&&r.entryFilter(O)&&u.push(O),c===s.length-1&&u.end(),f()}).catch(f);for(let c=0;c<s.length;c++)u.write(c);return u}_getEntry(e,r,s){return this._getStat(e).then(u=>this._makeEntry(u,r)).catch(u=>{if(s.errorFilter(u))return null;throw u})}_getStat(e){return new Promise((r,s)=>{this._stat(e,this._fsStatSettings,(u,c)=>u===null?r(c):s(u))})}}return vt.default=i,vt}var Mo;function kh(){if(Mo)return ut;Mo=1,Object.defineProperty(ut,"__esModule",{value:!0});const n=ci(),a=li(),o=Ga();class l extends a.default{constructor(){super(...arguments),this._walkAsync=n.walk,this._readerStream=new o.default(this._settings)}dynamic(t,e){return new Promise((r,s)=>{this._walkAsync(t,e,(u,c)=>{u===null?r(c):s(u)})})}async static(t,e){const r=[],s=this._readerStream.static(t,e);return new Promise((u,c)=>{s.once("error",c),s.on("data",y=>r.push(y)),s.once("end",()=>u(r))})}}return ut.default=l,ut}var St={},Rt={},wt={},Ot={},qo;function Mh(){if(qo)return Ot;qo=1,Object.defineProperty(Ot,"__esModule",{value:!0});const n=De();class a{constructor(l,i,t){this._patterns=l,this._settings=i,this._micromatchOptions=t,this._storage=[],this._fillStorage()}_fillStorage(){for(const l of this._patterns){const i=this._getPatternSegments(l),t=this._splitSegmentsIntoSections(i);this._storage.push({complete:t.length<=1,pattern:l,segments:i,sections:t})}}_getPatternSegments(l){return n.pattern.getPatternParts(l,this._micromatchOptions).map(t=>n.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:n.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t})}_splitSegmentsIntoSections(l){return n.array.splitWhen(l,i=>i.dynamic&&n.pattern.hasGlobStar(i.pattern))}}return Ot.default=a,Ot}var Bo;function qh(){if(Bo)return wt;Bo=1,Object.defineProperty(wt,"__esModule",{value:!0});const n=Mh();class a extends n.default{match(l){const i=l.split("/"),t=i.length,e=this._storage.filter(r=>!r.complete||r.segments.length>t);for(const r of e){const s=r.sections[0];if(!r.complete&&t>s.length||i.every((c,y)=>{const f=r.segments[y];return!!(f.dynamic&&f.patternRe.test(c)||!f.dynamic&&f.pattern===c)}))return!0}return!1}}return wt.default=a,wt}var Ho;function Bh(){if(Ho)return Rt;Ho=1,Object.defineProperty(Rt,"__esModule",{value:!0});const n=De(),a=qh();class o{constructor(i,t){this._settings=i,this._micromatchOptions=t}getFilter(i,t,e){const r=this._getMatcher(t),s=this._getNegativePatternsRe(e);return u=>this._filter(i,u,r,s)}_getMatcher(i){return new a.default(i,this._settings,this._micromatchOptions)}_getNegativePatternsRe(i){const t=i.filter(n.pattern.isAffectDepthOfReadingPattern);return n.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(i,t,e,r){if(this._isSkippedByDeep(i,t.path)||this._isSkippedSymbolicLink(t))return!1;const s=n.path.removeLeadingDotSegment(t.path);return this._isSkippedByPositivePatterns(s,e)?!1:this._isSkippedByNegativePatterns(s,r)}_isSkippedByDeep(i,t){return this._settings.deep===1/0?!1:this._getEntryLevel(i,t)>=this._settings.deep}_getEntryLevel(i,t){const e=t.split("/").length;if(i==="")return e;const r=i.split("/").length;return e-r}_isSkippedSymbolicLink(i){return!this._settings.followSymbolicLinks&&i.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(i,t){return!this._settings.baseNameMatch&&!t.match(i)}_isSkippedByNegativePatterns(i,t){return!n.pattern.matchAny(i,t)}}return Rt.default=o,Rt}var At={},Uo;function Hh(){if(Uo)return At;Uo=1,Object.defineProperty(At,"__esModule",{value:!0});const n=De();class a{constructor(l,i){this._settings=l,this._micromatchOptions=i,this.index=new Map}getFilter(l,i){const[t,e]=n.pattern.partitionAbsoluteAndRelative(i),r={positive:{all:n.pattern.convertPatternsToRe(l,this._micromatchOptions)},negative:{absolute:n.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:n.pattern.convertPatternsToRe(e,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return s=>this._filter(s,r)}_filter(l,i){const t=n.path.removeLeadingDotSegment(l.path);if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(l)||this._onlyDirectoryFilter(l))return!1;const e=this._isMatchToPatternsSet(t,i,l.dirent.isDirectory());return this._settings.unique&&e&&this._createIndexRecord(t),e}_isDuplicateEntry(l){return this.index.has(l)}_createIndexRecord(l){this.index.set(l,void 0)}_onlyFileFilter(l){return this._settings.onlyFiles&&!l.dirent.isFile()}_onlyDirectoryFilter(l){return this._settings.onlyDirectories&&!l.dirent.isDirectory()}_isMatchToPatternsSet(l,i,t){return!(!this._isMatchToPatterns(l,i.positive.all,t)||this._isMatchToPatterns(l,i.negative.relative,t)||this._isMatchToAbsoluteNegative(l,i.negative.absolute,t))}_isMatchToAbsoluteNegative(l,i,t){if(i.length===0)return!1;const e=n.path.makeAbsolute(this._settings.cwd,l);return this._isMatchToPatterns(e,i,t)}_isMatchToPatterns(l,i,t){if(i.length===0)return!1;const e=n.pattern.matchAny(l,i);return!e&&t?n.pattern.matchAny(l+"/",i):e}}return At.default=a,At}var Tt={},jo;function Uh(){if(jo)return Tt;jo=1,Object.defineProperty(Tt,"__esModule",{value:!0});const n=De();class a{constructor(l){this._settings=l}getFilter(){return l=>this._isNonFatalError(l)}_isNonFatalError(l){return n.errno.isEnoentCodeError(l)||this._settings.suppressErrors}}return Tt.default=a,Tt}var Pt={},Go;function jh(){if(Go)return Pt;Go=1,Object.defineProperty(Pt,"__esModule",{value:!0});const n=De();class a{constructor(l){this._settings=l}getTransformer(){return l=>this._transform(l)}_transform(l){let i=l.path;return this._settings.absolute&&(i=n.path.makeAbsolute(this._settings.cwd,i),i=n.path.unixify(i)),this._settings.markDirectories&&l.dirent.isDirectory()&&(i+="/"),this._settings.objectMode?Object.assign(Object.assign({},l),{path:i}):i}}return Pt.default=a,Pt}var Wo;function hi(){if(Wo)return St;Wo=1,Object.defineProperty(St,"__esModule",{value:!0});const n=ce,a=Bh(),o=Hh(),l=Uh(),i=jh();class t{constructor(r){this._settings=r,this.errorFilter=new l.default(this._settings),this.entryFilter=new o.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new a.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new i.default(this._settings)}_getRootDirectory(r){return n.resolve(this._settings.cwd,r.base)}_getReaderOptions(r){const s=r.base==="."?"":r.base;return{basePath:s,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(s,r.positive,r.negative),entryFilter:this.entryFilter.getFilter(r.positive,r.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}return St.default=t,St}var Vo;function Gh(){if(Vo)return at;Vo=1,Object.defineProperty(at,"__esModule",{value:!0});const n=kh(),a=hi();class o extends a.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}async read(i){const t=this._getRootDirectory(i),e=this._getReaderOptions(i);return(await this.api(t,i,e)).map(s=>e.transform(s))}api(i,t,e){return t.dynamic?this._reader.dynamic(i,e):this._reader.static(t.patterns,e)}}return at.default=o,at}var bt={},zo;function Wh(){if(zo)return bt;zo=1,Object.defineProperty(bt,"__esModule",{value:!0});const n=xe,a=Ga(),o=hi();class l extends o.default{constructor(){super(...arguments),this._reader=new a.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),s=this.api(e,t,r),u=new n.Readable({objectMode:!0,read:()=>{}});return s.once("error",c=>u.emit("error",c)).on("data",c=>u.emit("data",r.transform(c))).once("end",()=>u.emit("end")),u.once("close",()=>s.destroy()),u}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}return bt.default=l,bt}var Nt={},Lt={},Yo;function Vh(){if(Yo)return Lt;Yo=1,Object.defineProperty(Lt,"__esModule",{value:!0});const n=Ge(),a=ci(),o=li();class l extends o.default{constructor(){super(...arguments),this._walkSync=a.walkSync,this._statSync=n.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const r=[];for(const s of t){const u=this._getFullEntryPath(s),c=this._getEntry(u,s,e);c===null||!e.entryFilter(c)||r.push(c)}return r}_getEntry(t,e,r){try{const s=this._getStat(t);return this._makeEntry(s,e)}catch(s){if(r.errorFilter(s))return null;throw s}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}return Lt.default=l,Lt}var Ko;function zh(){if(Ko)return Nt;Ko=1,Object.defineProperty(Nt,"__esModule",{value:!0});const n=Vh(),a=hi();class o extends a.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(i){const t=this._getRootDirectory(i),e=this._getReaderOptions(i);return this.api(t,i,e).map(e.transform)}api(i,t,e){return t.dynamic?this._reader.dynamic(i,e):this._reader.static(t.patterns,e)}}return Nt.default=o,Nt}var Tn={},Xo;function Yh(){return Xo||(Xo=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const a=ye,l=Math.max(rt.cpus().length,1);n.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:a.lstat,lstatSync:a.lstatSync,stat:a.stat,statSync:a.statSync,readdir:a.readdir,readdirSync:a.readdirSync};class i{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,l),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},n.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}n.default=i}(Tn)),Tn}var Pn,Zo;function Kh(){if(Zo)return Pn;Zo=1;const n=Eh(),a=Gh(),o=Wh(),l=zh(),i=Yh(),t=De();async function e(u,c){s(u);const y=r(u,a.default,c),f=await Promise.all(y);return t.array.flatten(f)}(function(u){u.glob=u,u.globSync=c,u.globStream=y,u.async=u;function c(d,m){s(d);const E=r(d,l.default,m);return t.array.flatten(E)}u.sync=c;function y(d,m){s(d);const E=r(d,o.default,m);return t.stream.merge(E)}u.stream=y;function f(d,m){s(d);const E=[].concat(d),h=new i.default(m);return n.generate(E,h)}u.generateTasks=f;function O(d,m){s(d);const E=new i.default(m);return t.pattern.isDynamicPattern(d,E)}u.isDynamicPattern=O;function w(d){return s(d),t.path.escape(d)}u.escapePath=w;function S(d){return s(d),t.path.convertPathToPattern(d)}u.convertPathToPattern=S,function(d){function m(h){return s(h),t.path.escapePosixPath(h)}d.escapePath=m;function E(h){return s(h),t.path.convertPosixPathToPattern(h)}d.convertPathToPattern=E}(u.posix||(u.posix={})),function(d){function m(h){return s(h),t.path.escapeWindowsPath(h)}d.escapePath=m;function E(h){return s(h),t.path.convertWindowsPathToPattern(h)}d.convertPathToPattern=E}(u.win32||(u.win32={}))})(e||(e={}));function r(u,c,y){const f=[].concat(u),O=new i.default(y),w=n.generate(f,O),S=new c(O);return w.map(S.read,S)}function s(u){if(![].concat(u).every(f=>t.string.isString(f)&&!t.string.isEmpty(f)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}return Pn=e,Pn}var Xh=Kh();const Zh=be(Xh);var Ct={exports:{}},Jh=Ct.exports,Jo;function Qh(){return Jo||(Jo=1,function(n){(function(a,o,l){n.exports?n.exports=l():o[a]=l()})("urljoin",Jh,function(){function a(o){var l=[];if(o.length===0)return"";if(typeof o[0]!="string")throw new TypeError("Url must be a string. Received "+o[0]);if(o[0].match(/^[^/:]+:\/*$/)&&o.length>1){var i=o.shift();o[0]=i+o[0]}o[0].match(/^file:\/\/\//)?o[0]=o[0].replace(/^([^/:]+):\/*/,"$1:///"):o[0]=o[0].replace(/^([^/:]+):\/*/,"$1://");for(var t=0;t<o.length;t++){var e=o[t];if(typeof e!="string")throw new TypeError("Url must be a string. Received "+e);e!==""&&(t>0&&(e=e.replace(/^[\/]+/,"")),t<o.length-1?e=e.replace(/[\/]+$/,""):e=e.replace(/[\/]+$/,"/"),l.push(e))}var r=l.join("/");r=r.replace(/\/(\?|&|#[^!])/g,"$1");var s=r.split("?");return r=s.shift()+(s.length>0?"?":"")+s.join("&"),r}return function(){var o;return typeof arguments[0]=="object"?o=arguments[0]:o=[].slice.call(arguments),a(o)}})}(Ct)),Ct.exports}var ef=Qh();const It=be(ef);var bn={},Qo;function tf(){return Qo||(Qo=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DownloaderHelper=n.DH_STATES=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o=function(){function E(h,v){for(var _,g=0;g<v.length;g++)_=v[g],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}return function(h,v,_){return v&&E(h.prototype,v),_&&E(h,_),h}}(),l=ye,i=O(l),t=su,e=ce,r=O(e),s=ou,u=O(s),c=au,y=O(c),f=Be;function O(E){if(E&&E.__esModule)return E;var h={};if(E!=null)for(var v in E)Object.prototype.hasOwnProperty.call(E,v)&&(h[v]=E[v]);return h.default=E,h}function w(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function S(E,h){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:E}function d(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(E,h):E.__proto__=h)}var m=n.DH_STATES={IDLE:"IDLE",SKIPPED:"SKIPPED",STARTED:"STARTED",DOWNLOADING:"DOWNLOADING",RETRY:"RETRY",PAUSED:"PAUSED",RESUMED:"RESUMED",STOPPED:"STOPPED",FINISHED:"FINISHED",FAILED:"FAILED"};n.DownloaderHelper=function(E){function h(v,_){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};w(this,h);var p=S(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,{captureRejections:!0}));return p.__validate(v,_)?(p.url=p.requestURL=v.trim(),p.state=m.IDLE,p.__defaultOpts={body:null,retry:!1,method:"GET",headers:{},fileName:"",timeout:-1,metadata:null,override:!1,forceResume:!1,removeOnStop:!0,removeOnFail:!0,progressThrottle:1e3,httpRequestOptions:{},httpsRequestOptions:{},resumeOnIncomplete:!0,resumeIfFileExists:!1,resumeOnIncompleteMaxRetry:5},p.__opts=Object.assign({},p.__defaultOpts),p.__pipes=[],p.__total=0,p.__downloaded=0,p.__progress=0,p.__retryCount=0,p.__retryTimeout=null,p.__resumeRetryCount=0,p.__states=m,p.__promise=null,p.__request=null,p.__response=null,p.__isAborted=!1,p.__isResumed=!1,p.__isResumable=!1,p.__isRedirected=!1,p.__destFolder=_,p.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0},p.__fileName="",p.__filePath="",p.updateOptions(g),p):S(p)}return d(h,E),o(h,[{key:"start",value:function(){var _=this,g=function(){return new Promise(function(p,T){_.__promise={resolve:p,reject:T},_.__start()})};return this.__opts.resumeIfFileExists&&this.state!==this.__states.RESUMED?this.getTotalSize().then(function(p){var T=p.name,P=p.total,I=_.__opts.override;if(_.__opts.override=!0,_.__filePath=_.__getFilePath(T),_.__opts.override=I,_.__filePath&&i.existsSync(_.__filePath)){var x=_.__getFilesizeInBytes(_.__filePath);return x===P?g():_.resumeFromFile(_.__filePath,{total:P,fileName:T})}return g()}):g()}},{key:"pause",value:function(){var _=this;return this.state===this.__states.STOPPED?Promise.resolve(!0):(this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(g){return g.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return _.__setState(_.__states.PAUSED),_.emit("pause"),!0}))}},{key:"resume",value:function(){return this.__promise?this.state===this.__states.STOPPED?Promise.resolve(!1):(this.__setState(this.__states.RESUMED),this.__isResumable&&(this.__isResumed=!0,this.__reqOptions.headers.range="bytes="+this.__downloaded+"-"),this.emit("resume",this.__isResumed),this.__start()):this.start()}},{key:"stop",value:function(){var _=this;if(this.state===this.__states.STOPPED)return Promise.resolve(!0);var g=function(){return new Promise(function(p,T){i.access(_.__filePath,function(P){return P?(_.__emitStop(),p(!0)):void i.unlink(_.__filePath,function(I){return I?(_.__setState(_.__states.FAILED),_.emit("error",I),T(I)):(_.__emitStop(),void p(!0))})})})};return this.__requestAbort(),this.__closeFileStream().then(function(){return _.__opts.removeOnStop?g():(_.__emitStop(),Promise.resolve(!0))})}},{key:"pipe",value:function(_){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return this.__pipes.push({stream:_,options:g}),_}},{key:"unpipe",value:function(){var _=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,p=function(P){return _.__response?_.__response.unpipe(P):P.unpipe()};if(g){var T=this.__pipes.find(function(P){return P.stream===g});return void(T&&(p(g),this.__pipes=this.__pipes.filter(function(P){return P.stream!==g})))}this.__pipes.forEach(function(P){return p(P.stream)}),this.__pipes=[]}},{key:"getDownloadPath",value:function(){return this.__filePath}},{key:"isResumable",value:function(){return this.__isResumable}},{key:"updateOptions",value:function(_){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";this.__opts=Object.assign({},this.__opts,_),this.__headers=this.__opts.headers,-1<this.__opts.timeout&&(this.__opts.httpRequestOptions.timeout=this.__opts.timeout,this.__opts.httpsRequestOptions.timeout=this.__opts.timeout),(typeof this.__opts.progressThrottle!="number"||0>this.__opts.progressThrottle)&&(this.__opts.progressThrottle=this.__defaultOpts.progressThrottle),this.url=g||this.url,this.__reqOptions=this.__getReqOptions(this.__opts.method,this.url,this.__opts.headers),this.__initProtocol(this.url)}},{key:"getOptions",value:function(){return this.__opts}},{key:"getMetadata",value:function(){return this.__opts.metadata}},{key:"getStats",value:function(){return{total:this.__total,name:this.__fileName,downloaded:this.__downloaded,progress:this.__progress,speed:this.__statsEstimate.bytes}}},{key:"getTotalSize",value:function(){var _=this;return new Promise(function(g,p){var T=function(I){_.__initProtocol(I);var x=Object.assign({},_.__headers);x.hasOwnProperty("range")&&delete x.range;var k=_.__getReqOptions("HEAD",I,x);return Object.assign({},_.__reqOptions,k)},P=function(I,x){var k=_.__protocol.request(x,function(N){if(_.__isRequireRedirect(N)){var $=/^https?:\/\//.test(N.headers.location)?N.headers.location:new t.URL(N.headers.location,I).href;return _.emit("redirected",$,I),P($,T($))}return N.statusCode===200?void g({name:_.__getFileNameFromHeaders(N.headers,N),total:parseInt(N.headers["content-length"])||null}):p(new Error("Response status was "+N.statusCode))});k.on("error",function(N){return p(N)}),k.on("timeout",function(){return p(new Error("timeout"))}),k.on("uncaughtException",function(N){return p(N)}),k.end()};P(_.url,T(_.url))})}},{key:"getResumeState",value:function(){return{downloaded:this.__downloaded,filePath:this.__filePath,fileName:this.__fileName,total:this.__total}}},{key:"resumeFromFile",value:function(_){var g=this,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.__opts.override=!0,this.__filePath=_,(p.total&&p.fileName?Promise.resolve({name:p.fileName,total:p.total}):this.getTotalSize()).then(function(T){var P=T.name,I=T.total;return g.__total=p.total||I,g.__fileName=p.fileName||P,g.__downloaded=p.downloaded||g.__getFilesizeInBytes(g.__filePath),g.__reqOptions.headers.range="bytes="+g.__downloaded+"-",g.__isResumed=!0,g.__isResumable=!0,g.__setState(g.__states.RESUMED),g.emit("resume",g.__isResumed),new Promise(function(x,k){g.__promise={resolve:x,reject:k},g.__start()})})}},{key:"__start",value:function(){this.__isRedirected||this.state===this.__states.RESUMED||(this.emit("start"),this.__setState(this.__states.STARTED),this.__initProtocol(this.url)),this.__response=null,this.__isAborted=!1,this.__request&&!this.__request.destroyed&&this.__request.destroy(),this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__request=this.__downloadRequest(this.__promise.resolve,this.__promise.reject),this.__request.on("error",this.__onError(this.__promise.resolve,this.__promise.reject)),this.__request.on("timeout",this.__onTimeout(this.__promise.resolve,this.__promise.reject)),this.__request.on("uncaughtException",this.__onError(this.__promise.resolve,this.__promise.reject,!0)),this.__opts.body&&this.__request.write(this.__opts.body),this.__request.end()}},{key:"__resolvePending",value:function(){if(this.__promise){var _=this.__promise.resolve;return this.__promise=null,_(!0)}}},{key:"__downloadRequest",value:function(_,g){var p=this;return this.__protocol.request(this.__reqOptions,function(T){if(p.__response=T,p.__isResumed||(p.__total=parseInt(T.headers["content-length"])||null,p.__resetStats()),p.__isRequireRedirect(T)){var P=/^https?:\/\//.test(T.headers.location)?T.headers.location:new t.URL(T.headers.location,p.url).href;return p.__isRedirected=!0,p.__initProtocol(P),p.emit("redirected",P,p.url),p.__start()}if(T.statusCode!==200&&T.statusCode!==206){var I=new Error("Response status was "+T.statusCode);return I.status=T.statusCode||0,I.body=T.body||"",p.__setState(p.__states.FAILED),p.emit("error",I),g(I)}(p.__opts.forceResume||T.headers.hasOwnProperty("accept-ranges")&&T.headers["accept-ranges"]!=="none")&&(p.__isResumable=!0),p.__startDownload(T,_,g)})}},{key:"__startDownload",value:function(_,g,p){var T=this,P=_;if(this.__isResumed)this.__fileStream=i.createWriteStream(this.__filePath,{flags:"a"});else{var I=this.__getFileNameFromHeaders(_.headers);if(this.__filePath=this.__getFilePath(I),this.__fileName=this.__filePath.split(r.sep).pop(),i.existsSync(this.__filePath)){var x=this.__getFilesizeInBytes(this.__filePath),k=this.__total?this.__total:0;if(a(this.__opts.override)==="object"&&this.__opts.override.skip&&(this.__opts.override.skipSmaller||x>=k))return this.emit("skip",{totalSize:this.__total,fileName:this.__fileName,filePath:this.__filePath,downloadedSize:x}),this.__setState(this.__states.SKIPPED),g(!0)}this.__fileStream=i.createWriteStream(this.__filePath,{})}this.emit("download",{fileName:this.__fileName,filePath:this.__filePath,totalSize:this.__total,isResumed:this.__isResumed,downloadedSize:this.__downloaded}),this.__retryCount=0,this.__isResumed=!1,this.__isRedirected=!1,this.__setState(this.__states.DOWNLOADING),this.__statsEstimate.time=new Date,this.__statsEstimate.throttleTime=new Date,P.on("data",function(N){return T.__calculateStats(N.length)}),this.__pipes.forEach(function(N){P.pipe(N.stream,N.options),P=N.stream}),P.pipe(this.__fileStream),P.on("error",this.__onError(g,p)),this.__fileStream.on("finish",this.__onFinished(g,p)),this.__fileStream.on("error",this.__onError(g,p))}},{key:"__hasFinished",value:function(){return!this.__isAborted&&[this.__states.PAUSED,this.__states.STOPPED,this.__states.RETRY,this.__states.FAILED,this.__states.RESUMED].indexOf(this.state)===-1}},{key:"__isRequireRedirect",value:function(_){return 300<_.statusCode&&400>_.statusCode&&_.headers.hasOwnProperty("location")&&_.headers.location}},{key:"__onFinished",value:function(_,g){var p=this;return function(){p.__fileStream.close(function(T){if(T)return g(T);if(p.__hasFinished()){var P=!!p.__total&&p.__downloaded!==p.__total;if(P&&p.__isResumable&&p.__opts.resumeOnIncomplete&&p.__resumeRetryCount<=p.__opts.resumeOnIncompleteMaxRetry)return p.__resumeRetryCount++,p.emit("warning",new Error("uncomplete download, retrying")),p.resume();p.__setState(p.__states.FINISHED),p.__pipes=[],p.emit("end",{fileName:p.__fileName,filePath:p.__filePath,totalSize:p.__total,incomplete:P,onDiskSize:p.__getFilesizeInBytes(p.__filePath),downloadedSize:p.__downloaded})}return _(p.__downloaded===p.__total)})}}},{key:"__closeFileStream",value:function(){var _=this;return this.__fileStream?new Promise(function(g,p){_.__fileStream.close(function(T){return T?p(T):g(!0)})}):Promise.resolve(!0)}},{key:"__onError",value:function(_,g){var p=this,T=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function(P){return p.__pipes=[],T&&p.__requestAbort(),p.state===p.__states.STOPPED||p.state===p.__states.FAILED?void 0:p.__opts.retry?p.__retry(P).catch(function(I){p.__removeFile().finally(function(){p.__setState(p.__states.FAILED),p.emit("error",I||P),g(I||P)})}):p.__removeFile().finally(function(){p.__setState(p.__states.FAILED),p.emit("error",P),g(P)})}}},{key:"__retry",value:function(){var _=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;if(!this.__opts.retry||a(this.__opts.retry)!=="object")return Promise.reject(g||new Error("wrong retry options"));var p=this.__opts.retry,T=p.delay,P=T===void 0?0:T,I=p.maxRetries,x=I===void 0?999:I;return this.__retryCount>=x?Promise.reject(g||new Error("reached the maximum retries")):(this.__retryCount++,this.__setState(this.__states.RETRY),this.emit("retry",this.__retryCount,this.__opts.retry,g),this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(k){return k.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return new Promise(function(k){return _.__retryTimeout=setTimeout(function(){return k(0<_.__downloaded?_.resume():_.__start())},P)})}))}},{key:"__onTimeout",value:function(_,g){var p=this;return function(){return p.__requestAbort(),p.__opts.retry?p.__retry(new Error("timeout")).catch(function(T){p.__removeFile().finally(function(){p.__setState(p.__states.FAILED),T?g(T):(p.emit("timeout"),g(new Error("timeout")))})}):p.__removeFile().finally(function(){p.__setState(p.__states.FAILED),p.emit("timeout"),g(new Error("timeout"))})}}},{key:"__resetStats",value:function(){this.__retryCount=0,this.__downloaded=0,this.__progress=0,this.__resumeRetryCount=0,this.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0}}},{key:"__getFileNameFromHeaders",value:function(_,g){var p="",T=/.*filename\*=.*?'.*?'([^"].+?[^"])(?:(?:;)|$)/i,P=/.*filename="(.*?)";?/i,I=/.*filename=([^"].+?[^"])(?:(?:;)|$)/i,x=_.hasOwnProperty("content-disposition"),k=x?_["content-disposition"].match(T):null,N=!x||k?null:_["content-disposition"].match(P),$=!x||k||N?null:_["content-disposition"].match(I);return x&&(k||N||$)?(p=_["content-disposition"],p=p.trim(),k?p=k[1]:N?p=N[1]:$&&(p=$[1]),p=p.replace(/[/\\]/g,"")):0<r.basename(new t.URL(this.requestURL).pathname).length?p=r.basename(new t.URL(this.requestURL).pathname):p=new t.URL(this.requestURL).hostname+".html",this.__opts.fileName?this.__getFileNameFromOpts(p,g):p.replace(/\.*$/,"")}},{key:"__getFilePath",value:function(_){var g=r.join(this.__destFolder,_),p=g;return this.__opts.override||this.state===this.__states.RESUMED||(p=this.__uniqFileNameSync(p),g!==p&&this.emit("renamed",{path:p,fileName:p.split(r.sep).pop(),prevPath:g,prevFileName:g.split(r.sep).pop()})),p}},{key:"__getFileNameFromOpts",value:function(_,g){if(!this.__opts.fileName)return _;if(typeof this.__opts.fileName=="string")return this.__opts.fileName;if(typeof this.__opts.fileName=="function"){var p=r.join(this.__destFolder,_);return g&&g.headers||this.__response&&this.__response.headers?this.__opts.fileName(_,p,(g||this.__response).headers["content-type"]):this.__opts.fileName(_,p)}if(a(this.__opts.fileName)==="object"){var T=this.__opts.fileName,P=T.name,I=!!T.hasOwnProperty("ext")&&T.ext;if(typeof I=="string")return P+"."+I;if(typeof I=="boolean"){if(I)return P;var x=_.includes(".")?_.split(".").pop():"";return x===""?P:P+"."+x}}return _}},{key:"__calculateStats",value:function(_){var g=new Date,p=g-this.__statsEstimate.time,T=g-this.__statsEstimate.throttleTime,P=this.__total||0;_&&(this.__downloaded+=_,this.__progress=P===0?0:100*(this.__downloaded/P),(this.__downloaded===P||1e3<p)&&(this.__statsEstimate.time=g,this.__statsEstimate.bytes=this.__downloaded-this.__statsEstimate.prevBytes,this.__statsEstimate.prevBytes=this.__downloaded),(this.__downloaded===P||T>this.__opts.progressThrottle)&&(this.__statsEstimate.throttleTime=g,this.emit("progress.throttled",this.getStats())),this.emit("progress",this.getStats()))}},{key:"__setState",value:function(_){this.state=_,this.emit("stateChanged",this.state)}},{key:"__getReqOptions",value:function(_,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},T=new t.URL(g),P={protocol:T.protocol,host:T.hostname,port:T.port,path:T.pathname+T.search,method:_};return p&&(P.headers=p),P}},{key:"__getFilesizeInBytes",value:function(_){try{var g=i.statSync(_,{throwIfNoEntry:!1}),p=g.size||0;return p}catch(T){this.emit("warning",T)}return 0}},{key:"__validate",value:function(_,g){if(typeof _!="string")throw new Error("URL should be an string");if(_.trim()==="")throw new Error("URL couldn't be empty");if(typeof g!="string")throw new Error("Destination Folder should be an string");if(g.trim()==="")throw new Error("Destination Folder couldn't be empty");if(!i.existsSync(g))throw new Error("Destination Folder must exist");var p=i.statSync(g);if(!p.isDirectory())throw new Error("Destination Folder must be a directory");try{i.accessSync(g,i.constants.W_OK)}catch{throw new Error("Destination Folder must be writable")}return!0}},{key:"__initProtocol",value:function(_){var g=this.__getReqOptions(this.__opts.method,_,this.__headers);this.requestURL=_,-1<_.indexOf("https://")?(this.__protocol=y,g.agent=new y.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},g,this.__opts.httpsRequestOptions)):(this.__protocol=u,g.agent=new u.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},g,this.__opts.httpRequestOptions))}},{key:"__uniqFileNameSync",value:function(_){if(typeof _!="string"||_==="")return _;try{i.accessSync(_,i.F_OK);var g=_.match(/(.*)(\([0-9]+\))(\..*)$/),p=g?g[1].trim():_,T=g?parseInt(g[2].replace(/\(|\)/,"")):0,P=_.split(".").pop();return P!==_&&0<P.length?(P="."+P,p=p.replace(P,"")):P="",this.__uniqFileNameSync(p+" ("+ ++T+")"+P)}catch{return _}}},{key:"__removeFile",value:function(){var _=this;return new Promise(function(g){return _.__fileStream?void _.__fileStream.close(function(p){return p&&_.emit("warning",p),_.__opts.removeOnFail?i.access(_.__filePath,function(T){return T?g():void i.unlink(_.__filePath,function(P){P&&_.emit("warning",p),g()})}):void g()}):g()})}},{key:"__requestAbort",value:function(){this.__isAborted=!0,this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__response&&this.__response.destroy(),this.__request&&(this.__request.destroy?this.__request.destroy():this.__request.abort())}},{key:"__emitStop",value:function(){this.__resolvePending(),this.__setState(this.__states.STOPPED),this.emit("stop")}}]),h}(f.EventEmitter)}(bn)),bn}var rf=tf(),Nn,ea;function nf(){if(ea)return Nn;ea=1;const n=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);return Nn=a=>a?Object.keys(a).map(o=>[n.has(o)?n.get(o):o,a[o]]).reduce((o,l)=>(o[l[0]]=l[1],o),Object.create(null)):{},Nn}var Ln,ta;function sf(){return ta||(ta=1,Ln=n=>class extends n{warn(a,o,l={}){this.file&&(l.file=this.file),this.cwd&&(l.cwd=this.cwd),l.code=o instanceof Error&&o.code||a,l.tarCode=a,!this.strict&&l.recoverable!==!1?(o instanceof Error&&(l=Object.assign(o,l),o=o.message),this.emit("warn",l.tarCode,o,l)):o instanceof Error?this.emit("error",Object.assign(o,l)):this.emit("error",Object.assign(new Error(`${a}: ${o}`),l))}}),Ln}var In={},ra;function of(){return ra||(ra=1,function(n){n.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),n.code=new Map(Array.from(n.name).map(a=>[a[1],a[0]]))}(In)),In}var Dn,na;function af(){if(na)return Dn;na=1;const n=(s,u)=>{if(Number.isSafeInteger(s))s<0?o(s,u):a(s,u);else throw Error("cannot encode number outside of javascript safe integer range");return u},a=(s,u)=>{u[0]=128;for(var c=u.length;c>1;c--)u[c-1]=s&255,s=Math.floor(s/256)},o=(s,u)=>{u[0]=255;var c=!1;s=s*-1;for(var y=u.length;y>1;y--){var f=s&255;s=Math.floor(s/256),c?u[y-1]=e(f):f===0?u[y-1]=0:(c=!0,u[y-1]=r(f))}},l=s=>{const u=s[0],c=u===128?t(s.slice(1,s.length)):u===255?i(s):null;if(c===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(c))throw Error("parsed number outside of javascript safe integer range");return c},i=s=>{for(var u=s.length,c=0,y=!1,f=u-1;f>-1;f--){var O=s[f],w;y?w=e(O):O===0?w=O:(y=!0,w=r(O)),w!==0&&(c-=w*Math.pow(256,u-f-1))}return c},t=s=>{for(var u=s.length,c=0,y=u-1;y>-1;y--){var f=s[y];f!==0&&(c+=f*Math.pow(256,u-y-1))}return c},e=s=>(255^s)&255,r=s=>(255^s)+1&255;return Dn={encode:n,parse:l},Dn}var Cn,ia;function Wa(){if(ia)return Cn;ia=1;const n=of(),a=ce.posix,o=af(),l=Symbol("slurp"),i=Symbol("type");class t{constructor(g,p,T,P){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[i]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(g)?this.decode(g,p||0,T,P):g&&this.set(g)}decode(g,p,T,P){if(p||(p=0),!g||!(g.length>=p+512))throw new Error("need 512 bytes for header");if(this.path=r(g,p,100),this.mode=c(g,p+100,8),this.uid=c(g,p+108,8),this.gid=c(g,p+116,8),this.size=c(g,p+124,12),this.mtime=s(g,p+136,12),this.cksum=c(g,p+148,12),this[l](T),this[l](P,!0),this[i]=r(g,p+156,1),this[i]===""&&(this[i]="0"),this[i]==="0"&&this.path.slice(-1)==="/"&&(this[i]="5"),this[i]==="5"&&(this.size=0),this.linkpath=r(g,p+157,100),g.slice(p+257,p+265).toString()==="ustar\x0000")if(this.uname=r(g,p+265,32),this.gname=r(g,p+297,32),this.devmaj=c(g,p+329,8),this.devmin=c(g,p+337,8),g[p+475]!==0){const x=r(g,p+345,155);this.path=x+"/"+this.path}else{const x=r(g,p+345,130);x&&(this.path=x+"/"+this.path),this.atime=s(g,p+476,12),this.ctime=s(g,p+488,12)}let I=8*32;for(let x=p;x<p+148;x++)I+=g[x];for(let x=p+156;x<p+512;x++)I+=g[x];this.cksumValid=I===this.cksum,this.cksum===null&&I===8*32&&(this.nullBlock=!0)}[l](g,p){for(const T in g)g[T]!==null&&g[T]!==void 0&&!(p&&T==="path")&&(this[T]=g[T])}encode(g,p){if(g||(g=this.block=Buffer.alloc(512),p=0),p||(p=0),!(g.length>=p+512))throw new Error("need 512 bytes for header");const T=this.ctime||this.atime?130:155,P=e(this.path||"",T),I=P[0],x=P[1];this.needPax=P[2],this.needPax=v(g,p,100,I)||this.needPax,this.needPax=w(g,p+100,8,this.mode)||this.needPax,this.needPax=w(g,p+108,8,this.uid)||this.needPax,this.needPax=w(g,p+116,8,this.gid)||this.needPax,this.needPax=w(g,p+124,12,this.size)||this.needPax,this.needPax=E(g,p+136,12,this.mtime)||this.needPax,g[p+156]=this[i].charCodeAt(0),this.needPax=v(g,p+157,100,this.linkpath)||this.needPax,g.write("ustar\x0000",p+257,8),this.needPax=v(g,p+265,32,this.uname)||this.needPax,this.needPax=v(g,p+297,32,this.gname)||this.needPax,this.needPax=w(g,p+329,8,this.devmaj)||this.needPax,this.needPax=w(g,p+337,8,this.devmin)||this.needPax,this.needPax=v(g,p+345,T,x)||this.needPax,g[p+475]!==0?this.needPax=v(g,p+345,155,x)||this.needPax:(this.needPax=v(g,p+345,130,x)||this.needPax,this.needPax=E(g,p+476,12,this.atime)||this.needPax,this.needPax=E(g,p+488,12,this.ctime)||this.needPax);let k=8*32;for(let N=p;N<p+148;N++)k+=g[N];for(let N=p+156;N<p+512;N++)k+=g[N];return this.cksum=k,w(g,p+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(g){for(const p in g)g[p]!==null&&g[p]!==void 0&&(this[p]=g[p])}get type(){return n.name.get(this[i])||this[i]}get typeKey(){return this[i]}set type(g){n.code.has(g)?this[i]=n.code.get(g):this[i]=g}}const e=(_,g)=>{let T=_,P="",I;const x=a.parse(_).root||".";if(Buffer.byteLength(T)<100)I=[T,P,!1];else{P=a.dirname(T),T=a.basename(T);do Buffer.byteLength(T)<=100&&Buffer.byteLength(P)<=g?I=[T,P,!1]:Buffer.byteLength(T)>100&&Buffer.byteLength(P)<=g?I=[T.slice(0,99),P,!0]:(T=a.join(a.basename(P),T),P=a.dirname(P));while(P!==x&&!I);I||(I=[_.slice(0,99),"",!0])}return I},r=(_,g,p)=>_.slice(g,g+p).toString("utf8").replace(/\0.*/,""),s=(_,g,p)=>u(c(_,g,p)),u=_=>_===null?null:new Date(_*1e3),c=(_,g,p)=>_[g]&128?o.parse(_.slice(g,g+p)):f(_,g,p),y=_=>isNaN(_)?null:_,f=(_,g,p)=>y(parseInt(_.slice(g,g+p).toString("utf8").replace(/\0.*$/,"").trim(),8)),O={12:8589934591,8:2097151},w=(_,g,p,T)=>T===null?!1:T>O[p]||T<0?(o.encode(T,_.slice(g,g+p)),!0):(S(_,g,p,T),!1),S=(_,g,p,T)=>_.write(d(T,p),g,p,"ascii"),d=(_,g)=>m(Math.floor(_).toString(8),g),m=(_,g)=>(_.length===g-1?_:new Array(g-_.length-1).join("0")+_+" ")+"\0",E=(_,g,p,T)=>T===null?!1:w(_,g,p,T.getTime()/1e3),h=new Array(156).join("\0"),v=(_,g,p,T)=>T===null?!1:(_.write(T+h,g,p,"utf8"),T.length!==Buffer.byteLength(T)||T.length>p);return Cn=t,Cn}var $n,sa;function uf(){return sa||(sa=1,$n=function(n){n.prototype[Symbol.iterator]=function*(){for(let a=this.head;a;a=a.next)yield a.value}}),$n}var xn,oa;function cf(){if(oa)return xn;oa=1,xn=n,n.Node=i,n.create=n;function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(u){e.push(u)});else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)e.push(arguments[r]);return e}n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)l(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,s=0;r!==null;s++)t.call(e,r.value,s,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,s=this.length-1;r!==null;s--)t.call(e,r.value,s,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,s=this.head;s!==null;)r.push(t.call(e,s.value,this)),s=s.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,s=this.tail;s!==null;)r.push(t.call(e,s.value,this)),s=s.prev;return r},n.prototype.reduce=function(t,e){var r,s=this.head;if(arguments.length>1)r=e;else if(this.head)s=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=0;s!==null;u++)r=t(r,s.value,u),s=s.next;return r},n.prototype.reduceReverse=function(t,e){var r,s=this.tail;if(arguments.length>1)r=e;else if(this.tail)s=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=this.length-1;s!==null;u--)r=t(r,s.value,u),s=s.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,u=this.head;u!==null&&s<t;s++)u=u.next;for(;u!==null&&s<e;s++,u=u.next)r.push(u.value);return r},n.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,u=this.tail;u!==null&&s>e;s--)u=u.prev;for(;u!==null&&s>t;s--,u=u.prev)r.push(u.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,u=this.head;u!==null&&s<t;s++)u=u.next;for(var c=[],s=0;u&&s<e;s++)c.push(u.value),u=this.removeNode(u);u===null&&(u=this.tail),u!==this.head&&u!==this.tail&&(u=u.prev);for(var s=0;s<r.length;s++)u=a(this,u,r[s]);return c},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=e,this.tail=t,this};function a(t,e,r){var s=e===t.head?new i(r,null,e,t):new i(r,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function o(t,e){t.tail=new i(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function l(t,e){t.head=new i(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function i(t,e,r,s){if(!(this instanceof i))return new i(t,e,r,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{uf()(n)}catch{}return xn}var Fn={},aa;function lf(){if(aa)return Fn;aa=1;const n=typeof process=="object"&&process?process:{stdout:null,stderr:null},a=Be,o=xe,i=Na.StringDecoder,t=Symbol("EOF"),e=Symbol("maybeEmitEnd"),r=Symbol("emittedEnd"),s=Symbol("emittingEnd"),u=Symbol("emittedError"),c=Symbol("closed"),y=Symbol("read"),f=Symbol("flush"),O=Symbol("flushChunk"),w=Symbol("encoding"),S=Symbol("decoder"),d=Symbol("flowing"),m=Symbol("paused"),E=Symbol("resume"),h=Symbol("buffer"),v=Symbol("pipes"),_=Symbol("bufferLength"),g=Symbol("bufferPush"),p=Symbol("bufferShift"),T=Symbol("objectMode"),P=Symbol("destroyed"),I=Symbol("error"),x=Symbol("emitData"),k=Symbol("emitEnd"),N=Symbol("emitEnd2"),$=Symbol("async"),C=Symbol("abort"),D=Symbol("aborted"),B=Symbol("signal"),G=j=>Promise.resolve().then(j),V=Ie._MP_NO_ITERATOR_SYMBOLS_!=="1",H=V&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),R=V&&Symbol.iterator||Symbol("iterator not implemented"),b=j=>j==="end"||j==="finish"||j==="prefinish",z=j=>j instanceof ArrayBuffer||typeof j=="object"&&j.constructor&&j.constructor.name==="ArrayBuffer"&&j.byteLength>=0,ee=j=>!Buffer.isBuffer(j)&&ArrayBuffer.isView(j);class M{constructor(F,q,Y){this.src=F,this.dest=q,this.opts=Y,this.ondrain=()=>F[E](),q.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class L extends M{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(F,q,Y){super(F,q,Y),this.proxyErrors=J=>q.emit("error",J),F.on("error",this.proxyErrors)}}class U extends o{constructor(F){super(),this[d]=!1,this[m]=!1,this[v]=[],this[h]=[],this[T]=F&&F.objectMode||!1,this[T]?this[w]=null:this[w]=F&&F.encoding||null,this[w]==="buffer"&&(this[w]=null),this[$]=F&&!!F.async||!1,this[S]=this[w]?new i(this[w]):null,this[t]=!1,this[r]=!1,this[s]=!1,this[c]=!1,this[u]=null,this.writable=!0,this.readable=!0,this[_]=0,this[P]=!1,F&&F.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[h]}),F&&F.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[v]}),this[B]=F&&F.signal,this[D]=!1,this[B]&&(this[B].addEventListener("abort",()=>this[C]()),this[B].aborted&&this[C]())}get bufferLength(){return this[_]}get encoding(){return this[w]}set encoding(F){if(this[T])throw new Error("cannot set encoding in objectMode");if(this[w]&&F!==this[w]&&(this[S]&&this[S].lastNeed||this[_]))throw new Error("cannot change encoding");this[w]!==F&&(this[S]=F?new i(F):null,this[h].length&&(this[h]=this[h].map(q=>this[S].write(q)))),this[w]=F}setEncoding(F){this.encoding=F}get objectMode(){return this[T]}set objectMode(F){this[T]=this[T]||!!F}get async(){return this[$]}set async(F){this[$]=this[$]||!!F}[C](){this[D]=!0,this.emit("abort",this[B].reason),this.destroy(this[B].reason)}get aborted(){return this[D]}set aborted(F){}write(F,q,Y){if(this[D])return!1;if(this[t])throw new Error("write after end");if(this[P])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof q=="function"&&(Y=q,q="utf8"),q||(q="utf8");const J=this[$]?G:re=>re();return!this[T]&&!Buffer.isBuffer(F)&&(ee(F)?F=Buffer.from(F.buffer,F.byteOffset,F.byteLength):z(F)?F=Buffer.from(F):typeof F!="string"&&(this.objectMode=!0)),this[T]?(this.flowing&&this[_]!==0&&this[f](!0),this.flowing?this.emit("data",F):this[g](F),this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):F.length?(typeof F=="string"&&!(q===this[w]&&!this[S].lastNeed)&&(F=Buffer.from(F,q)),Buffer.isBuffer(F)&&this[w]&&(F=this[S].write(F)),this.flowing&&this[_]!==0&&this[f](!0),this.flowing?this.emit("data",F):this[g](F),this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing):(this[_]!==0&&this.emit("readable"),Y&&J(Y),this.flowing)}read(F){if(this[P])return null;if(this[_]===0||F===0||F>this[_])return this[e](),null;this[T]&&(F=null),this[h].length>1&&!this[T]&&(this.encoding?this[h]=[this[h].join("")]:this[h]=[Buffer.concat(this[h],this[_])]);const q=this[y](F||null,this[h][0]);return this[e](),q}[y](F,q){return F===q.length||F===null?this[p]():(this[h][0]=q.slice(F),q=q.slice(0,F),this[_]-=F),this.emit("data",q),!this[h].length&&!this[t]&&this.emit("drain"),q}end(F,q,Y){return typeof F=="function"&&(Y=F,F=null),typeof q=="function"&&(Y=q,q="utf8"),F&&this.write(F,q),Y&&this.once("end",Y),this[t]=!0,this.writable=!1,(this.flowing||!this[m])&&this[e](),this}[E](){this[P]||(this[m]=!1,this[d]=!0,this.emit("resume"),this[h].length?this[f]():this[t]?this[e]():this.emit("drain"))}resume(){return this[E]()}pause(){this[d]=!1,this[m]=!0}get destroyed(){return this[P]}get flowing(){return this[d]}get paused(){return this[m]}[g](F){this[T]?this[_]+=1:this[_]+=F.length,this[h].push(F)}[p](){return this[T]?this[_]-=1:this[_]-=this[h][0].length,this[h].shift()}[f](F){do;while(this[O](this[p]())&&this[h].length);!F&&!this[h].length&&!this[t]&&this.emit("drain")}[O](F){return this.emit("data",F),this.flowing}pipe(F,q){if(this[P])return;const Y=this[r];return q=q||{},F===n.stdout||F===n.stderr?q.end=!1:q.end=q.end!==!1,q.proxyErrors=!!q.proxyErrors,Y?q.end&&F.end():(this[v].push(q.proxyErrors?new L(this,F,q):new M(this,F,q)),this[$]?G(()=>this[E]()):this[E]()),F}unpipe(F){const q=this[v].find(Y=>Y.dest===F);q&&(this[v].splice(this[v].indexOf(q),1),q.unpipe())}addListener(F,q){return this.on(F,q)}on(F,q){const Y=super.on(F,q);return F==="data"&&!this[v].length&&!this.flowing?this[E]():F==="readable"&&this[_]!==0?super.emit("readable"):b(F)&&this[r]?(super.emit(F),this.removeAllListeners(F)):F==="error"&&this[u]&&(this[$]?G(()=>q.call(this,this[u])):q.call(this,this[u])),Y}get emittedEnd(){return this[r]}[e](){!this[s]&&!this[r]&&!this[P]&&this[h].length===0&&this[t]&&(this[s]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[c]&&this.emit("close"),this[s]=!1)}emit(F,q,...Y){if(F!=="error"&&F!=="close"&&F!==P&&this[P])return;if(F==="data")return!this[T]&&!q?!1:this[$]?G(()=>this[x](q)):this[x](q);if(F==="end")return this[k]();if(F==="close"){if(this[c]=!0,!this[r]&&!this[P])return;const re=super.emit("close");return this.removeAllListeners("close"),re}else if(F==="error"){this[u]=q,super.emit(I,q);const re=!this[B]||this.listeners("error").length?super.emit("error",q):!1;return this[e](),re}else if(F==="resume"){const re=super.emit("resume");return this[e](),re}else if(F==="finish"||F==="prefinish"){const re=super.emit(F);return this.removeAllListeners(F),re}const J=super.emit(F,q,...Y);return this[e](),J}[x](F){for(const Y of this[v])Y.dest.write(F)===!1&&this.pause();const q=super.emit("data",F);return this[e](),q}[k](){this[r]||(this[r]=!0,this.readable=!1,this[$]?G(()=>this[N]()):this[N]())}[N](){if(this[S]){const q=this[S].end();if(q){for(const Y of this[v])Y.dest.write(q);super.emit("data",q)}}for(const q of this[v])q.end();const F=super.emit("end");return this.removeAllListeners("end"),F}collect(){const F=[];this[T]||(F.dataLength=0);const q=this.promise();return this.on("data",Y=>{F.push(Y),this[T]||(F.dataLength+=Y.length)}),q.then(()=>F)}concat(){return this[T]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(F=>this[T]?Promise.reject(new Error("cannot concat in objectMode")):this[w]?F.join(""):Buffer.concat(F,F.dataLength))}promise(){return new Promise((F,q)=>{this.on(P,()=>q(new Error("stream destroyed"))),this.on("error",Y=>q(Y)),this.on("end",()=>F())})}[H](){let F=!1;const q=()=>(this.pause(),F=!0,Promise.resolve({done:!0}));return{next:()=>{if(F)return q();const J=this.read();if(J!==null)return Promise.resolve({done:!1,value:J});if(this[t])return q();let re=null,se=null;const Z=W=>{this.removeListener("data",A),this.removeListener("end",X),this.removeListener(P,Q),q(),se(W)},A=W=>{this.removeListener("error",Z),this.removeListener("end",X),this.removeListener(P,Q),this.pause(),re({value:W,done:!!this[t]})},X=()=>{this.removeListener("error",Z),this.removeListener("data",A),this.removeListener(P,Q),q(),re({done:!0})},Q=()=>Z(new Error("stream destroyed"));return new Promise((W,ne)=>{se=ne,re=W,this.once(P,Q),this.once("error",Z),this.once("end",X),this.once("data",A)})},throw:q,return:q,[H](){return this}}}[R](){let F=!1;const q=()=>(this.pause(),this.removeListener(I,q),this.removeListener(P,q),this.removeListener("end",q),F=!0,{done:!0}),Y=()=>{if(F)return q();const J=this.read();return J===null?q():{value:J}};return this.once("end",q),this.once(I,q),this.once(P,q),{next:Y,throw:q,return:q,[R](){return this}}}destroy(F){return this[P]?(F?this.emit("error",F):this.emit(P),this):(this[P]=!0,this[h].length=0,this[_]=0,typeof this.close=="function"&&!this[c]&&this.close(),F?this.emit("error",F):this.emit(P),this)}static isStream(F){return!!F&&(F instanceof U||F instanceof o||F instanceof a&&(typeof F.pipe=="function"||typeof F.write=="function"&&typeof F.end=="function"))}}return Fn.Minipass=U,Fn}var kn,ua;function fi(){return ua||(ua=1,kn=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)!=="win32"?a=>a:a=>a&&a.replace(/\\/g,"/")),kn}var Mn,ca;function hf(){if(ca)return Mn;ca=1;const{Minipass:n}=lf(),a=fi(),o=Symbol("slurp");return Mn=class extends n{constructor(i,t,e){switch(super(),this.pause(),this.extended=t,this.globalExtended=e,this.header=i,this.startBlockSize=512*Math.ceil(i.size/512),this.blockRemain=this.startBlockSize,this.remain=i.size,this.type=i.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=a(i.path),this.mode=i.mode,this.mode&&(this.mode=this.mode&4095),this.uid=i.uid,this.gid=i.gid,this.uname=i.uname,this.gname=i.gname,this.size=i.size,this.mtime=i.mtime,this.atime=i.atime,this.ctime=i.ctime,this.linkpath=a(i.linkpath),this.uname=i.uname,this.gname=i.gname,t&&this[o](t),e&&this[o](e,!0)}write(i){const t=i.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");const e=this.remain,r=this.blockRemain;return this.remain=Math.max(0,e-t),this.blockRemain=Math.max(0,r-t),this.ignore?!0:e>=t?super.write(i):super.write(i.slice(0,e))}[o](i,t){for(const e in i)i[e]!==null&&i[e]!==void 0&&!(t&&e==="path")&&(this[e]=e==="path"||e==="linkpath"?a(i[e]):i[e])}},Mn}var qn,la;function ff(){if(la)return qn;la=1;const n=Wa(),a=ce;class o{constructor(r,s){this.atime=r.atime||null,this.charset=r.charset||null,this.comment=r.comment||null,this.ctime=r.ctime||null,this.gid=r.gid||null,this.gname=r.gname||null,this.linkpath=r.linkpath||null,this.mtime=r.mtime||null,this.path=r.path||null,this.size=r.size||null,this.uid=r.uid||null,this.uname=r.uname||null,this.dev=r.dev||null,this.ino=r.ino||null,this.nlink=r.nlink||null,this.global=s||!1}encode(){const r=this.encodeBody();if(r==="")return null;const s=Buffer.byteLength(r),u=512*Math.ceil(1+s/512),c=Buffer.allocUnsafe(u);for(let y=0;y<512;y++)c[y]=0;new n({path:("PaxHeader/"+a.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:s,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(c),c.write(r,512,s,"utf8");for(let y=s+512;y<c.length;y++)c[y]=0;return c}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(r){if(this[r]===null||this[r]===void 0)return"";const s=this[r]instanceof Date?this[r].getTime()/1e3:this[r],u=" "+(r==="dev"||r==="ino"||r==="nlink"?"SCHILY.":"")+r+"="+s+`
`,c=Buffer.byteLength(u);let y=Math.floor(Math.log(c)/Math.log(10))+1;return c+y>=Math.pow(10,y)&&(y+=1),y+c+u}}o.parse=(e,r,s)=>new o(l(i(e),r),s);const l=(e,r)=>r?Object.keys(e).reduce((s,u)=>(s[u]=e[u],s),r):e,i=e=>e.replace(/\n$/,"").split(`
`).reduce(t,Object.create(null)),t=(e,r)=>{const s=parseInt(r,10);if(s!==Buffer.byteLength(r)+1)return e;r=r.slice((s+" ").length);const u=r.split("="),c=u.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!c)return e;const y=u.join("=");return e[c]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(c)?new Date(y*1e3):/^[0-9]+$/.test(y)?+y:y,e};return qn=o,qn}var Ee={},Bn,ha;function df(){if(ha)return Bn;ha=1;const n=La.constants||{ZLIB_VERNUM:4736};return Bn=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},n)),Bn}var Hn,fa;function za(){if(fa)return Hn;fa=1;const n=typeof process=="object"&&process?process:{stdout:null,stderr:null},a=Be,o=xe,l=Na.StringDecoder,i=Symbol("EOF"),t=Symbol("maybeEmitEnd"),e=Symbol("emittedEnd"),r=Symbol("emittingEnd"),s=Symbol("emittedError"),u=Symbol("closed"),c=Symbol("read"),y=Symbol("flush"),f=Symbol("flushChunk"),O=Symbol("encoding"),w=Symbol("decoder"),S=Symbol("flowing"),d=Symbol("paused"),m=Symbol("resume"),E=Symbol("bufferLength"),h=Symbol("bufferPush"),v=Symbol("bufferShift"),_=Symbol("objectMode"),g=Symbol("destroyed"),p=Symbol("emitData"),T=Symbol("emitEnd"),P=Symbol("emitEnd2"),I=Symbol("async"),x=H=>Promise.resolve().then(H),k=Ie._MP_NO_ITERATOR_SYMBOLS_!=="1",N=k&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$=k&&Symbol.iterator||Symbol("iterator not implemented"),C=H=>H==="end"||H==="finish"||H==="prefinish",D=H=>H instanceof ArrayBuffer||typeof H=="object"&&H.constructor&&H.constructor.name==="ArrayBuffer"&&H.byteLength>=0,B=H=>!Buffer.isBuffer(H)&&ArrayBuffer.isView(H);class G{constructor(R,b,z){this.src=R,this.dest=b,this.opts=z,this.ondrain=()=>R[m](),b.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class V extends G{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(R,b,z){super(R,b,z),this.proxyErrors=ee=>b.emit("error",ee),R.on("error",this.proxyErrors)}}return Hn=class Va extends o{constructor(R){super(),this[S]=!1,this[d]=!1,this.pipes=[],this.buffer=[],this[_]=R&&R.objectMode||!1,this[_]?this[O]=null:this[O]=R&&R.encoding||null,this[O]==="buffer"&&(this[O]=null),this[I]=R&&!!R.async||!1,this[w]=this[O]?new l(this[O]):null,this[i]=!1,this[e]=!1,this[r]=!1,this[u]=!1,this[s]=null,this.writable=!0,this.readable=!0,this[E]=0,this[g]=!1}get bufferLength(){return this[E]}get encoding(){return this[O]}set encoding(R){if(this[_])throw new Error("cannot set encoding in objectMode");if(this[O]&&R!==this[O]&&(this[w]&&this[w].lastNeed||this[E]))throw new Error("cannot change encoding");this[O]!==R&&(this[w]=R?new l(R):null,this.buffer.length&&(this.buffer=this.buffer.map(b=>this[w].write(b)))),this[O]=R}setEncoding(R){this.encoding=R}get objectMode(){return this[_]}set objectMode(R){this[_]=this[_]||!!R}get async(){return this[I]}set async(R){this[I]=this[I]||!!R}write(R,b,z){if(this[i])throw new Error("write after end");if(this[g])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof b=="function"&&(z=b,b="utf8"),b||(b="utf8");const ee=this[I]?x:M=>M();return!this[_]&&!Buffer.isBuffer(R)&&(B(R)?R=Buffer.from(R.buffer,R.byteOffset,R.byteLength):D(R)?R=Buffer.from(R):typeof R!="string"&&(this.objectMode=!0)),this[_]?(this.flowing&&this[E]!==0&&this[y](!0),this.flowing?this.emit("data",R):this[h](R),this[E]!==0&&this.emit("readable"),z&&ee(z),this.flowing):R.length?(typeof R=="string"&&!(b===this[O]&&!this[w].lastNeed)&&(R=Buffer.from(R,b)),Buffer.isBuffer(R)&&this[O]&&(R=this[w].write(R)),this.flowing&&this[E]!==0&&this[y](!0),this.flowing?this.emit("data",R):this[h](R),this[E]!==0&&this.emit("readable"),z&&ee(z),this.flowing):(this[E]!==0&&this.emit("readable"),z&&ee(z),this.flowing)}read(R){if(this[g])return null;if(this[E]===0||R===0||R>this[E])return this[t](),null;this[_]&&(R=null),this.buffer.length>1&&!this[_]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[E])]);const b=this[c](R||null,this.buffer[0]);return this[t](),b}[c](R,b){return R===b.length||R===null?this[v]():(this.buffer[0]=b.slice(R),b=b.slice(0,R),this[E]-=R),this.emit("data",b),!this.buffer.length&&!this[i]&&this.emit("drain"),b}end(R,b,z){return typeof R=="function"&&(z=R,R=null),typeof b=="function"&&(z=b,b="utf8"),R&&this.write(R,b),z&&this.once("end",z),this[i]=!0,this.writable=!1,(this.flowing||!this[d])&&this[t](),this}[m](){this[g]||(this[d]=!1,this[S]=!0,this.emit("resume"),this.buffer.length?this[y]():this[i]?this[t]():this.emit("drain"))}resume(){return this[m]()}pause(){this[S]=!1,this[d]=!0}get destroyed(){return this[g]}get flowing(){return this[S]}get paused(){return this[d]}[h](R){this[_]?this[E]+=1:this[E]+=R.length,this.buffer.push(R)}[v](){return this.buffer.length&&(this[_]?this[E]-=1:this[E]-=this.buffer[0].length),this.buffer.shift()}[y](R){do;while(this[f](this[v]()));!R&&!this.buffer.length&&!this[i]&&this.emit("drain")}[f](R){return R?(this.emit("data",R),this.flowing):!1}pipe(R,b){if(this[g])return;const z=this[e];return b=b||{},R===n.stdout||R===n.stderr?b.end=!1:b.end=b.end!==!1,b.proxyErrors=!!b.proxyErrors,z?b.end&&R.end():(this.pipes.push(b.proxyErrors?new V(this,R,b):new G(this,R,b)),this[I]?x(()=>this[m]()):this[m]()),R}unpipe(R){const b=this.pipes.find(z=>z.dest===R);b&&(this.pipes.splice(this.pipes.indexOf(b),1),b.unpipe())}addListener(R,b){return this.on(R,b)}on(R,b){const z=super.on(R,b);return R==="data"&&!this.pipes.length&&!this.flowing?this[m]():R==="readable"&&this[E]!==0?super.emit("readable"):C(R)&&this[e]?(super.emit(R),this.removeAllListeners(R)):R==="error"&&this[s]&&(this[I]?x(()=>b.call(this,this[s])):b.call(this,this[s])),z}get emittedEnd(){return this[e]}[t](){!this[r]&&!this[e]&&!this[g]&&this.buffer.length===0&&this[i]&&(this[r]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[u]&&this.emit("close"),this[r]=!1)}emit(R,b,...z){if(R!=="error"&&R!=="close"&&R!==g&&this[g])return;if(R==="data")return b?this[I]?x(()=>this[p](b)):this[p](b):!1;if(R==="end")return this[T]();if(R==="close"){if(this[u]=!0,!this[e]&&!this[g])return;const M=super.emit("close");return this.removeAllListeners("close"),M}else if(R==="error"){this[s]=b;const M=super.emit("error",b);return this[t](),M}else if(R==="resume"){const M=super.emit("resume");return this[t](),M}else if(R==="finish"||R==="prefinish"){const M=super.emit(R);return this.removeAllListeners(R),M}const ee=super.emit(R,b,...z);return this[t](),ee}[p](R){for(const z of this.pipes)z.dest.write(R)===!1&&this.pause();const b=super.emit("data",R);return this[t](),b}[T](){this[e]||(this[e]=!0,this.readable=!1,this[I]?x(()=>this[P]()):this[P]())}[P](){if(this[w]){const b=this[w].end();if(b){for(const z of this.pipes)z.dest.write(b);super.emit("data",b)}}for(const b of this.pipes)b.end();const R=super.emit("end");return this.removeAllListeners("end"),R}collect(){const R=[];this[_]||(R.dataLength=0);const b=this.promise();return this.on("data",z=>{R.push(z),this[_]||(R.dataLength+=z.length)}),b.then(()=>R)}concat(){return this[_]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(R=>this[_]?Promise.reject(new Error("cannot concat in objectMode")):this[O]?R.join(""):Buffer.concat(R,R.dataLength))}promise(){return new Promise((R,b)=>{this.on(g,()=>b(new Error("stream destroyed"))),this.on("error",z=>b(z)),this.on("end",()=>R())})}[N](){return{next:()=>{const b=this.read();if(b!==null)return Promise.resolve({done:!1,value:b});if(this[i])return Promise.resolve({done:!0});let z=null,ee=null;const M=F=>{this.removeListener("data",L),this.removeListener("end",U),ee(F)},L=F=>{this.removeListener("error",M),this.removeListener("end",U),this.pause(),z({value:F,done:!!this[i]})},U=()=>{this.removeListener("error",M),this.removeListener("data",L),z({done:!0})},j=()=>M(new Error("stream destroyed"));return new Promise((F,q)=>{ee=q,z=F,this.once(g,j),this.once("error",M),this.once("end",U),this.once("data",L)})}}}[$](){return{next:()=>{const b=this.read();return{value:b,done:b===null}}}}destroy(R){return this[g]?(R?this.emit("error",R):this.emit(g),this):(this[g]=!0,this.buffer.length=0,this[E]=0,typeof this.close=="function"&&!this[u]&&this.close(),R?this.emit("error",R):this.emit(g),this)}static isStream(R){return!!R&&(R instanceof Va||R instanceof o||R instanceof a&&(typeof R.pipe=="function"||typeof R.write=="function"&&typeof R.end=="function"))}},Hn}var da;function pf(){if(da)return Ee;da=1;const n=tt,a=uu.Buffer,o=La,l=Ee.constants=df(),i=za(),t=a.concat,e=Symbol("_superWrite");class r extends Error{constructor(D){super("zlib: "+D.message),this.code=D.code,this.errno=D.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+D.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const s=Symbol("opts"),u=Symbol("flushFlag"),c=Symbol("finishFlushFlag"),y=Symbol("fullFlushFlag"),f=Symbol("handle"),O=Symbol("onError"),w=Symbol("sawError"),S=Symbol("level"),d=Symbol("strategy"),m=Symbol("ended");class E extends i{constructor(D,B){if(!D||typeof D!="object")throw new TypeError("invalid options for ZlibBase constructor");super(D),this[w]=!1,this[m]=!1,this[s]=D,this[u]=D.flush,this[c]=D.finishFlush;try{this[f]=new o[B](D)}catch(G){throw new r(G)}this[O]=G=>{this[w]||(this[w]=!0,this.close(),this.emit("error",G))},this[f].on("error",G=>this[O](new r(G))),this.once("end",()=>this.close)}close(){this[f]&&(this[f].close(),this[f]=null,this.emit("close"))}reset(){if(!this[w])return n(this[f],"zlib binding closed"),this[f].reset()}flush(D){this.ended||(typeof D!="number"&&(D=this[y]),this.write(Object.assign(a.alloc(0),{[u]:D})))}end(D,B,G){return D&&this.write(D,B),this.flush(this[c]),this[m]=!0,super.end(null,null,G)}get ended(){return this[m]}write(D,B,G){if(typeof B=="function"&&(G=B,B="utf8"),typeof D=="string"&&(D=a.from(D,B)),this[w])return;n(this[f],"zlib binding closed");const V=this[f]._handle,H=V.close;V.close=()=>{};const R=this[f].close;this[f].close=()=>{},a.concat=ee=>ee;let b;try{const ee=typeof D[u]=="number"?D[u]:this[u];b=this[f]._processChunk(D,ee),a.concat=t}catch(ee){a.concat=t,this[O](new r(ee))}finally{this[f]&&(this[f]._handle=V,V.close=H,this[f].close=R,this[f].removeAllListeners("error"))}this[f]&&this[f].on("error",ee=>this[O](new r(ee)));let z;if(b)if(Array.isArray(b)&&b.length>0){z=this[e](a.from(b[0]));for(let ee=1;ee<b.length;ee++)z=this[e](b[ee])}else z=this[e](a.from(b));return G&&G(),z}[e](D){return super.write(D)}}class h extends E{constructor(D,B){D=D||{},D.flush=D.flush||l.Z_NO_FLUSH,D.finishFlush=D.finishFlush||l.Z_FINISH,super(D,B),this[y]=l.Z_FULL_FLUSH,this[S]=D.level,this[d]=D.strategy}params(D,B){if(!this[w]){if(!this[f])throw new Error("cannot switch params when binding is closed");if(!this[f].params)throw new Error("not supported in this implementation");if(this[S]!==D||this[d]!==B){this.flush(l.Z_SYNC_FLUSH),n(this[f],"zlib binding closed");const G=this[f].flush;this[f].flush=(V,H)=>{this.flush(V),H()};try{this[f].params(D,B)}finally{this[f].flush=G}this[f]&&(this[S]=D,this[d]=B)}}}}class v extends h{constructor(D){super(D,"Deflate")}}class _ extends h{constructor(D){super(D,"Inflate")}}const g=Symbol("_portable");class p extends h{constructor(D){super(D,"Gzip"),this[g]=D&&!!D.portable}[e](D){return this[g]?(this[g]=!1,D[9]=255,super[e](D)):super[e](D)}}class T extends h{constructor(D){super(D,"Gunzip")}}class P extends h{constructor(D){super(D,"DeflateRaw")}}class I extends h{constructor(D){super(D,"InflateRaw")}}class x extends h{constructor(D){super(D,"Unzip")}}class k extends E{constructor(D,B){D=D||{},D.flush=D.flush||l.BROTLI_OPERATION_PROCESS,D.finishFlush=D.finishFlush||l.BROTLI_OPERATION_FINISH,super(D,B),this[y]=l.BROTLI_OPERATION_FLUSH}}class N extends k{constructor(D){super(D,"BrotliCompress")}}class $ extends k{constructor(D){super(D,"BrotliDecompress")}}return Ee.Deflate=v,Ee.Inflate=_,Ee.Gzip=p,Ee.Gunzip=T,Ee.DeflateRaw=P,Ee.InflateRaw=I,Ee.Unzip=x,typeof o.BrotliCompress=="function"?(Ee.BrotliCompress=N,Ee.BrotliDecompress=$):Ee.BrotliCompress=Ee.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}},Ee}var Un,pa;function mf(){if(pa)return Un;pa=1;const n=sf(),a=Wa(),o=Be,l=cf(),i=1024*1024,t=hf(),e=ff(),r=pf(),{nextTick:s}=cu,u=Buffer.from([31,139]),c=Symbol("state"),y=Symbol("writeEntry"),f=Symbol("readEntry"),O=Symbol("nextEntry"),w=Symbol("processEntry"),S=Symbol("extendedHeader"),d=Symbol("globalExtendedHeader"),m=Symbol("meta"),E=Symbol("emitMeta"),h=Symbol("buffer"),v=Symbol("queue"),_=Symbol("ended"),g=Symbol("emittedEnd"),p=Symbol("emit"),T=Symbol("unzip"),P=Symbol("consumeChunk"),I=Symbol("consumeChunkSub"),x=Symbol("consumeBody"),k=Symbol("consumeMeta"),N=Symbol("consumeHeader"),$=Symbol("consuming"),C=Symbol("bufferConcat"),D=Symbol("maybeEnd"),B=Symbol("writing"),G=Symbol("aborted"),V=Symbol("onDone"),H=Symbol("sawValidEntry"),R=Symbol("sawNullBlock"),b=Symbol("sawEOF"),z=Symbol("closeStream"),ee=M=>!0;return Un=n(class extends o{constructor(L){L=L||{},super(L),this.file=L.file||"",this[H]=null,this.on(V,j=>{(this[c]==="begin"||this[H]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),L.ondone?this.on(V,L.ondone):this.on(V,j=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!L.strict,this.maxMetaEntrySize=L.maxMetaEntrySize||i,this.filter=typeof L.filter=="function"?L.filter:ee;const U=L.file&&(L.file.endsWith(".tar.br")||L.file.endsWith(".tbr"));this.brotli=!L.gzip&&L.brotli!==void 0?L.brotli:U?void 0:!1,this.writable=!0,this.readable=!1,this[v]=new l,this[h]=null,this[f]=null,this[y]=null,this[c]="begin",this[m]="",this[S]=null,this[d]=null,this[_]=!1,this[T]=null,this[G]=!1,this[R]=!1,this[b]=!1,this.on("end",()=>this[z]()),typeof L.onwarn=="function"&&this.on("warn",L.onwarn),typeof L.onentry=="function"&&this.on("entry",L.onentry)}[N](L,U){this[H]===null&&(this[H]=!1);let j;try{j=new a(L,U,this[S],this[d])}catch(F){return this.warn("TAR_ENTRY_INVALID",F)}if(j.nullBlock)this[R]?(this[b]=!0,this[c]==="begin"&&(this[c]="header"),this[p]("eof")):(this[R]=!0,this[p]("nullBlock"));else if(this[R]=!1,!j.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:j});else if(!j.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:j});else{const F=j.type;if(/^(Symbolic)?Link$/.test(F)&&!j.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:j});else if(!/^(Symbolic)?Link$/.test(F)&&j.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:j});else{const q=this[y]=new t(j,this[S],this[d]);if(!this[H])if(q.remain){const Y=()=>{q.invalid||(this[H]=!0)};q.on("end",Y)}else this[H]=!0;q.meta?q.size>this.maxMetaEntrySize?(q.ignore=!0,this[p]("ignoredEntry",q),this[c]="ignore",q.resume()):q.size>0&&(this[m]="",q.on("data",Y=>this[m]+=Y),this[c]="meta"):(this[S]=null,q.ignore=q.ignore||!this.filter(q.path,q),q.ignore?(this[p]("ignoredEntry",q),this[c]=q.remain?"ignore":"header",q.resume()):(q.remain?this[c]="body":(this[c]="header",q.end()),this[f]?this[v].push(q):(this[v].push(q),this[O]())))}}}[z](){s(()=>this.emit("close"))}[w](L){let U=!0;return L?Array.isArray(L)?this.emit.apply(this,L):(this[f]=L,this.emit("entry",L),L.emittedEnd||(L.on("end",j=>this[O]()),U=!1)):(this[f]=null,U=!1),U}[O](){do;while(this[w](this[v].shift()));if(!this[v].length){const L=this[f];!L||L.flowing||L.size===L.remain?this[B]||this.emit("drain"):L.once("drain",j=>this.emit("drain"))}}[x](L,U){const j=this[y],F=j.blockRemain,q=F>=L.length&&U===0?L:L.slice(U,U+F);return j.write(q),j.blockRemain||(this[c]="header",this[y]=null,j.end()),q.length}[k](L,U){const j=this[y],F=this[x](L,U);return this[y]||this[E](j),F}[p](L,U,j){!this[v].length&&!this[f]?this.emit(L,U,j):this[v].push([L,U,j])}[E](L){switch(this[p]("meta",this[m]),L.type){case"ExtendedHeader":case"OldExtendedHeader":this[S]=e.parse(this[m],this[S],!1);break;case"GlobalExtendedHeader":this[d]=e.parse(this[m],this[d],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[S]=this[S]||Object.create(null),this[S].path=this[m].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[S]=this[S]||Object.create(null),this[S].linkpath=this[m].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+L.type)}}abort(L){this[G]=!0,this.emit("abort",L),this.warn("TAR_ABORT",L,{recoverable:!1})}write(L){if(this[G])return;if((this[T]===null||this.brotli===void 0&&this[T]===!1)&&L){if(this[h]&&(L=Buffer.concat([this[h],L]),this[h]=null),L.length<u.length)return this[h]=L,!0;for(let q=0;this[T]===null&&q<u.length;q++)L[q]!==u[q]&&(this[T]=!1);const F=this.brotli===void 0;if(this[T]===!1&&F)if(L.length<512)if(this[_])this.brotli=!0;else return this[h]=L,!0;else try{new a(L.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[T]===null||this[T]===!1&&this.brotli){const q=this[_];this[_]=!1,this[T]=this[T]===null?new r.Unzip:new r.BrotliDecompress,this[T].on("data",J=>this[P](J)),this[T].on("error",J=>this.abort(J)),this[T].on("end",J=>{this[_]=!0,this[P]()}),this[B]=!0;const Y=this[T][q?"end":"write"](L);return this[B]=!1,Y}}this[B]=!0,this[T]?this[T].write(L):this[P](L),this[B]=!1;const j=this[v].length?!1:this[f]?this[f].flowing:!0;return!j&&!this[v].length&&this[f].once("drain",F=>this.emit("drain")),j}[C](L){L&&!this[G]&&(this[h]=this[h]?Buffer.concat([this[h],L]):L)}[D](){if(this[_]&&!this[g]&&!this[G]&&!this[$]){this[g]=!0;const L=this[y];if(L&&L.blockRemain){const U=this[h]?this[h].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${L.blockRemain} more bytes, only ${U} available)`,{entry:L}),this[h]&&L.write(this[h]),L.end()}this[p](V)}}[P](L){if(this[$])this[C](L);else if(!L&&!this[h])this[D]();else{if(this[$]=!0,this[h]){this[C](L);const U=this[h];this[h]=null,this[I](U)}else this[I](L);for(;this[h]&&this[h].length>=512&&!this[G]&&!this[b];){const U=this[h];this[h]=null,this[I](U)}this[$]=!1}(!this[h]||this[_])&&this[D]()}[I](L){let U=0;const j=L.length;for(;U+512<=j&&!this[G]&&!this[b];)switch(this[c]){case"begin":case"header":this[N](L,U),U+=512;break;case"ignore":case"body":U+=this[x](L,U);break;case"meta":U+=this[k](L,U);break;default:throw new Error("invalid state: "+this[c])}U<j&&(this[h]?this[h]=Buffer.concat([L.slice(U),this[h]]):this[h]=L.slice(U))}end(L){this[G]||(this[T]?this[T].end(L):(this[_]=!0,this.brotli===void 0&&(L=L||Buffer.alloc(0)),this.write(L)))}}),Un}var Me={},ma;function Ya(){if(ma)return Me;ma=1;const n=za(),a=Be.EventEmitter,o=ye;let l=o.writev;if(!l){const H=process.binding("fs"),R=H.FSReqWrap||H.FSReqCallback;l=(b,z,ee,M)=>{const L=(j,F)=>M(j,F,z),U=new R;U.oncomplete=L,H.writeBuffers(b,z,ee,U)}}const i=Symbol("_autoClose"),t=Symbol("_close"),e=Symbol("_ended"),r=Symbol("_fd"),s=Symbol("_finished"),u=Symbol("_flags"),c=Symbol("_flush"),y=Symbol("_handleChunk"),f=Symbol("_makeBuf"),O=Symbol("_mode"),w=Symbol("_needDrain"),S=Symbol("_onerror"),d=Symbol("_onopen"),m=Symbol("_onread"),E=Symbol("_onwrite"),h=Symbol("_open"),v=Symbol("_path"),_=Symbol("_pos"),g=Symbol("_queue"),p=Symbol("_read"),T=Symbol("_readSize"),P=Symbol("_reading"),I=Symbol("_remain"),x=Symbol("_size"),k=Symbol("_write"),N=Symbol("_writing"),$=Symbol("_defaultFlag"),C=Symbol("_errored");class D extends n{constructor(R,b){if(b=b||{},super(b),this.readable=!0,this.writable=!1,typeof R!="string")throw new TypeError("path must be a string");this[C]=!1,this[r]=typeof b.fd=="number"?b.fd:null,this[v]=R,this[T]=b.readSize||16*1024*1024,this[P]=!1,this[x]=typeof b.size=="number"?b.size:1/0,this[I]=this[x],this[i]=typeof b.autoClose=="boolean"?b.autoClose:!0,typeof this[r]=="number"?this[p]():this[h]()}get fd(){return this[r]}get path(){return this[v]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[h](){o.open(this[v],"r",(R,b)=>this[d](R,b))}[d](R,b){R?this[S](R):(this[r]=b,this.emit("open",b),this[p]())}[f](){return Buffer.allocUnsafe(Math.min(this[T],this[I]))}[p](){if(!this[P]){this[P]=!0;const R=this[f]();if(R.length===0)return process.nextTick(()=>this[m](null,0,R));o.read(this[r],R,0,R.length,null,(b,z,ee)=>this[m](b,z,ee))}}[m](R,b,z){this[P]=!1,R?this[S](R):this[y](b,z)&&this[p]()}[t](){if(this[i]&&typeof this[r]=="number"){const R=this[r];this[r]=null,o.close(R,b=>b?this.emit("error",b):this.emit("close"))}}[S](R){this[P]=!0,this[t](),this.emit("error",R)}[y](R,b){let z=!1;return this[I]-=R,R>0&&(z=super.write(R<b.length?b.slice(0,R):b)),(R===0||this[I]<=0)&&(z=!1,this[t](),super.end()),z}emit(R,b){switch(R){case"prefinish":case"finish":break;case"drain":typeof this[r]=="number"&&this[p]();break;case"error":return this[C]?void 0:(this[C]=!0,super.emit(R,b));default:return super.emit(R,b)}}}class B extends D{[h](){let R=!0;try{this[d](null,o.openSync(this[v],"r")),R=!1}finally{R&&this[t]()}}[p](){let R=!0;try{if(!this[P]){this[P]=!0;do{const b=this[f](),z=b.length===0?0:o.readSync(this[r],b,0,b.length,null);if(!this[y](z,b))break}while(!0);this[P]=!1}R=!1}finally{R&&this[t]()}}[t](){if(this[i]&&typeof this[r]=="number"){const R=this[r];this[r]=null,o.closeSync(R),this.emit("close")}}}class G extends a{constructor(R,b){b=b||{},super(b),this.readable=!1,this.writable=!0,this[C]=!1,this[N]=!1,this[e]=!1,this[w]=!1,this[g]=[],this[v]=R,this[r]=typeof b.fd=="number"?b.fd:null,this[O]=b.mode===void 0?438:b.mode,this[_]=typeof b.start=="number"?b.start:null,this[i]=typeof b.autoClose=="boolean"?b.autoClose:!0;const z=this[_]!==null?"r+":"w";this[$]=b.flags===void 0,this[u]=this[$]?z:b.flags,this[r]===null&&this[h]()}emit(R,b){if(R==="error"){if(this[C])return;this[C]=!0}return super.emit(R,b)}get fd(){return this[r]}get path(){return this[v]}[S](R){this[t](),this[N]=!0,this.emit("error",R)}[h](){o.open(this[v],this[u],this[O],(R,b)=>this[d](R,b))}[d](R,b){this[$]&&this[u]==="r+"&&R&&R.code==="ENOENT"?(this[u]="w",this[h]()):R?this[S](R):(this[r]=b,this.emit("open",b),this[c]())}end(R,b){return R&&this.write(R,b),this[e]=!0,!this[N]&&!this[g].length&&typeof this[r]=="number"&&this[E](null,0),this}write(R,b){return typeof R=="string"&&(R=Buffer.from(R,b)),this[e]?(this.emit("error",new Error("write() after end()")),!1):this[r]===null||this[N]||this[g].length?(this[g].push(R),this[w]=!0,!1):(this[N]=!0,this[k](R),!0)}[k](R){o.write(this[r],R,0,R.length,this[_],(b,z)=>this[E](b,z))}[E](R,b){R?this[S](R):(this[_]!==null&&(this[_]+=b),this[g].length?this[c]():(this[N]=!1,this[e]&&!this[s]?(this[s]=!0,this[t](),this.emit("finish")):this[w]&&(this[w]=!1,this.emit("drain"))))}[c](){if(this[g].length===0)this[e]&&this[E](null,0);else if(this[g].length===1)this[k](this[g].pop());else{const R=this[g];this[g]=[],l(this[r],R,this[_],(b,z)=>this[E](b,z))}}[t](){if(this[i]&&typeof this[r]=="number"){const R=this[r];this[r]=null,o.close(R,b=>b?this.emit("error",b):this.emit("close"))}}}class V extends G{[h](){let R;if(this[$]&&this[u]==="r+")try{R=o.openSync(this[v],this[u],this[O])}catch(b){if(b.code==="ENOENT")return this[u]="w",this[h]();throw b}else R=o.openSync(this[v],this[u],this[O]);this[d](null,R)}[t](){if(this[i]&&typeof this[r]=="number"){const R=this[r];this[r]=null,o.closeSync(R),this.emit("close")}}[k](R){let b=!0;try{this[E](null,o.writeSync(this[r],R,0,R.length,this[_])),b=!1}finally{if(b)try{this[t]()}catch{}}}}return Me.ReadStream=D,Me.ReadStreamSync=B,Me.WriteStream=G,Me.WriteStreamSync=V,Me}var Dt={exports:{}},Ka=we();const _f=Ka.mkdirp,yf=Object.freeze(Object.defineProperty({__proto__:null,default:_f,sync:Ka.mkdirpSync},Symbol.toStringTag,{value:"Module"})),Ef=lu(yf);var jn,_a;function gf(){if(_a)return jn;_a=1;const n=ye,a=ce,o=n.lchown?"lchown":"chown",l=n.lchownSync?"lchownSync":"chownSync",i=n.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),t=(m,E,h)=>{try{return n[l](m,E,h)}catch(v){if(v.code!=="ENOENT")throw v}},e=(m,E,h)=>{try{return n.chownSync(m,E,h)}catch(v){if(v.code!=="ENOENT")throw v}},r=i?(m,E,h,v)=>_=>{!_||_.code!=="EISDIR"?v(_):n.chown(m,E,h,v)}:(m,E,h,v)=>v,s=i?(m,E,h)=>{try{return t(m,E,h)}catch(v){if(v.code!=="EISDIR")throw v;e(m,E,h)}}:(m,E,h)=>t(m,E,h),u=process.version;let c=(m,E,h)=>n.readdir(m,E,h),y=(m,E)=>n.readdirSync(m,E);/^v4\./.test(u)&&(c=(m,E,h)=>n.readdir(m,h));const f=(m,E,h,v)=>{n[o](m,E,h,r(m,E,h,_=>{v(_&&_.code!=="ENOENT"?_:null)}))},O=(m,E,h,v,_)=>{if(typeof E=="string")return n.lstat(a.resolve(m,E),(g,p)=>{if(g)return _(g.code!=="ENOENT"?g:null);p.name=E,O(m,p,h,v,_)});if(E.isDirectory())w(a.resolve(m,E.name),h,v,g=>{if(g)return _(g);const p=a.resolve(m,E.name);f(p,h,v,_)});else{const g=a.resolve(m,E.name);f(g,h,v,_)}},w=(m,E,h,v)=>{c(m,{withFileTypes:!0},(_,g)=>{if(_){if(_.code==="ENOENT")return v();if(_.code!=="ENOTDIR"&&_.code!=="ENOTSUP")return v(_)}if(_||!g.length)return f(m,E,h,v);let p=g.length,T=null;const P=I=>{if(!T){if(I)return v(T=I);if(--p===0)return f(m,E,h,v)}};g.forEach(I=>O(m,I,E,h,P))})},S=(m,E,h,v)=>{if(typeof E=="string")try{const _=n.lstatSync(a.resolve(m,E));_.name=E,E=_}catch(_){if(_.code==="ENOENT")return;throw _}E.isDirectory()&&d(a.resolve(m,E.name),h,v),s(a.resolve(m,E.name),h,v)},d=(m,E,h)=>{let v;try{v=y(m,{withFileTypes:!0})}catch(_){if(_.code==="ENOENT")return;if(_.code==="ENOTDIR"||_.code==="ENOTSUP")return s(m,E,h);throw _}return v&&v.length&&v.forEach(_=>S(m,_,E,h)),s(m,E,h)};return jn=w,w.sync=d,jn}var ya;function vf(){if(ya)return Dt.exports;ya=1;const n=Ef,a=ye,o=ce,l=gf(),i=fi();class t extends Error{constructor(w,S){super("Cannot extract through symbolic link"),this.path=S,this.symlink=w}get name(){return"SylinkError"}}class e extends Error{constructor(w,S){super(S+": Cannot cd into '"+w+"'"),this.path=w,this.code=S}get name(){return"CwdError"}}const r=(O,w)=>O.get(i(w)),s=(O,w,S)=>O.set(i(w),S),u=(O,w)=>{a.stat(O,(S,d)=>{(S||!d.isDirectory())&&(S=new e(O,S&&S.code||"ENOTDIR")),w(S)})};Dt.exports=(O,w,S)=>{O=i(O);const d=w.umask,m=w.mode|448,E=(m&d)!==0,h=w.uid,v=w.gid,_=typeof h=="number"&&typeof v=="number"&&(h!==w.processUid||v!==w.processGid),g=w.preserve,p=w.unlink,T=w.cache,P=i(w.cwd),I=(N,$)=>{N?S(N):(s(T,O,!0),$&&_?l($,h,v,C=>I(C)):E?a.chmod(O,m,S):S())};if(T&&r(T,O)===!0)return I();if(O===P)return u(O,I);if(g)return n(O,{mode:m}).then(N=>I(null,N),I);const k=i(o.relative(P,O)).split("/");c(P,k,m,T,p,P,null,I)};const c=(O,w,S,d,m,E,h,v)=>{if(!w.length)return v(null,h);const _=w.shift(),g=i(o.resolve(O+"/"+_));if(r(d,g))return c(g,w,S,d,m,E,h,v);a.mkdir(g,S,y(g,w,S,d,m,E,h,v))},y=(O,w,S,d,m,E,h,v)=>_=>{_?a.lstat(O,(g,p)=>{if(g)g.path=g.path&&i(g.path),v(g);else if(p.isDirectory())c(O,w,S,d,m,E,h,v);else if(m)a.unlink(O,T=>{if(T)return v(T);a.mkdir(O,S,y(O,w,S,d,m,E,h,v))});else{if(p.isSymbolicLink())return v(new t(O,O+"/"+w.join("/")));v(_)}}):(h=h||O,c(O,w,S,d,m,E,h,v))},f=O=>{let w=!1,S="ENOTDIR";try{w=a.statSync(O).isDirectory()}catch(d){S=d.code}finally{if(!w)throw new e(O,S)}};return Dt.exports.sync=(O,w)=>{O=i(O);const S=w.umask,d=w.mode|448,m=(d&S)!==0,E=w.uid,h=w.gid,v=typeof E=="number"&&typeof h=="number"&&(E!==w.processUid||h!==w.processGid),_=w.preserve,g=w.unlink,p=w.cache,T=i(w.cwd),P=N=>{s(p,O,!0),N&&v&&l.sync(N,E,h),m&&a.chmodSync(O,d)};if(p&&r(p,O)===!0)return P();if(O===T)return f(T),P();if(_)return P(n.sync(O,d));const x=i(o.relative(T,O)).split("/");let k=null;for(let N=x.shift(),$=T;N&&($+="/"+N);N=x.shift())if($=i(o.resolve($)),!r(p,$))try{a.mkdirSync($,d),k=k||$,s(p,$,!0)}catch{const D=a.lstatSync($);if(D.isDirectory()){s(p,$,!0);continue}else if(g){a.unlinkSync($),a.mkdirSync($,d),k=k||$,s(p,$,!0);continue}else if(D.isSymbolicLink())return new t($,$+"/"+x.join("/"))}return P(k)},Dt.exports}var Gn,Ea;function Sf(){if(Ea)return Gn;Ea=1;const n=["|","<",">","?",":"],a=n.map(i=>String.fromCharCode(61440+i.charCodeAt(0))),o=new Map(n.map((i,t)=>[i,a[t]])),l=new Map(a.map((i,t)=>[i,n[t]]));return Gn={encode:i=>n.reduce((t,e)=>t.split(e).join(o.get(e)),i),decode:i=>a.reduce((t,e)=>t.split(e).join(l.get(e)),i)},Gn}var Wn,ga;function Xa(){if(ga)return Wn;ga=1;const n=Object.create(null),{hasOwnProperty:a}=Object.prototype;return Wn=o=>(a.call(n,o)||(n[o]=o.normalize("NFD")),n[o]),Wn}var Vn,va;function di(){return va||(va=1,Vn=n=>{let a=n.length-1,o=-1;for(;a>-1&&n.charAt(a)==="/";)o=a,a--;return o===-1?n:n.slice(0,o)}),Vn}var zn,Sa;function Rf(){if(Sa)return zn;Sa=1;const n=tt,a=Xa(),o=di(),{join:l}=ce,t=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32";return zn=()=>{const e=new Map,r=new Map,s=S=>S.split("/").slice(0,-1).reduce((m,E)=>(m.length&&(E=l(m[m.length-1],E)),m.push(E||"/"),m),[]),u=new Set,c=S=>{const d=r.get(S);if(!d)throw new Error("function does not have any path reservations");return{paths:d.paths.map(m=>e.get(m)),dirs:[...d.dirs].map(m=>e.get(m))}},y=S=>{const{paths:d,dirs:m}=c(S);return d.every(E=>E[0]===S)&&m.every(E=>E[0]instanceof Set&&E[0].has(S))},f=S=>u.has(S)||!y(S)?!1:(u.add(S),S(()=>O(S)),!0),O=S=>{if(!u.has(S))return!1;const{paths:d,dirs:m}=r.get(S),E=new Set;return d.forEach(h=>{const v=e.get(h);n.equal(v[0],S),v.length===1?e.delete(h):(v.shift(),typeof v[0]=="function"?E.add(v[0]):v[0].forEach(_=>E.add(_)))}),m.forEach(h=>{const v=e.get(h);n(v[0]instanceof Set),v[0].size===1&&v.length===1?e.delete(h):v[0].size===1?(v.shift(),E.add(v[0])):v[0].delete(S)}),u.delete(S),E.forEach(h=>f(h)),!0};return{check:y,reserve:(S,d)=>{S=t?["win32 parallelization disabled"]:S.map(E=>o(l(a(E))).toLowerCase());const m=new Set(S.map(E=>s(E)).reduce((E,h)=>E.concat(h)));return r.set(d,{dirs:m,paths:S}),S.forEach(E=>{const h=e.get(E);h?h.push(d):e.set(E,[d])}),m.forEach(E=>{const h=e.get(E);h?h[h.length-1]instanceof Set?h[h.length-1].add(d):h.push(new Set([d])):e.set(E,[new Set([d])])}),f(d)}}},zn}var Yn,Ra;function wf(){if(Ra)return Yn;Ra=1;const{isAbsolute:n,parse:a}=ce.win32;return Yn=o=>{let l="",i=a(o);for(;n(o)||i.root;){const t=o.charAt(0)==="/"&&o.slice(0,4)!=="//?/"?"/":i.root;o=o.slice(t.length),l+=t,i=a(o)}return[l,o]},Yn}var Kn,wa;function Of(){if(wa)return Kn;wa=1;const a=(process.env.__FAKE_PLATFORM__||process.platform)==="win32",o=Ie.__FAKE_TESTING_FS__||ye,{O_CREAT:l,O_TRUNC:i,O_WRONLY:t,UV_FS_O_FILEMAP:e=0}=o.constants,r=a&&!!e,s=512*1024,u=e|i|l|t;return Kn=r?c=>c<s?u:"w":()=>"w",Kn}var Xn,Oa;function Af(){if(Oa)return Xn;Oa=1;const n=tt,a=mf(),o=ye,l=Ya(),i=ce,t=vf(),e=Sf(),r=Rf(),s=wf(),u=fi(),c=di(),y=Xa(),f=Symbol("onEntry"),O=Symbol("checkFs"),w=Symbol("checkFs2"),S=Symbol("pruneCache"),d=Symbol("isReusable"),m=Symbol("makeFs"),E=Symbol("file"),h=Symbol("directory"),v=Symbol("link"),_=Symbol("symlink"),g=Symbol("hardlink"),p=Symbol("unsupported"),T=Symbol("checkPath"),P=Symbol("mkdir"),I=Symbol("onError"),x=Symbol("pending"),k=Symbol("pend"),N=Symbol("unpend"),$=Symbol("ended"),C=Symbol("maybeClose"),D=Symbol("skip"),B=Symbol("doChown"),G=Symbol("uid"),V=Symbol("gid"),H=Symbol("checkedCwd"),R=ba,b=Of(),ee=(process.env.TESTING_TAR_FAKE_PLATFORM||process.platform)==="win32",M=1024,L=(Z,A)=>{if(!ee)return o.unlink(Z,A);const X=Z+".DELETE."+R.randomBytes(16).toString("hex");o.rename(Z,X,Q=>{if(Q)return A(Q);o.unlink(X,A)})},U=Z=>{if(!ee)return o.unlinkSync(Z);const A=Z+".DELETE."+R.randomBytes(16).toString("hex");o.renameSync(Z,A),o.unlinkSync(A)},j=(Z,A,X)=>Z===Z>>>0?Z:A===A>>>0?A:X,F=Z=>c(u(y(Z))).toLowerCase(),q=(Z,A)=>{A=F(A);for(const X of Z.keys()){const Q=F(X);(Q===A||Q.indexOf(A+"/")===0)&&Z.delete(X)}},Y=Z=>{for(const A of Z.keys())Z.delete(A)};class J extends a{constructor(A){if(A||(A={}),A.ondone=X=>{this[$]=!0,this[C]()},super(A),this[H]=!1,this.reservations=r(),this.transform=typeof A.transform=="function"?A.transform:null,this.writable=!0,this.readable=!1,this[x]=0,this[$]=!1,this.dirCache=A.dirCache||new Map,typeof A.uid=="number"||typeof A.gid=="number"){if(typeof A.uid!="number"||typeof A.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(A.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=A.uid,this.gid=A.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;A.preserveOwner===void 0&&typeof A.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!A.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof A.maxDepth=="number"?A.maxDepth:M,this.forceChown=A.forceChown===!0,this.win32=!!A.win32||ee,this.newer=!!A.newer,this.keep=!!A.keep,this.noMtime=!!A.noMtime,this.preservePaths=!!A.preservePaths,this.unlink=!!A.unlink,this.cwd=u(i.resolve(A.cwd||process.cwd())),this.strip=+A.strip||0,this.processUmask=A.noChmod?0:process.umask(),this.umask=typeof A.umask=="number"?A.umask:this.processUmask,this.dmode=A.dmode||511&~this.umask,this.fmode=A.fmode||438&~this.umask,this.on("entry",X=>this[f](X))}warn(A,X,Q={}){return(A==="TAR_BAD_ARCHIVE"||A==="TAR_ABORT")&&(Q.recoverable=!1),super.warn(A,X,Q)}[C](){this[$]&&this[x]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[T](A){const X=u(A.path),Q=X.split("/");if(this.strip){if(Q.length<this.strip)return!1;if(A.type==="Link"){const W=u(A.linkpath).split("/");if(W.length>=this.strip)A.linkpath=W.slice(this.strip).join("/");else return!1}Q.splice(0,this.strip),A.path=Q.join("/")}if(isFinite(this.maxDepth)&&Q.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:A,path:X,depth:Q.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(Q.includes("..")||ee&&/^[a-z]:\.\.$/i.test(Q[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:A,path:X}),!1;const[W,ne]=s(X);W&&(A.path=ne,this.warn("TAR_ENTRY_INFO",`stripping ${W} from absolute path`,{entry:A,path:X}))}if(i.isAbsolute(A.path)?A.absolute=u(i.resolve(A.path)):A.absolute=u(i.resolve(this.cwd,A.path)),!this.preservePaths&&A.absolute.indexOf(this.cwd+"/")!==0&&A.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:A,path:u(A.path),resolvedPath:A.absolute,cwd:this.cwd}),!1;if(A.absolute===this.cwd&&A.type!=="Directory"&&A.type!=="GNUDumpDir")return!1;if(this.win32){const{root:W}=i.win32.parse(A.absolute);A.absolute=W+e.encode(A.absolute.slice(W.length));const{root:ne}=i.win32.parse(A.path);A.path=ne+e.encode(A.path.slice(ne.length))}return!0}[f](A){if(!this[T](A))return A.resume();switch(n.equal(typeof A.absolute,"string"),A.type){case"Directory":case"GNUDumpDir":A.mode&&(A.mode=A.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[O](A);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[p](A)}}[I](A,X){A.name==="CwdError"?this.emit("error",A):(this.warn("TAR_ENTRY_ERROR",A,{entry:X}),this[N](),X.resume())}[P](A,X,Q){t(u(A),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X,noChmod:this.noChmod},Q)}[B](A){return this.forceChown||this.preserveOwner&&(typeof A.uid=="number"&&A.uid!==this.processUid||typeof A.gid=="number"&&A.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[G](A){return j(this.uid,A.uid,this.processUid)}[V](A){return j(this.gid,A.gid,this.processGid)}[E](A,X){const Q=A.mode&4095||this.fmode,W=new l.WriteStream(A.absolute,{flags:b(A.size),mode:Q,autoClose:!1});W.on("error",ie=>{W.fd&&o.close(W.fd,()=>{}),W.write=()=>!0,this[I](ie,A),X()});let ne=1;const K=ie=>{if(ie){W.fd&&o.close(W.fd,()=>{}),this[I](ie,A),X();return}--ne===0&&o.close(W.fd,ae=>{ae?this[I](ae,A):this[N](),X()})};W.on("finish",ie=>{const ae=A.absolute,ue=W.fd;if(A.mtime&&!this.noMtime){ne++;const fe=A.atime||new Date,_e=A.mtime;o.futimes(ue,fe,_e,We=>We?o.utimes(ae,fe,_e,Bt=>K(Bt&&We)):K())}if(this[B](A)){ne++;const fe=this[G](A),_e=this[V](A);o.fchown(ue,fe,_e,We=>We?o.chown(ae,fe,_e,Bt=>K(Bt&&We)):K())}K()});const te=this.transform&&this.transform(A)||A;te!==A&&(te.on("error",ie=>{this[I](ie,A),X()}),A.pipe(te)),te.pipe(W)}[h](A,X){const Q=A.mode&4095||this.dmode;this[P](A.absolute,Q,W=>{if(W){this[I](W,A),X();return}let ne=1;const K=te=>{--ne===0&&(X(),this[N](),A.resume())};A.mtime&&!this.noMtime&&(ne++,o.utimes(A.absolute,A.atime||new Date,A.mtime,K)),this[B](A)&&(ne++,o.chown(A.absolute,this[G](A),this[V](A),K)),K()})}[p](A){A.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${A.type}`,{entry:A}),A.resume()}[_](A,X){this[v](A,A.linkpath,"symlink",X)}[g](A,X){const Q=u(i.resolve(this.cwd,A.linkpath));this[v](A,Q,"link",X)}[k](){this[x]++}[N](){this[x]--,this[C]()}[D](A){this[N](),A.resume()}[d](A,X){return A.type==="File"&&!this.unlink&&X.isFile()&&X.nlink<=1&&!ee}[O](A){this[k]();const X=[A.path];A.linkpath&&X.push(A.linkpath),this.reservations.reserve(X,Q=>this[w](A,Q))}[S](A){A.type==="SymbolicLink"?Y(this.dirCache):A.type!=="Directory"&&q(this.dirCache,A.absolute)}[w](A,X){this[S](A);const Q=te=>{this[S](A),X(te)},W=()=>{this[P](this.cwd,this.dmode,te=>{if(te){this[I](te,A),Q();return}this[H]=!0,ne()})},ne=()=>{if(A.absolute!==this.cwd){const te=u(i.dirname(A.absolute));if(te!==this.cwd)return this[P](te,this.dmode,ie=>{if(ie){this[I](ie,A),Q();return}K()})}K()},K=()=>{o.lstat(A.absolute,(te,ie)=>{if(ie&&(this.keep||this.newer&&ie.mtime>A.mtime)){this[D](A),Q();return}if(te||this[d](A,ie))return this[m](null,A,Q);if(ie.isDirectory()){if(A.type==="Directory"){const ae=!this.noChmod&&A.mode&&(ie.mode&4095)!==A.mode,ue=fe=>this[m](fe,A,Q);return ae?o.chmod(A.absolute,A.mode,ue):ue()}if(A.absolute!==this.cwd)return o.rmdir(A.absolute,ae=>this[m](ae,A,Q))}if(A.absolute===this.cwd)return this[m](null,A,Q);L(A.absolute,ae=>this[m](ae,A,Q))})};this[H]?ne():W()}[m](A,X,Q){if(A){this[I](A,X),Q();return}switch(X.type){case"File":case"OldFile":case"ContiguousFile":return this[E](X,Q);case"Link":return this[g](X,Q);case"SymbolicLink":return this[_](X,Q);case"Directory":case"GNUDumpDir":return this[h](X,Q)}}[v](A,X,Q,W){o[Q](X,A.absolute,ne=>{ne?this[I](ne,A):(this[N](),A.resume()),W()})}}const re=Z=>{try{return[null,Z()]}catch(A){return[A,null]}};class se extends J{[m](A,X){return super[m](A,X,()=>{})}[O](A){if(this[S](A),!this[H]){const ne=this[P](this.cwd,this.dmode);if(ne)return this[I](ne,A);this[H]=!0}if(A.absolute!==this.cwd){const ne=u(i.dirname(A.absolute));if(ne!==this.cwd){const K=this[P](ne,this.dmode);if(K)return this[I](K,A)}}const[X,Q]=re(()=>o.lstatSync(A.absolute));if(Q&&(this.keep||this.newer&&Q.mtime>A.mtime))return this[D](A);if(X||this[d](A,Q))return this[m](null,A);if(Q.isDirectory()){if(A.type==="Directory"){const K=!this.noChmod&&A.mode&&(Q.mode&4095)!==A.mode,[te]=K?re(()=>{o.chmodSync(A.absolute,A.mode)}):[];return this[m](te,A)}const[ne]=re(()=>o.rmdirSync(A.absolute));this[m](ne,A)}const[W]=A.absolute===this.cwd?[]:re(()=>U(A.absolute));this[m](W,A)}[E](A,X){const Q=A.mode&4095||this.fmode,W=te=>{let ie;try{o.closeSync(ne)}catch(ae){ie=ae}(te||ie)&&this[I](te||ie,A),X()};let ne;try{ne=o.openSync(A.absolute,b(A.size),Q)}catch(te){return W(te)}const K=this.transform&&this.transform(A)||A;K!==A&&(K.on("error",te=>this[I](te,A)),A.pipe(K)),K.on("data",te=>{try{o.writeSync(ne,te,0,te.length)}catch(ie){W(ie)}}),K.on("end",te=>{let ie=null;if(A.mtime&&!this.noMtime){const ae=A.atime||new Date,ue=A.mtime;try{o.futimesSync(ne,ae,ue)}catch(fe){try{o.utimesSync(A.absolute,ae,ue)}catch{ie=fe}}}if(this[B](A)){const ae=this[G](A),ue=this[V](A);try{o.fchownSync(ne,ae,ue)}catch(fe){try{o.chownSync(A.absolute,ae,ue)}catch{ie=ie||fe}}}W(ie)})}[h](A,X){const Q=A.mode&4095||this.dmode,W=this[P](A.absolute,Q);if(W){this[I](W,A),X();return}if(A.mtime&&!this.noMtime)try{o.utimesSync(A.absolute,A.atime||new Date,A.mtime)}catch{}if(this[B](A))try{o.chownSync(A.absolute,this[G](A),this[V](A))}catch{}X(),A.resume()}[P](A,X){try{return t.sync(u(A),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:X})}catch(Q){return Q}}[v](A,X,Q,W){try{o[Q+"Sync"](X,A.absolute),W(),A.resume()}catch(ne){return this[I](ne,A)}}}return J.Sync=se,Xn=J,Xn}var Zn,Aa;function Tf(){if(Aa)return Zn;Aa=1;const n=nf(),a=Af(),o=ye,l=Ya(),i=ce,t=di();Zn=(y,f,O)=>{typeof y=="function"?(O=y,f=null,y={}):Array.isArray(y)&&(f=y,y={}),typeof f=="function"&&(O=f,f=null),f?f=Array.from(f):f=[];const w=n(y);if(w.sync&&typeof O=="function")throw new TypeError("callback not supported for sync tar functions");if(!w.file&&typeof O=="function")throw new TypeError("callback only supported with file option");return f.length&&e(w,f),w.file&&w.sync?r(w):w.file?s(w,O):w.sync?u(w):c(w)};const e=(y,f)=>{const O=new Map(f.map(d=>[t(d),!0])),w=y.filter,S=(d,m)=>{const E=m||i.parse(d).root||".",h=d===E?!1:O.has(d)?O.get(d):S(i.dirname(d),E);return O.set(d,h),h};y.filter=w?(d,m)=>w(d,m)&&S(t(d)):d=>S(t(d))},r=y=>{const f=new a.Sync(y),O=y.file,w=o.statSync(O),S=y.maxReadSize||16*1024*1024;new l.ReadStreamSync(O,{readSize:S,size:w.size}).pipe(f)},s=(y,f)=>{const O=new a(y),w=y.maxReadSize||16*1024*1024,S=y.file,d=new Promise((m,E)=>{O.on("error",E),O.on("close",m),o.stat(S,(h,v)=>{if(h)E(h);else{const _=new l.ReadStream(S,{readSize:w,size:v.size});_.on("error",E),_.pipe(O)}})});return f?d.then(f,f):d},u=y=>new a.Sync(y),c=y=>new a(y);return Zn}var Pf=Tf();const bf=be(Pf);async function pi(n,a){try{const o=a.path??le(iu(),mi(n)),l=mi(o),i=eu(o);await he.ensureDir(i);const t=new rf.DownloaderHelper(n,i,{fileName:l,timeout:a.timeout??-1});t.on("error",r=>{throw r});const e={filePath:o,hash:void 0};return await t.start(),e.hash=a.hashType!==void 0?await Nf(o,a.hashType):void 0,e}catch(o){throw new Error(`Failed to download ${n}: ${o}`)}}async function Nf(n,a){const o=await he.readFile(n),l=ba.createHash(a);return l.update(o),l.digest("hex")}async function Lf(n,a={}){const{filePath:o}=await pi(n,a);try{return await he.readFile(o,"utf8")}finally{await he.remove(o).catch(()=>{})}}async function If(n,a){const{hash:o}=await pi(n,a);if(!Za(o,a))throw new Error(`Checksum mismatch for download ${n}. Expected ${a.hashSum}, got ${o}`);return o}async function Df(n,a){const{filePath:o,hash:l}=await pi(n,a);try{if(!Za(l,a))throw new Error(`Checksum mismatch for download ${n}. Expected ${a.hashSum}, got ${l}`);return await bf({file:o,...a.extractOptions}),l}finally{(a.removeAfterExtract??!0)&&await he.remove(o).catch(()=>{})}}function Za(n,a){return a.hashType===void 0||a.hashSum===void 0||a.hashSum===n}function Ta(n,a,o){const l=n.find(i=>i.getPath===o);return!!(l&&l.sum===a)}class Cf{constructor(a){this.config=a}_abi=null;internalPath(){return le(Ol,".cmake-ts",this.config.runtime,this.config.os,this.config.arch,`v${this.config.runtimeVersion}`)}externalPath(){return qe(this.config).externalPath}winLibs(){return qe(this.config).winLibs.map(a=>le(this.internalPath(),a.dir,a.name))}headerOnly(){return qe(this.config).headerOnly}abi(){return this._abi}async checkDownloaded(){let a=!1,o=!0,l=await Le(this.internalPath());return l.isDirectory()||(a=!1),this.headerOnly()?(l=await Le(le(this.internalPath(),"include/node/node.h")),a=l.isFile()):(l=await Le(le(this.internalPath(),"src/node.h")),l.isFile()&&(l=await Le(le(this.internalPath(),"deps/v8/include/v8.h")),a=l.isFile())),this.config.os==="win32"&&(o=(await Promise.all(this.winLibs().map(e=>Le(e)))).every(e=>e.isFile())),a&&o}async determineABI(){const a=await Zh("*/node_version.h",{cwd:le(this.internalPath(),"include"),absolute:!0,onlyFiles:!0,braceExpansion:!1}),o=a.length;if(o===0)return Promise.reject(new Error(`couldn't find include/*/node_version.h in ${this.internalPath()}. Make sure you install the dependencies for building the package.`));if(o!==1)return Promise.reject(new Error(`more than one node_version.h was found in ${this.internalPath()}.`));const l=a[0];let i;try{i=await he.readFile(l,"utf8")}catch(r){if(r instanceof Error)return Promise.reject(r);throw r}const t=i.match(/#define\s+NODE_MODULE_VERSION\s+(\d+)/);if(!t)return Promise.reject(new Error("Failed to find NODE_MODULE_VERSION macro"));const e=Number.parseInt(t[1],10);return Number.isNaN(e)?Promise.reject(new Error("Invalid version specified by NODE_MODULE_VERSION macro")):(this._abi=e,this.config.abi=e,this.config.libc=await $f(),Promise.resolve())}async ensureDownloaded(){await this.checkDownloaded()||await this.download()}async download(){await he.ensureDir(this.internalPath());const a=await this.downloadHashSums();await this.downloadTar(a),await this.downloadLibs(a)}async downloadHashSums(){if(this.config.runtime==="node"||this.config.runtime==="iojs"){const a=It(this.externalPath(),"SHASUMS256.txt");return(await Lf(a)).split(`
`).map(l=>{const i=l.split(/\s+/);return{getPath:i[1],sum:i[0]}}).filter(l=>l.getPath&&l.sum)}return null}async downloadTar(a){const o=qe(this.config).tarPath,l=It(this.externalPath(),o),i=await Df(l,{hashType:a?"sha256":void 0,extractOptions:{cwd:this.internalPath(),strip:1,filter:t=>{if(t===this.internalPath())return!0;const e=tu(t);return e!==""&&e.toLowerCase()===".h"}}});if(a&&!Ta(a,i,o))throw new Error("Checksum mismatch")}async downloadLibs(a){if(this.config.os!=="win32")return;const o=qe(this.config);await Promise.all(o.winLibs.map(l=>this.downloadLib(l,a)))}async downloadLib(a,o){const l=a.dir?It(a.dir,a.name):a.name,i=It(this.externalPath(),l);await he.ensureDir(le(this.internalPath(),a.dir));const t=await If(i,{path:le(this.internalPath(),l),hashType:o?"sha256":void 0});if(o&&!Ta(o,t,l))throw new Error("Checksum mismatch")}}async function $f(){return process.platform==="linux"?await he.pathExists("/etc/alpine-release")?"musl":"glibc":process.platform==="darwin"?"libc":process.platform==="win32"?"msvc":"unknown"}const xf=Ft("CMAKETSDEBUG");async function Ff(){const n=process.argv.slice(2);let a;try{const e=Ne(le(process.cwd(),"package.json"));a=await he.readJson(e)}catch(e){console.error("Failed to load package.json, maybe your cwd is wrong:",e),process.exit(1)}const o=a["cmake-ts"];o===void 0&&(console.error("Package.json does not have cmake-ts key defined!"),process.exit(1));const l=await bl(n),i=await xl(o,l);i.targetDirectory=Ne(le(i.packageDirectory,i.targetDirectory)),i.stagingDirectory=Ne(le(i.packageDirectory,i.stagingDirectory));const t=await he.pathExists(i.stagingDirectory);console.log("running in",i.packageDirectory,"command",n),process.stdout.write("> Setting up staging directory... "),t&&(await he.remove(i.stagingDirectory),process.stdout.write("[ CLEARED ]")),await he.ensureDir(i.stagingDirectory),console.log("[ DONE ]");for(const e of i.configurations){const r=Fa(e),s=new Cf(r);console.log("---------------- BEGIN CONFIG ----------------"),process.stdout.write("> Distribution File Download... "),await s.ensureDownloaded(),console.log("[ DONE ]"),process.stdout.write("> Determining ABI... "),await s.determineABI(),console.log("[ DONE ]"),process.stdout.write("> Building directories... ");const u=le(r.os,r.arch,r.runtime,`${r.libc}-${s.abi()}-${i.buildType}`,r.addonSubdirectory),c=Ne(le(i.stagingDirectory,u)),y=Ne(le(i.targetDirectory,u));console.log("[ DONE ]"),process.stdout.write("> Applying overrides... ");const f=Yl(r);console.log(`[ DONE, ${f} applied ]`),console.log("--------------- CONFIG SUMMARY ---------------"),console.log("Name: ",r.name?r.name:"N/A"),console.log("OS/Arch:",r.os,r.arch),console.log("Runtime:",r.runtime,r.runtimeVersion),console.log("Target ABI:",s.abi()),console.log("Toolchain File:",r.toolchainFile),console.log("Custom CMake options:",r.CMakeOptions&&r.CMakeOptions.length>0?"yes":"no"),console.log("Staging area:",c),console.log("Target directory:",y),console.log("Build Type",i.buildType),console.log("----------------------------------------------"),process.stdout.write("> Setting up config specific staging directory... "),await he.ensureDir(c),console.log("[ DONE ]");const O=new Pl(r,i,s);process.stdout.write("> Building CMake command line... ");const w=await O.buildCmakeCommandLine(),S=O.buildGeneratorCommandLine(c);console.log("[ DONE ]"),xf!==void 0&&(console.log("====> configure: ",w),console.log("====> build:     ",S)),process.stdout.write("> Invoking CMake... "),await cs(w,c,!1),console.log("[ DONE ]"),process.stdout.write(`> Invoking ${i.generatorBinary}... `),await cs(S,c,!1),console.log("[ DONE ]"),process.stdout.write(`> Copying ${i.projectName}.node to target directory... `),await he.ensureDir(y);const d=le(y,`${i.projectName}.node`),m=i.generatorToUse.includes("Visual Studio")?le(c,i.buildType,`${i.projectName}.node`):le(c,`${i.projectName}.node`);await he.copy(m,d),console.log("[ DONE ]"),console.log("Adding the built config to the manifest file...");const E=le(i.targetDirectory,"manifest.json");let h={};if(await he.pathExists(E)){const v=await he.readFile(E,"utf-8");h=JSON.parse(v)}h[JSON.stringify(r)]=ru(i.targetDirectory,d),await he.writeFile(E,JSON.stringify(h,null,2)),console.log("----------------- END CONFIG -----------------")}}Ff().catch(n=>{console.log("Generic error occured",n),process.exit(1)});
//# sourceMappingURL=main.mjs.map
